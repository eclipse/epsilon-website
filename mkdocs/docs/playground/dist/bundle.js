/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={85:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();!e&&"undefined"!=typeof window&&(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n=function(e,t,n){if("string"==typeof t){var s=o(e,t);if(null!=s)return n&&n(),s}else if("[object Array]"===Object.prototype.toString.call(t)){for(var r=[],a=0,l=t.length;a<l;++a){var c=o(e,t[a]);if(null==c&&i.original)return;r.push(c)}return n&&n.apply(null,r)||!0}},i=function(e,t){var s=n("",e,t);return null==s&&i.original?i.original.apply(this,arguments):s},s=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return s(e,n[0])+"!"+s(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},o=function(e,i){i=s(e,i);var o=t.modules[i];if(!o){if("function"==typeof(o=t.payloads[i])){var r={},a={id:i,uri:"",exports:r,packaged:!0},l=o((function(e,t){return n(i,e,t)}),r,a);r=l||a.exports,t.modules[i]=r,delete t.payloads[i]}o=t.modules[i]=r||o}return o};!function(n){var s=e;n&&(e[n]||(e[n]={}),s=e[n]),s.define&&s.define.packaged||(t.original=s.define,s.define=t,s.define.packaged=!0),s.require&&s.require.packaged||(i.original=s.require,s.require=i,s.require.packaged=!0)}("ace")}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})),String.prototype.repeat||i(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||i(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];null!=i&&Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||i(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var s=this[i];if(e.call(n,s,i,this))return s}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var s=this[i];if(e.call(n,s,i,this))return i}})),Array.prototype.includes||i(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||i(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,i=arguments[1],s=i>>0,o=s<0?Math.max(n+s,0):Math.min(s,n),r=arguments[2],a=void 0===r?n:r>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);o<l;)t[o]=e,o++;return t})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},s=function(e){null==n&&(n=setTimeout(i,e||t))};return s.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){n&&clearTimeout(n),n=null},s.isPending=function(){return n},s}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},s=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",r=i.appName||"";t.isWin="win"==s,t.isMac="mac"==s,t.isLinux="linux"==s,t.isIE="Microsoft Internet Explorer"==r||r.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";function i(){var e=a;a=null,e&&e.forEach((function(e){s(e[0],e[1])}))}function s(e,n,s){if("undefined"!=typeof document){if(a)if(s)i();else if(!1===s)return a.push([e,n]);if(!r){var o=s;s&&s.getRootNode&&(o=s.getRootNode())&&o!=s||(o=document);var l=o.ownerDocument||o;if(n&&t.hasCssString(n,o))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),o==l&&(o=t.getDocumentHead(l)),o.insertBefore(c,o.firstChild)}}}var o=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var s=document.createTextNode(t);return n&&n.appendChild(s),s}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),r=h;r<t.length;r++)e(t[r],l,i);return 2==h&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var s=n.indexOf(t);if(-1==s)break;i=!1,n.splice(s,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var r,a=[];if(t.useStrictCSP=function(e){r=e,0==e?i():a||(a=[])},t.importCssString=s,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),s=i.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",i.appendChild(n);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(i);var r=n.offsetWidth;s.overflow="scroll";var a=n.offsetWidth;return r===a&&(a=i.clientWidth),o.removeChild(i),r-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!o.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,o.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),!o.isEdge&&void 0!==l.style.animationName&&(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),s=document.createElement("script");s.src=e,n.appendChild(s),s.onload=s.onreadystatechange=function(e,n){!n&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var r=0;r<n.length&&(n[r](t,this),!t.propagationStopped);r++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],s=n._disabled_[e];s||(n._disabled_[e]=s=[]),s.push(i);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var s=i.indexOf(t);-1!=s&&i.splice(s,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){function i(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function s(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var o=e("./oop"),r=e("./event_emitter").EventEmitter,a={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];return n?n.forwardTo?this[n.forwardTo]&&this[n.forwardTo].setOption(e,t):(n.handlesSet||(this["$"+e]=t),void(n&&n.set&&n.set.call(this,t))):i('misspelled option "'+e+'"')}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:i('misspelled option "'+e+'"')}},l=function(){this.$defaultOptions={}};(function(){o.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),o.implement(e,a),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=i,this.reportError=s}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var i=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),o=e("./lib/dom"),r=e("./lib/app_config").AppConfig;n.exports=t=new r;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",s=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&n.length>1&&(s=n[n.length-2]);var r=a[t+"Path"];return null==r?r=a.basePath:"/"==i&&(t=i=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+i+s+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,n){return"ace/theme/textmate"==t?n(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(n,i){var o,r;Array.isArray(n)&&(r=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return i&&i(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){l(n,(function(e,i){t._emit("load.module",{name:n,module:i});var s=t.$loading[n];t.$loading[n]=null,s.forEach((function(e){e&&e(i)}))}))};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,r),a),c()}};var c=function(){!a.basePath&&!a.workerPath&&!a.modePath&&!a.themePath&&!Object.keys(a.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.14.0"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,i){"use strict";function s(t){if(a&&a.document){r.set("packaged",t||e.packaged||i.packaged||a.define&&n.amdD.packaged);for(var s={},l="",c=document.currentScript||document._currentScript,h=(c&&c.ownerDocument||document).getElementsByTagName("script"),u=0;u<h.length;u++){var d=h[u],p=d.src||d.getAttribute("src");if(p){for(var f=d.attributes,g=0,m=f.length;g<m;g++){var v=f[g];0===v.name.indexOf("data-ace-")&&(s[o(v.name.replace(/^data-ace-/,""))]=v.value)}var w=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(l=w[1])}}for(var b in l&&(s.base=s.base||l,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[b]&&r.set(b,s[b])}}function o(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}e("./lib/fixoldbrowsers");var r=e("./config");r.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var a=function(){return this||"undefined"!=typeof window&&window}();i.exports=function(t){r.init=s,t.require=e,t.define=n.amdD}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),s=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.PRINTABLE_KEYS[173]="-",n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";function i(){return null==a&&function(){a=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){a={passive:!1}}})}catch(e){}}(),a}function s(e,t,n){this.elem=e,this.type=t,this.callback=n}function o(e,t,n){var i=f(t);if(!c.isMac&&h){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),h.altGr){if(3==(3&i))return;h.altGr=0}if(18===n||17===n){var s="location"in t?t.location:t.keyLocation;17===n&&1===s?1==h[n]&&(u=t.timeStamp):18===n&&3===i&&2===s&&t.timeStamp-u<50&&(h.altGr=!0)}}if(n in l.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(s="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(c.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in l.FUNCTION_KEYS||n in l.PRINTABLE_KEYS)&&e(t,i,n)}}function r(){h=Object.create(null)}var a,l=e("./keys"),c=e("./useragent"),h=null,u=0;s.prototype.destroy=function(){p(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var d=t.addListener=function(e,t,n,o){e.addEventListener(t,n,i()),o&&o.$toDestroy.push(new s(e,t,n))},p=t.removeListener=function(e,t,n){e.removeEventListener(t,n,i())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||c.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){function i(e){t&&t(e),n&&n(e),p(s,"mousemove",t),p(s,"mouseup",i),p(s,"dragstart",i)}var s=e&&e.ownerDocument||document;return d(s,"mousemove",t),d(s,"mouseup",i),d(s,"dragstart",i),i},t.addMouseWheelListener=function(e,t,n){d(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,s,o){function r(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,c.isIE){var o=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;h&&!o||(u=1),h&&clearTimeout(h),h=setTimeout((function(){h=null}),n[u-1]||600),1==u&&(a=e.clientX,l=e.clientY)}if(e._clicks=u,i[s]("mousedown",e),u>4)u=0;else if(u>1)return i[s](p[u],e)}var a,l,h,u=0,p={2:"dblclick",3:"tripleclick",4:"quadclick"};Array.isArray(e)||(e=[e]),e.forEach((function(e){d(e,"mousedown",r,o)}))};var f=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};if(t.getModifierString=function(e){return l.KEY_MODS[f(e)]},t.addCommandKeyListener=function(e,n,i){if(c.isOldGecko||c.isOpera&&!("KeyboardEvent"in window)){var s=null;d(e,"keydown",(function(e){s=e.keyCode}),i),d(e,"keypress",(function(e){return o(n,e,s)}),i)}else{var a=null;d(e,"keydown",(function(e){h[e.keyCode]=(h[e.keyCode]||0)+1;var t=o(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),d(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),d(e,"keyup",(function(e){h[e.keyCode]=null}),i),h||(r(),d(window,"focus",r))}},"object"==typeof window&&window.postMessage&&!c.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+g++,s=function(o){o.data==i&&(t.stopPropagation(o),p(n,"message",s),e())};d(n,"message",s),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var s={row:t+1,column:0};else this.start.row<e&&(s={row:e,column:0});return i.fromPoints(s||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var s={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(s||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=e("../lib/dom"),r=e("../lib/lang"),a=e("../clipboard"),l=s.isChrome<18,c=s.isIE,h=s.isChrome>63,u=400,d=e("../lib/keys"),p=d.KEY_MODS,f=s.isIOS,g=f?/\s/:/\n/,m=s.isMobile;t.TextInput=function(e,t){function n(){_=!0,w.blur(),w.focus(),_=!1}function v(){clearTimeout(U),U=setTimeout((function(){k&&(w.style.cssText=k,k=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}var w=o.createElement("textarea");w.className="ace_text-input",w.setAttribute("wrap","off"),w.setAttribute("autocorrect","off"),w.setAttribute("autocapitalize","off"),w.setAttribute("spellcheck",!1),w.style.opacity="0",e.insertBefore(w,e.firstChild);var b=!1,y=!1,C=!1,x=!1,k="";m||(w.style.fontSize="1px");var S=!1,_=!1,A="",T=0,E=0,$=0;try{var L=document.activeElement===w}catch(e){}this.setAriaOptions=function(e){e.activeDescendant?(w.setAttribute("aria-haspopup","true"),w.setAttribute("aria-autocomplete","list"),w.setAttribute("aria-activedescendant",e.activeDescendant)):(w.setAttribute("aria-haspopup","false"),w.setAttribute("aria-autocomplete","both"),w.removeAttribute("aria-activedescendant")),e.role&&w.setAttribute("role",e.role)},this.setAriaOptions({role:"textbox"}),i.addListener(w,"blur",(function(e){_||(t.onBlur(e),L=!1)}),t),i.addListener(w,"focus",(function(e){if(!_){if(L=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout(M):M()}}),t),this.$focusScroll=!1,this.focus=function(){if(k||h||"browser"==this.$focusScroll)return w.focus({preventScroll:!0});var e=w.style.top;w.style.position="fixed",w.style.top="0px";try{var t=0!=w.getBoundingClientRect().top}catch(e){return}var n=[];if(t)for(var i=w.parentElement;i&&1==i.nodeType;)n.push(i),i.setAttribute("ace_nocontext",!0),i=!i.parentElement&&i.getRootNode?i.getRootNode().host:i.parentElement;w.focus({preventScroll:!0}),t&&n.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){w.style.position="","0px"==w.style.top&&(w.style.top=e)}),0)},this.blur=function(){w.blur()},this.isFocused=function(){return L},t.on("beforeEndOperation",(function(){var e=t.curOp,n=e&&e.command&&e.command.name;if("insertstring"!=n){var i=n&&(e.docChanged||e.selectionChanged);C&&i&&(A=w.value="",W()),M()}}));var M=f?function(e){if(L&&(!b||e)&&!x){e||(e="");var n="\n ab"+e+"cde fg\n";n!=w.value&&(w.value=A=n);var i=4+(e.length||(t.selection.isEmpty()?0:1));(4!=T||E!=i)&&w.setSelectionRange(4,i),T=4,E=i}}:function(){if(!C&&!x&&(L||I)){C=!0;var e=0,n=0,i="";if(t.session){var s=t.selection,o=s.getRange(),r=s.cursor.row;if(e=o.start.column,n=o.end.column,i=t.session.getLine(r),o.start.row!=r){var a=t.session.getLine(r-1);e=o.start.row<r-1?0:e,n+=a.length+1,i=a+"\n"+i}else if(o.end.row!=r){var l=t.session.getLine(r+1);n=o.end.row>r+1?l.length:n,n+=i.length+1,i=i+"\n"+l}else m&&r>0&&(i="\n"+i,n+=1,e+=1);i.length>u&&(e<u&&n<u?i=i.slice(0,u):(i="\n",e==n?e=n=0:(e=0,n=1)))}var c=i+"\n\n";if(c!=A&&(w.value=A=c,T=E=c.length),I&&(T=w.selectionStart,E=w.selectionEnd),E!=n||T!=e||w.selectionEnd!=E)try{w.setSelectionRange(e,n),T=e,E=n}catch(e){}C=!1}};this.resetSelection=M,L&&t.onFocus();var R=null;this.setInputHandler=function(e){R=e},this.getInputHandler=function(){return R};var I=!1,O=function(e,n){if(I&&(I=!1),y)return M(),e&&t.onPaste(e),y=!1,"";for(var i=w.selectionStart,o=w.selectionEnd,r=T,a=A.length-E,l=e,c=e.length-i,h=e.length-o,u=0;r>0&&A[u]==e[u];)u++,r--;for(l=l.slice(u),u=1;a>0&&A.length-u>T-1&&A[A.length-u]==e[e.length-u];)u++,a--;c-=u-1,h-=u-1;var d=l.length-u+1;if(d<0&&(r=-d,d=0),l=l.slice(0,d),!(n||l||c||r||a||h))return"";x=!0;var p=!1;return s.isAndroid&&". "==l&&(l="  ",p=!0),l&&!r&&!a&&!c&&!h||S?t.onTextInput(l):t.onTextInput(l,{extendLeft:r,extendRight:a,restoreStart:c,restoreEnd:h}),x=!1,A=e,T=i,E=o,$=h,p?"\n":l},D=function(e){if(C)return z();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var n=w.value,i=O(n,!0);(n.length>500||g.test(i)||m&&T<1&&T==E)&&M()},P=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var s=c||n?"Text":"text/plain";try{return t?!1!==i.setData(s,t):i.getData(s)}catch(e){if(!n)return P(e,t,!0)}}},B=function(e,n){var s=t.getCopyText();if(!s)return i.preventDefault(e);P(e,s)?(f&&(M(s),b=s,setTimeout((function(){b=!1}),10)),n?t.onCut():t.onCopy(),i.preventDefault(e)):(b=!0,w.value=s,w.select(),setTimeout((function(){b=!1,M(),n?t.onCut():t.onCopy()})))},F=function(e){B(e,!0)},N=function(e){B(e,!1)},H=function(e){var n=P(e);a.pasteCancelled()||("string"==typeof n?(n&&t.onPaste(n,e),s.isIE&&setTimeout(M),i.preventDefault(e)):(w.value="",y=!0))};i.addCommandKeyListener(w,t.onCommandKey.bind(t),t),i.addListener(w,"select",(function(e){C||(b?b=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=A.length&&e.value===A&&A&&e.selectionEnd!==E}(w)?(t.selectAll(),M()):m&&w.selectionStart!=T&&M())}),t),i.addListener(w,"input",D,t),i.addListener(w,"cut",F,t),i.addListener(w,"copy",N,t),i.addListener(w,"paste",H,t),(!("oncut"in w)||!("oncopy"in w)||!("onpaste"in w))&&i.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:N(e);break;case 86:H(e);break;case 88:F(e)}}),t);var z=function(){if(C&&t.onCompositionUpdate&&!t.$readOnly){if(S)return n();if(C.useTextareaForIME)t.onCompositionUpdate(w.value);else{var e=w.value;O(e),C.markerRange&&(C.context&&(C.markerRange.start.column=C.selectionStart=C.context.compositionStartOffset),C.markerRange.end.column=C.markerRange.start.column+E-C.selectionStart+$)}}},W=function(e){t.onCompositionEnd&&!t.$readOnly&&(C=!1,t.onCompositionEnd(),t.off("mousedown",n),e&&D())},V=r.delayedCall(z,50).schedule.bind(null,null);i.addListener(w,"compositionstart",(function(e){if(!C&&t.onCompositionStart&&!t.$readOnly&&(C={},!S)){e.data&&(C.useTextareaForIME=!1),setTimeout(z,0),t._signal("compositionStart"),t.on("mousedown",n);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,C.markerRange=i,C.selectionStart=T,t.onCompositionStart(C),C.useTextareaForIME?(A=w.value="",T=0,E=0):(w.msGetInputContext&&(C.context=w.msGetInputContext()),w.getInputContext&&(C.context=w.getInputContext()))}}),t),i.addListener(w,"compositionupdate",z,t),i.addListener(w,"keyup",(function(e){27==e.keyCode&&w.value.length<w.selectionStart&&(C||(A=w.value),T=E=-1,M()),V()}),t),i.addListener(w,"keydown",V,t),i.addListener(w,"compositionend",W,t),this.getElement=function(){return w},this.setCommandMode=function(e){S=e,w.readOnly=!1},this.setReadOnly=function(e){S||(w.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){I=!0,M(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,n){k||(k=w.style.cssText),w.style.cssText=(n?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(T+E)*t.renderer.characterWidth*.5+"px;";var r=t.container.getBoundingClientRect(),a=o.computedStyle(t.container),l=r.top+(parseInt(a.borderTopWidth)||0),c=r.left+(parseInt(r.borderLeftWidth)||0),h=r.bottom-l-w.clientHeight-2,u=function(e){o.translate(w,e.clientX-c-2,Math.min(e.clientY-l-2,h))};u(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(U),s.isWin&&i.capture(t.container,u,v))},this.onContextMenuClose=v;var U,G=function(e){t.textInput.onContextMenu(e),v()};i.addListener(w,"mouseup",G,t),i.addListener(w,"mousedown",(function(e){e.preventDefault(),v()}),t),i.addListener(t.renderer.scroller,"contextmenu",G,t),i.addListener(w,"contextmenu",G,t),f&&function(e,t,n){var i=null,s=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),s=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){s=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(s||C||t.$mouseHandler.isMousePressed||b)){var i=n.selectionStart,o=n.selectionEnd,r=null,a=0;if(0==i?r=d.up:1==i?r=d.home:o>E&&"\n"==A[o]?r=d.end:i<T&&" "==A[i-1]?(r=d.left,a=p.option):i<T||i==T&&E!=T&&i==o?r=d.left:o>E&&A.slice(0,o).split("\n").length>2?r=d.down:o>E&&" "==A[o-1]?(r=d.right,a=p.option):(o>E||o==E&&E!=T&&i==o)&&(r=d.right),i!==o&&(a|=p.shift),r){if(!t.onCommandKey({},a,r)&&t.commands){r=d.keyCodeToString(r);var l=t.commands.findKeyCommand(a,r);l&&t.execCommand(l)}T=i,E=o,M("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,w),this.destroy=function(){w.parentElement&&w.parentElement.removeChild(w)}},t.$setUserAgentForTests=function(e,t){m=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function s(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}var o=e("../lib/useragent");(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var i=this.editor,s=e.getButton();return 0!==s?((i.getSelectionRange().isEmpty()||1==s)&&i.selection.moveToPosition(n),void(2==s&&(i.textInput.onContextMenu(e.domEvent),o.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||i.isFocused()||(i.focus(),!this.$focusTimeout||this.$clickSelection||i.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var o=s(this.$clickSelection,n);n=o.cursor,e=o.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),o=n.selection[e](i.row,i.column);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(o.start),a=this.$clickSelection.comparePoint(o.end);if(-1==r&&a<=0)t=this.$clickSelection.end,o.end.row==i.row&&o.end.column==i.column||(i=o.start);else if(1==a&&r>=0)t=this.$clickSelection.start,o.start.row==i.row&&o.start.column==i.column||(i=o.end);else if(-1==r&&1==a)i=o.end,t=o.start;else{var l=s(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e=function(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(e>0||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,s=i-n.t,o=s?e.wheelX/s:n.vx,r=s?e.wheelY/s:n.vy;s<550&&(o=(o+n.vx)/2,r=(r+n.vy)/2);var a=Math.abs(o/r),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(r)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(i.prototype),t.DefaultHandlers=i})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}e("./lib/oop");var s=e("./lib/dom"),o="ace_tooltip";(function(){this.$init=function(){return this.$element=s.createElement("div"),this.$element.className=o,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){s.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=o,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(i.prototype),t.Tooltip=i})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";function i(e){a.call(this,e)}var s=e("../lib/dom"),o=e("../lib/oop"),r=e("../lib/event"),a=e("../tooltip").Tooltip;o.inherits(i,a),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();(e+=15)+s>n&&(e-=e+s-n),(t+=15)+o>i&&(t-=20+o),a.prototype.setPosition.call(this,e,t)}}.call(i.prototype),t.GutterHandler=function(e){function t(){var t=l.getDocumentPosition().row,i=u.$annotations[t];if(!i)return n();if(t==h.session.getLength()){var s=h.renderer.pixelToScreenCoordinates(0,l.y).row,r=l.$pos;if(s>h.session.documentToScreenRow(r.row,r.column))return n()}if(c!=i){c=i.text.join("<br/>"),d.setHtml(c);var a=i.className;if(a&&d.setClassName(a.trim()),d.show(),h._signal("showGutterTooltip",d),h.on("mousewheel",n),e.$tooltipFollowsMouse)o(l);else{var p=l.domEvent.target.getBoundingClientRect(),f=d.getElement().style;f.left=p.right+"px",f.top=p.bottom+"px"}}}function n(){a&&(a=clearTimeout(a)),c&&(d.hide(),c=null,h._signal("hideGutterTooltip",d),h.off("mousewheel",n))}function o(e){d.setPosition(e.x,e.y)}var a,l,c,h=e.editor,u=h.renderer.$gutterLayer,d=new i(h.container);e.editor.setDefaultHandler("guttermousedown",(function(t){if(h.isFocused()&&0==t.getButton()&&"foldWidgets"!=u.getRegion(t)){var n=t.getDocumentPosition().row,i=h.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return h.selectAll(),t.preventDefault();e.$clickSelection=h.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(i){var r=i.domEvent.target||i.domEvent.srcElement;if(s.hasCssClass(r,"ace_fold-widget"))return n();c&&e.$tooltipFollowsMouse&&o(i),l=i,a||(a=setTimeout((function(){a=null,l&&!e.isMousePressed?t():n()}),50))})),r.addListener(h.renderer.$gutter,"mouseout",(function(e){l=null,c&&!a&&(a=setTimeout((function(){a=null,n()}),50))}),h),h.on("changeSession",n)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e){function t(){var e=C;(function(e,t){var n=Date.now(),i=!t||e.row!=t.row,o=!t||e.column!=t.column;!_||i||o?(f.moveCursorToPosition(e),_=n,A={x:v,y:w}):s(A.x,A.y,v,w)>h?_=null:n-_>=c&&(f.renderer.scrollCursorIntoView(),_=null)})(C=f.renderer.screenToTextCoordinates(v,w),e),function(e,t){var n=Date.now(),i=f.renderer.layerConfig.lineHeight,s=f.renderer.layerConfig.characterWidth,o=f.renderer.scroller.getBoundingClientRect(),r={x:{left:v-o.left,right:o.right-v},y:{top:w-o.top,bottom:o.bottom-w}},a=Math.min(r.x.left,r.x.right),c=Math.min(r.y.top,r.y.bottom),h={row:e.row,column:e.column};a/s<=2&&(h.column+=r.x.left<r.x.right?-3:2),c/i<=1&&(h.row+=r.y.top<r.y.bottom?-1:1);var u=e.row!=h.row,d=e.column!=h.column,p=!t||e.row!=t.row;u||d&&!p?S?n-S>=l&&f.renderer.scrollCursorIntoView(h):S=n:S=null}(C,e)}function n(){y=f.selection.toOrientedRange(),m=f.session.addMarker(y,"ace_selection",f.getSelectionStyle()),f.clearSelection(),f.isFocused()&&f.renderer.$cursorLayer.setBlinking(!1),clearInterval(b),t(),b=setInterval(t,20),E=0,r.addListener(document,"mousemove",u)}function i(){clearInterval(b),f.session.removeMarker(m),m=null,f.selection.fromOrientedRange(y),f.isFocused()&&!k&&f.$resetCursorStyle(),y=null,C=null,E=0,S=null,_=null,r.removeListener(document,"mousemove",u)}function u(){null==$&&($=setTimeout((function(){null!=$&&m&&i()}),20))}function d(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function p(e){var t=["copy","copymove","all","uninitialized"],n=a.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return n&&t.indexOf(i)>=0?s="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?s="move":t.indexOf(i)>=0&&(s="copy"),s}var f=e.editor,g=o.createElement("div");g.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",g.textContent="",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),f.on("mousedown",this.onMouseDown.bind(e));var m,v,w,b,y,C,x,k,S,_,A,T=f.container,E=0;this.onDragStart=function(e){if(this.cancelDrag||!T.draggable){var t=this;return setTimeout((function(){t.startSelect(),t.captureMouse(e)}),0),e.preventDefault()}y=f.getSelectionRange();var n=e.dataTransfer;n.effectAllowed=f.getReadOnly()?"copy":"copyMove",f.container.appendChild(g),n.setDragImage&&n.setDragImage(g,0,0),setTimeout((function(){f.container.removeChild(g)})),n.clearData(),n.setData("Text",f.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(e){if(T.draggable=!1,k=!1,this.setState(null),!f.getReadOnly()){var t=e.dataTransfer.dropEffect;!x&&"move"==t&&f.session.remove(f.getSelectionRange()),f.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!f.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,w=e.clientY,m||n(),E++,e.dataTransfer.dropEffect=x=p(e),r.preventDefault(e)},this.onDragOver=function(e){if(!f.getReadOnly()&&d(e.dataTransfer))return v=e.clientX,w=e.clientY,m||(n(),E++),null!==$&&($=null),e.dataTransfer.dropEffect=x=p(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--E<=0&&m)return i(),x=null,r.preventDefault(e)},this.onDrop=function(e){if(C){var t=e.dataTransfer;if(k)switch(x){case"move":y=y.contains(C.row,C.column)?{start:C,end:C}:f.moveText(y,C);break;case"copy":y=f.moveText(y,C,!0)}else{var n=t.getData("Text");y={start:C,end:f.session.insert(C,n)},f.focus(),x=null}return i(),r.preventDefault(e)}},r.addListener(T,"dragstart",this.onDragStart.bind(e),f),r.addListener(T,"dragend",this.onDragEnd.bind(e),f),r.addListener(T,"dragenter",this.onDragEnter.bind(e),f),r.addListener(T,"dragover",this.onDragOver.bind(e),f),r.addListener(T,"dragleave",this.onDragLeave.bind(e),f),r.addListener(T,"drop",this.onDrop.bind(e),f);var $=null}function s(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}var o=e("../lib/dom"),r=e("../lib/event"),a=e("../lib/useragent"),l=200,c=200,h=5;(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=a.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;a.isIE&&"dragReady"==this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&s(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;"unselectable"in s&&(s.unselectable="on"),t.getDragDelay()?(a.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(i.prototype),t.DragdropHandler=i})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,s=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){function n(){var e=window.navigator&&window.navigator.clipboard,n=!1,i=function(){var i=t.getCopyText(),s=t.session.getUndoManager().hasUndo();v.replaceChild(o.buildDom(n?["span",!i&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],i&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],i&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),v.firstChild)},s=function(s){var o=s.target.getAttribute("action");if("more"==o||!n)return n=!n,i();"paste"==o?e.readText().then((function(e){t.execCommand(o,e)})):o&&("cut"!=o&&"copy"!=o||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(o)),v.firstChild.style.display="none",n=!1,"openCommandPallete"!=o&&t.focus()};v=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){w="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),s(e)},onclick:s},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}function r(){v||n();var e=t.selection.cursor,i=t.renderer.textToScreenCoordinates(e.row,e.column),s=t.renderer.textToScreenCoordinates(0,0).pageX,o=t.renderer.scrollLeft,r=t.container.getBoundingClientRect();v.style.top=i.pageY-r.top-3+"px",i.pageX-r.left<r.width-70?(v.style.left="",v.style.right="10px"):(v.style.right="",v.style.left=s+o-r.left+"px"),v.style.display="",v.firstChild.style.display="none",t.on("input",a)}function a(e){v&&(v.style.display="none"),t.off("input",a)}function l(){p=null,clearTimeout(p);var e=t.selection.getRange(),n=e.contains(g.row,g.column);!e.isEmpty()&&n||(t.selection.moveToPosition(g),t.selection.selectWord()),w="wait",r()}var c,h,u,d,p,f,g,m,v,w="scroll",b=0,y=0,C=0,x=0;s.addListener(e,"contextmenu",(function(e){m&&t.textInput.getElement().focus()}),t),s.addListener(e,"touchstart",(function(e){var n=e.touches;if(p||n.length>1)return clearTimeout(p),p=null,u=-1,void(w="zoom");m=t.$mouseHandler.isMousePressed=!0;var s=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.lineHeight,r=e.timeStamp;d=r;var a=n[0],f=a.clientX,v=a.clientY;Math.abs(c-f)+Math.abs(h-v)>s&&(u=-1),c=e.clientX=f,h=e.clientY=v,C=x=0;var k=new i(e,t);if(g=k.getDocumentPosition(),r-u<500&&1==n.length&&!b)y++,e.preventDefault(),e.button=0,function(){p=null,clearTimeout(p),t.selection.moveToPosition(g);var e=y>=2?t.selection.getLineRange(g.row):t.session.getBracketRange(g);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),w="wait"}();else{y=0;var S=t.selection.cursor,_=t.selection.isEmpty()?S:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(S,!0),T=t.renderer.$cursorLayer.getPixelPosition(_,!0),E=t.renderer.scroller.getBoundingClientRect(),$=t.renderer.layerConfig.offset,L=t.renderer.scrollLeft,M=function(e,t){return(e/=o)*e+(t=t/s-.75)*t};if(e.clientX<E.left)return void(w="zoom");var R=M(e.clientX-E.left-A.left+L,e.clientY-E.top-A.top+$),I=M(e.clientX-E.left-T.left+L,e.clientY-E.top-T.top+$);R<3.5&&I<3.5&&(w=R>I?"cursor":"anchor"),w=I<3.5?"anchor":R<3.5?"cursor":"scroll",p=setTimeout(l,450)}u=r}),t),s.addListener(e,"touchend",(function(e){m=t.$mouseHandler.isMousePressed=!1,f&&clearInterval(f),"zoom"==w?(w="",b=0):p?(t.selection.moveToPosition(g),b=0,r()):"scroll"==w?(b+=60,f=setInterval((function(){b--<=0&&(clearInterval(f),f=null),Math.abs(C)<.01&&(C=0),Math.abs(x)<.01&&(x=0),b<20&&(C*=.9),b<20&&(x*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*C,10*x),e==t.session.getScrollTop()&&(b=0)}),10),a()):r(),clearTimeout(p),p=null}),t),s.addListener(e,"touchmove",(function(e){p&&(clearTimeout(p),p=null);var n=e.touches;if(!(n.length>1||"zoom"==w)){var s=n[0],o=c-s.clientX,r=h-s.clientY;if("wait"==w){if(!(o*o+r*r>4))return e.preventDefault();w="cursor"}c=s.clientX,h=s.clientY,e.clientX=s.clientX,e.clientY=s.clientY;var a=e.timeStamp,l=a-d;if(d=a,"scroll"==w){var u=new i(e,t);u.speed=1,u.wheelX=o,u.wheelY=r,10*Math.abs(o)<Math.abs(r)&&(o=0),10*Math.abs(r)<Math.abs(o)&&(r=0),0!=l&&(C=o/l,x=r/l),t._emit("mousewheel",u),u.propagationStopped||(C=x=0)}else{var f=new i(e,t).getDocumentPosition();"cursor"==w?t.selection.moveCursorToPosition(f):"anchor"==w&&t.selection.setSelectionAnchor(f.row,f.column),t.renderer.scrollCursorIntoView(f),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,h=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new r(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var h=e.renderer.$gutter;i.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(h,"mousedown",n,e),s.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),s=e.session.selection.getRange(),o=e.renderer;!s.isEmpty()&&s.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var r=this,l=function(e){if(e)return s.isWebKit&&!e.which&&r.releaseMouse?r.releaseMouse():(r.x=e.clientX,r.y=e.clientY,t&&t(e),r.mouseEvent=new a(e,r.editor),void(r.$mouseMoved=!0))},c=function(e){n.off("beforeEndOperation",u),clearInterval(d),n.session&&h(),r[r.state+"End"]&&r[r.state+"End"](e),r.state="",r.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),r.$onCaptureMouseMove=r.releaseMouse=null,e&&r.onMouseEvent("mouseup",e),n.endOperation()},h=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(s.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var u=function(e){r.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(r[r.state+"End"]&&r[r.state+"End"](),r.state="",r.releaseMouse())};n.on("beforeEndOperation",u),n.startOperation({command:{name:"mouse"}}),r.$onCaptureMouseMove=l,r.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),h.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),s=e.session,o=s.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?s.removeFold(o):s.expandFold(o),t.stop());var r=t.domEvent&&t.domEvent.target;r&&i.hasCssClass(r,"ace_inline_button")&&i.hasCssClass(r,"ace_toggle_wrap")&&(s.setOption("wrap",!s.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(n,!0),o=s.range||s.firstRange;if(o){n=o.start.row;var r=i.getFoldAt(n,i.getLine(n).length,1);r?i.removeFold(r):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),s=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"==typeof e&&!e.handleKeyboard&&(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,r=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((r="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&s.stopEvent(i),r)););return!r&&-1==e&&(o={command:"insertstring"},r=a.exec("insertstring",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),r},this.onCommandKey=function(e,t,n){var s=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,s,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";function i(e,t,n,i){var s=a?p:d,f=null,g=null,m=null,v=0,w=null,b=-1,x=null,S=null,_=[];if(!i)for(x=0,i=[];x<n;x++)i[x]=r(e[x]);for(l=a,c=!1,h=!1,u=!1,S=0;S<n;S++){if(f=v,_[S]=g=o(e,i,_,S),w=240&(v=s[f][g]),v&=15,t[S]=m=s[v][5],w>0)if(16==w){for(x=b;x<S;x++)t[x]=1;b=-1}else b=-1;if(s[v][6])-1==b&&(b=S);else if(b>-1){for(x=b;x<S;x++)t[x]=m;b=-1}i[S]==y&&(t[S]=0),l|=m}if(u)for(x=0;x<n;x++)if(i[x]==C){t[x]=a;for(var A=x-1;A>=0&&i[A]==k;A--)t[A]=a}}function s(e,t,n){if(!(l<e))if(1!=e||a!=f||h)for(var i,s,o,r,c=n.length,u=0;u<c;){if(t[u]>=e){for(i=u+1;i<c&&t[i]>=e;)i++;for(s=u,o=i-1;s<o;s++,o--)r=n[s],n[s]=n[o],n[o]=r;u=i}u++}else n.reverse()}function o(e,t,n,i){var s,o,r,l,d=t[i];switch(d){case g:case m:c=!1;case b:case w:return d;case v:return c?w:v;case x:return c=!0,m;case k:return b;case S:return i<1||i+1>=t.length||(s=n[i-1])!=v&&s!=w||(o=t[i+1])!=v&&o!=w?b:(c&&(o=w),o==s?o:b);case _:return(s=i>0?n[i-1]:y)==v&&i+1<t.length&&t[i+1]==v?v:b;case A:if(i>0&&n[i-1]==v)return v;if(c)return b;for(l=i+1,r=t.length;l<r&&t[l]==A;)l++;return l<r&&t[l]==v?v:b;case T:for(r=t.length,l=i+1;l<r&&t[l]==T;)l++;if(l<r){var p=e[i],f=p>=1425&&p<=2303||64286==p;if(s=t[l],f&&(s==m||s==x))return m}return i<1||(s=t[i-1])==y?b:n[i-1];case y:return c=!1,h=!0,a;case C:return u=!0,b;case E:case $:case M:case R:case L:c=!1;case I:return b}}function r(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?g:O[t]:5==n?/[\u0591-\u05f4]/.test(e)?m:g:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?T:/[\u0660-\u0669\u066b-\u066c]/.test(e)?w:1642==t?A:/[\u06f0-\u06f9]/.test(e)?v:x:32==n&&t<=8287?D[255&t]:254==n&&t>=65136?x:b}var a=0,l=0,c=!1,h=!1,u=!1,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],f=1,g=0,m=1,v=2,w=3,b=4,y=5,C=6,x=7,k=8,S=9,_=10,A=11,T=12,E=13,$=14,L=15,M=16,R=17,I=18,O=[I,I,I,I,I,I,I,I,I,C,y,C,k,y,I,I,I,I,I,I,I,I,I,I,I,I,I,I,y,y,y,C,k,b,b,A,A,A,b,b,b,b,b,_,S,_,S,S,v,v,v,v,v,v,v,v,v,v,S,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,b,b,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,b,b,b,b,I,I,I,I,I,I,y,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,I,S,b,A,A,A,A,b,b,b,b,g,b,b,I,b,b,A,A,v,v,b,g,b,b,b,v,g,b,b,b,b,b],D=[k,k,k,k,k,k,k,k,k,k,k,I,I,I,g,m,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k,y,E,$,L,M,R,S,A,A,A,A,A,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,S,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,k];t.L=g,t.R=m,t.EN=v,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,o){if(e.length<2)return{};var r=e.split(""),l=new Array(r.length),c=new Array(r.length),h=[];a=o?f:0,i(r,h,r.length,n);for(var u=0;u<l.length;l[u]=u,u++);for(s(2,h,l),s(1,h,l),u=0;u<l.length-1;u++)n[u]===w?h[u]=t.AN:h[u]===m&&(n[u]>x&&n[u]<E||n[u]===b||n[u]===I)?h[u]=t.ON_R:u>0&&""===r[u-1]&&/\u0622|\u0623|\u0625|\u0627/.test(r[u])&&(h[u-1]=h[u]=t.R_H,u++);for(r[r.length-1]===t.DOT&&(h[r.length-1]=t.B),""===r[0]&&(h[0]=t.RLE),u=0;u<l.length;u++)c[u]=h[l[u]];return{logicalFromVisual:l,bidiLevels:c}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=r(e.charAt(i)),!n&&(t[i]==m||t[i]==x||t[i]==w)&&(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),s=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,r=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var r,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(r="\t"===e?a.getScreenTabSize(t+l):2,l+=r-1,s.stringRepeat(i.DOT,r)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,s=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&e<=t&&o[s]%2!=0&&s++;for(var a=0;a<s;a++)r+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[s]%2==0&&(r+=this.charWidths[o[s]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},this.getSelections=function(e,t){var n,i=this.bidiMap,s=i.bidiLevels,o=[],r=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,u=0;this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<s.length;p++)d=i.logicalFromVisual[p],n=s[p],(c=d>=a&&d<l)&&!h?u=r:!c&&h&&o.push({left:u,width:r-u}),r+=this.charWidths[n],h=c;if(c&&p===s.length&&o.push({left:u,width:r-u}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,s=this.bidiMap.bidiLevels,o=this.charWidths[s[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===s.length-1){o=0;break}o=this.charWidths[s[++i]]}return i>0&&s[i-1]%2!=0&&s[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&s[i-1]%2==0&&s[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===s.length-1&&0===o&&s[i-1]%2==0||!this.isRtlDir&&0===i&&s[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&s[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(r.prototype),t.BidiHandler=r})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),!t.$isEmpty&&!t.$silent&&t._emit("changeSelection"),!t.$keepDesiredColumnOnChange&&e.old.column!=e.value.column&&(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,!t.$isEmpty&&!t.$silent&&t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var s=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!r.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||s!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(i);return s?(i=s.start.row,n=s.end.row):n=i,!0===t?new r(i,0,n,this.session.getLine(n).length):new r(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,s=e.column+t;return n<0&&(i=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,s).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),s=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);s[0].length!=t&&!this.session.$useEmacsStyleLineStart&&(i.column+=s[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=s.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(s.lastIndex=0;(t=e[n])&&!s.test(t);)if(s.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return s.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var r=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=s.stringReverse(i),r=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var s=this.session.lineWidgets[this.lead.row];e<0?e-=s.rowsAbove||0:e>0&&(e+=s.rowCount-(s.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return r.fromPoints(t,n)}catch(e){return r.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=r.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),s=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===r.indexOf("i")&&(r+="i"),c.unicode&&-1===r.indexOf("u")&&(r+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"==typeof c.token&&!c.onMatch&&(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+s+1)})):(u=1,h=this.removeCapturingGroups(c.regex)),!c.splitRegex&&"string"!=typeof c.token&&a.push(c)),o[s]=l,s+=u,i.push(h),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],s=0,o=n.length;s<o;s++)t[s]&&(i[i.length]={type:n[s],value:t[s]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,s=0,o=i.length;s<o;s++)t[s+1]&&(n[n.length]={type:i[s],value:t[s+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,s={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,r,a,l){return i?i="]"!=a:a?i=!0:r?(n==s.stack&&(s.end=l+1,s.stack=-1),n--):o&&(n++,1!=o.length&&(s.stack=n,s.start=l)),e})),null!=s.end&&/^\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var r=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],h=0,u=0,d={type:null,value:""};l=a.exec(e);){var p=r.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>h){var v=e.substring(h,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var w=0;w<l.length-2;w++)if(void 0!==l[w+1]){p=(f=o[r[w]]).onMatch?f.onMatch(g,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),r=this.matchMappings[i],h=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(h=m);break}if(g)if("string"==typeof p)f&&!1===f.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p)for(d.type&&c.push(d),d={type:null,value:""},w=0;w<p.length;w++)c.push(p[w]);if(h==e.length)break;if(h=m,u++>s){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)d.type&&c.push(d),d={value:e.substring(h,h+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],s=0;s<i.length;s++){var o=i[s];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,s,o){var r="function"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else for(var l in s=[],r)s.push(t+l);if(this.addRules(r,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<s.length;a++)c.apply(this.$rules[s[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function s(o){var r=i[o];r.processed=!0;for(var a=0;a<r.length;a++){var l=r[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h=l.next||l.push;if(h&&Array.isArray(h)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),i[u]&&(u+=n++)),i[u]=h,l.next=u,s(u)}else"pop"==h&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),r.splice.apply(r,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var s=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),r=o.length;r--;){var a=o[r];this.$keywordList.push(a),n&&(a=a.toLowerCase()),s[a]=t}}),this),e=null,n?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(!e)return this.$behaviours;for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,s=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,s=e("../../lib/oop"),o=e("../behaviour").Behaviour,r=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},u={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return i=h[t];i=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var s=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,s,o,r){var l=s.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==r){d(s);var h=s.getSelectionRange(),u=o.doc.getTextRange(h);if(""!==u&&"{"!==u&&s.getWrapBehavioursEnabled())return p(h,u,"{","}");if(f.isSaneInsertion(s,o))return/[\]\}\)]/.test(c[l.column])||s.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if(d(s),"}"==c.substring(l.column,l.column+1)&&null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){d(s);var g="";if(f.isMaybeInsertedClosing(l,c)&&(g=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(o.getLine(m.row))}else{if(!g)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var w=v+o.getTabString();return{text:"\n"+w+"\n"+v+g,selection:[1,w.length,1,w.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,s,o){var r=s.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==r){if(d(n),"}"==s.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,s){if("("==s){d(n);var o=n.getSelectionRange(),r=i.doc.getTextRange(o);if(""!==r&&n.getWrapBehavioursEnabled())return p(o,r,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==s){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&"("==o&&(d(n),")"==i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("brackets","insertion",(function(e,t,n,i,s){if("["==s){d(n);var o=n.getSelectionRange(),r=i.doc.getTextRange(o);if(""!==r&&n.getWrapBehavioursEnabled())return p(o,r,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&"["==o&&(d(n),"]"==i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("string_dquotes","insertion",(function(e,t,n,i,s){var o=i.$mode.$quotes||u;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;d(n);var r=s,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(""!==l&&(1!=l.length||!o[l])&&n.getWrapBehavioursEnabled())return p(a,l,r,r);if(!l){var c=n.getCursorPosition(),h=i.doc.getLine(c.row),f=h.substring(c.column-1,c.column),g=h.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var w,b=m&&/string|escape/.test(m.type),y=!v||/string|escape/.test(v.type);if(g==r)(w=b!==y)&&/string\.end/.test(v.type)&&(w=!1);else{if(b&&!y)return null;if(b&&y)return null;var C=i.$mode.tokenRe;C.lastIndex=0;var x=C.test(f);C.lastIndex=0;var k=C.test(f);if(x||k)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var S=h[c.column-2];if(f==r&&(S==r||C.test(S)))return null;w=!0}return{text:w?r+r:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,s){var o=i.$mode.$quotes||u,r=i.doc.getTextRange(s);if(!s.isMultiLine()&&o.hasOwnProperty(r)&&(d(n),i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==r))return s.end.column++,s}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new r(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var s=new r(t,n.row,n.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isAutoInsertedClosing(s,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=s.row,i.autoInsertedLineEnd=n+o.substr(s.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isMaybeInsertedClosing(s,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=s.row,i.maybeInsertedLineStart=o.substr(0,s.column)+n,i.maybeInsertedLineEnd=o.substr(s.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},s.inherits(f,o),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<i.length;r+=2)o.push(s+=i[r]),i[r+1]&&o.push(45,s+=i[r+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),s=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,h=e("../range").Range,u=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){function s(e){for(var t=n;t<=i;t++)e(o.getLine(t),t)}var o=t.doc,r=!0,a=!0,c=1/0,h=t.getTabSize(),u=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(m=this.lineCommentStart.map(l.escapeRegExp).join("|"),f=this.lineCommentStart[0]):(m=l.escapeRegExp(this.lineCommentStart),f=this.lineCommentStart),m=new RegExp("^(\\s*)(?:"+m+") ?"),u=t.getUseSoftTabs(),b=function(e,t){var n=e.match(m);if(n){var i=n[1].length,s=n[0].length;!p(e,i,s)&&" "==n[0][s-1]&&s--,o.removeInLine(t,i,s)}};var d=f+" ",p=(w=function(e,t){r&&!/\S/.test(e)||(p(e,c,c)?o.insertInLine({row:t,column:c},d):o.insertInLine({row:t,column:c},f))},y=function(e,t){return m.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%h!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return h>2?i%h!=h-1:i%h==0})}else{if(!this.blockComment)return!1;var f=this.blockComment.start,g=this.blockComment.end,m=new RegExp("^(\\s*)(?:"+l.escapeRegExp(f)+")"),v=new RegExp("(?:"+l.escapeRegExp(g)+")\\s*$"),w=function(e,t){y(e,t)||r&&!/\S/.test(e)||(o.insertInLine({row:t,column:e.length},g),o.insertInLine({row:t,column:c},f))},b=function(e,t){var n;(n=e.match(v))&&o.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(m))&&o.removeInLine(t,n[1].length,n[0].length)},y=function(e,n){if(m.test(e))return!0;for(var i=t.getTokens(n),s=0;s<i.length;s++)if("comment"===i[s].type)return!0}}var C=1/0;s((function(e,t){var n=e.search(/\S/);-1!==n?(n<c&&(c=n),a&&!y(e,t)&&(a=!1)):C>e.length&&(C=e.length)})),c==1/0&&(c=C,r=!1,a=!1),u&&c%h!=0&&(c=Math.floor(c/h)*h),s(a?b:w)},this.toggleBlockComment=function(e,t,n,i){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(s.start))){var p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;u=new h(p,f,p,f+s.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(s.end))){p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m,d=new h(p,f,p,f+s.end.length);break}a=g.stepForward()}d&&t.remove(d),u&&(t.remove(u),o=u.start.row,r=-s.start.length)}else r=s.start.length,o=n.start.row,t.insert(n.end,s.end),t.insert(n.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],s=n.prototype.$id,o=i.$modes[s];o||(i.$modes[s]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<r.length;t++)!function(e){var n=r[t],i=e[n];e[r[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var s=i[2][i[2].length-1];if(r=this.$modes[s])return r[e].apply(r,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var s=t[i],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&n.push(s[o].regex);else if("object"==typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)/keyword|support|storage/.test(s[o].token[a])&&(i=s[o].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,s=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[i,1].concat(t.lines);e.splice.apply(e,r),e[i]=o.substring(0,s)+e[i],e[i+t.lines.length-1]+=o.substring(s)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,s)+o.substring(a):e.splice(i,l-i+1,o.substring(0,s)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}function t(t,n,i){var s="insert"==t.action,o=(s?1:-1)*(t.end.row-t.start.row),r=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?r:0)}:{row:a.row,column:a.column}}i.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(e){if(!(e.start.row==e.end.row&&e.start.row!=this.row||e.start.row>this.row)){var n=t(e,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var s={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:s,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new r(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),s=this.clippedPos(e,n);return this.applyDelta({start:i,end:s,action:"remove",lines:this.getLinesForRange({start:i,end:s})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,s=n?e-1:e,o=n?this.getLine(s).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new r(s,o,a,l),h=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof r||(e=r.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!r.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(s(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,s=e.start.row,o=e.start.column,r=0,a=0;r<i;r=a){a+=t-1;var l=n.slice(r,a);l.push(""),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(r),e.start.row=s+r,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=t||0,o=n.length;s<o;s++)if((e-=n[s].length+i)<0)return{row:s,column:e+n[s].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,n.length),r=t||0;r<o;++r)s+=n[r].length+i;return s+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,s=n.doc,o=t;n.lines[t];)t++;var r=s.getLength(),a=0;for(n.running=!1;t<r;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),s=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var r=o.firstRow,a=o.lastRow,l={},c=r;c<=a;c++){var h=this.cache[c];null==h&&((h=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new s(c,e.offset,c,e.offset+e.length)})),this.cache[c]=h.length?h:"");for(var u=h.length;u--;){var d=h[u].toScreenRange(n),p=d.toString();l[p]||(l[p]=!0,t.drawSingleLineMarker(e,d,this.clazz,o))}}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new s(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}var s=e("../range").Range;(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(i=r[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===s)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,s=0;s<this.folds.length;s++){if(-1==(i=(n=this.folds[s]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,s,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var r=(s=this.folds).indexOf(i);for(0===r&&(this.start.column+=n);r<s.length;r++){if((i=s[r]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var s=n.fold,o=this.folds,r=this.foldData,a=o.indexOf(s),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new i(r,o=o.splice(a,o.length-a));return r.splice(r.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(i.prototype),t.FoldLine=i})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,s=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var s=this.ranges,o=n||0;o<s.length;o++){var r=s[o],a=i(e,r.end);if(!(a>0)){var l=i(e,r.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){var e=[],t=this.ranges;t=t.sort((function(e,t){return i(e.start,t.start)}));for(var n,s=t[0],o=1;o<t.length;o++){n=s,s=t[o];var r=i(n.end,s.start);r<0||(0!=r||n.isEmpty()||s.isEmpty())&&(i(n.end,s.end)<0&&(n.end.row=s.end.row,n.end.column=s.end.column),t.splice(o,1),e.push(s),s=n,o--)}return this.ranges=t,e},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var s=this.pointIndex({row:t,column:0},i);s<0&&(s=-s-1);for(var o=[],r=i;r<s;r++)o.push(n[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,s=n.row,o=this.ranges,r=0,a=o.length;r<a&&!((h=o[r]).end.row>=i);r++);if("insert"==e.action){for(var l=s-i,c=-t.column+n.column;r<a&&!((h=o[r]).start.row>i);r++)if(h.start.row==i&&h.start.column>=t.column&&(h.start.column==t.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=l)),h.end.row==i&&h.end.column>=t.column){if(h.end.column==t.column&&this.$bias<0)continue;h.end.column==t.column&&c>0&&r<a-1&&h.end.column>h.start.column&&h.end.column==o[r+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=l}}else for(l=i-s,c=t.column-n.column;r<a&&!((h=o[r]).start.row>s);r++)h.end.row<s&&(i<h.end.row||i==h.end.row&&t.column<h.end.column)?(h.end.row=i,h.end.column=t.column):h.end.row==s?h.end.column<=n.column?(l||h.end.column>t.column)&&(h.end.column=t.column,h.end.row=t.row):(h.end.column+=c,h.end.row+=l):h.end.row>s&&(h.end.row+=l),h.start.row<s&&(i<h.start.row||i==h.start.row&&t.column<h.start.column)?(h.start.row=i,h.start.column=t.column):h.start.row==s?h.start.column<=n.column?(l||h.start.column>t.column)&&(h.start.column=t.column,h.start.row=t.row):(h.start.column+=c,h.start.row+=l):h.start.row>s&&(h.start.row+=l);if(0!=l&&r<a)for(;r<a;r++){var h;(h=o[r]).start.row+=l,h.end.row+=l}}}).call(s.prototype),t.RangeList=s})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";function i(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function s(e,t){i(e.start,t),i(e.end,t)}function o(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}var r=e("../range_list").RangeList,a=e("../lib/oop"),l=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};a.inherits(l,r),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new l(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){s(e,this.start);for(var t=e.start.row,n=e.start.column,i=0,o=-1;i<this.subFolds.length&&1==(o=this.subFolds[i].range.compare(t,n));i++);var r=this.subFolds[i],a=0;if(0==o){if(r.range.containsRange(e))return r.addSubFold(e);a=1}t=e.range.end.row,n=e.range.end.column;var l=i;for(o=-1;l<this.subFolds.length&&1==(o=this.subFolds[l].range.compare(t,n));l++);0==o&&l++;for(var c=this.subFolds.splice(i,l-i,e),h=0==o?c.length-1:c.length,u=a;u<h;u++)e.addSubFold(c[u]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){o(e.start,t),o(e.end,t)}(e,this.start)}}.call(l.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,r=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var s=i.folds,o=0;o<s.length;o++){var r=s[o].range;if(r.contains(e,t)){if(1==n&&r.isEnd(e,t)&&!r.isEmpty())continue;if(-1==n&&r.isStart(e,t)&&!r.isEmpty())continue;return s[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,s=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var r=i[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(r=c.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(c)}}}}return t.column-=1,n.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==n?s.substring(0,t-r.end.column):1==n?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var s=n[i];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var s=n[i];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,s=0;s<n.length;s++){var o=n[s],r=o.end.row,a=o.start.row;if(r>=t){a<t&&(a>=e?i-=t-a:i=0);break}r>=e&&(i-=a>=e?r-a:r-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,r=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,h=n.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(c,h,-1);if(u&&d==u)return u.addSubFold(n);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(c,h)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var g=i[f];if(c==g.start.row){g.addFold(n),r=!0;break}if(a==g.end.row){if(g.addFold(n),r=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return r||(g=this.$addFoldLine(new s(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,s;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return s=[],e.forEach((function(e){s=s.concat(this.unfold(e))}),this),s;n=e}for(var o=s=this.getFoldsInRangeList(n);1==s.length&&i.comparePoints(s[0].start,n.start)<0&&i.comparePoints(s[0].end,n.end)>0;)this.expandFolds(s),s=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(s):this.expandFolds(s),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,s){null==i&&(i=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,r="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<s)return;a=Math.max(s,a)}r+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),r},this.getDisplayLine=function(e,t,n,i){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(s=this.doc.getLine(e)).substring(i||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new s(e,n)})),e},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var s=i.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(n=this.findMatchingBracket(s))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(s.row,s.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var r="...";if(!i.isMultiLine()){if((r=this.getTextRange(i)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,i)}},this.getCommentFoldRange=function(e,t,n){var s=new r(this,e,t),o=s.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=s.stepBackward()}while(o&&l.test(o.type)&&!/^comment.end/.test(o.type));o=s.stepForward()}if(c.start.row=s.getCurrentTokenRow(),c.start.column=s.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),s=new r(this,e,t),-1!=n){var h=-1;do{if(o=s.stepForward(),-1==h){var u=this.getState(s.$row);l.test(u)||(h=s.$row)}else if(s.$row>h)break}while(o&&l.test(o.type)&&!/^comment.start/.test(o.type));o=s.stepBackward()}else o=s.getCurrentToken();return c.end.row=s.getCurrentTokenRow(),c.end.column=s.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(c.end.column+=o.value.length-2),c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var s=this.foldWidgets;if(s){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==s[o]&&(s[o]=this.getFoldWidget(o)),"start"==s[o]&&(!i||i(o))){var r=this.getFoldWidgetRange(o);r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e&&(o=r.end.row,r.collapseChildren=n,this.addFold("...",r))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var s=n[i];if("text"!=s.type||!/^\s+$/.test(s.value))return!!/comment/.test(s.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,s=e-1;s>=0;){var o=n[s];if(null==o&&(o=n[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(i||(i=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),s="end"===n?-1:1,o=this.getFoldAt(e,-1===s?0:i.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=r?r.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),r=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(r||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!r)return null;if(r[1]){if(!(a=this.$findClosingBracket(r[1],e)))return null;t=s.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(r[2],e)))return null;t=s.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,o=!t&&n.charAt(e.column-1),r=o&&o.match(i);if(r||(o=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(i)),!r)return null;var a=new s(e.row,e.column-1,e.row,e.column),l=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return l?[a,new s(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var s=this.$brackets[e],o=1,r=new i(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var h=c.charAt(l);if(h==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else h==e&&(o+=1);l-=1}do{a=r.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var s=this.$brackets[e],o=1,r=new i(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;l<h;){var u=c.charAt(l);if(u==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else u==e&&(o+=1);l+=1}do{a=r.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,o=t.value,r=0,a=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!c){var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(i=t.value))if("<"===n.value)r++;else if("</"===n.value&&--r<0){e.stepBackward();var u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var d=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var p=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else o===i&&"/>"===t.value&&--r<0&&(p=d=u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),h=new s(l.end.row,l.end.column,l.end.row,l.end.column+1))}}while(t&&r>=0);if(a&&h&&u&&p&&l&&d)return{openTag:new s(a.start.row,a.start.column,h.end.row,h.end.column),closeTag:new s(u.start.row,u.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:d}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,o=0,r=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new s(r,a,r,l);e.stepForward();var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,r=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++o>0){var d=new s(r,a,r,l),p=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&o--}else if("/>"===t.value){for(var g=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){o--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var v=0;v<g;v++)e.stepForward()}}while(n&&o<=0);return p&&f&&c&&u&&d&&h?{openTag:new s(p.start.row,p.start.column,f.end.row,f.end.column),closeTag:new s(c.start.row,c.start.column,u.end.row,u.end.column),openTagName:d,closeTagName:h}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/lang"),o=e("./bidihandler").BidiHandler,r=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var n=this;this.bgTokenizer.on("update",(function(e){n._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),r.resetOptions(this),this.setMode(t),r._signal("session",this),this.destroyed=!1};f.$uid=0,function(){function e(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var s=n+i>>1,o=e[s];if(t>o)n=s+1;else{if(!(t<o))return s;i=s-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=i.length-1;s=this.getLine(e).length}else for(o=0;o<i.length&&!((s+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=s-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var s=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:s};return i?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var s=new h(e,0,t,1/0);return s.id=this.addMarker(s,n,"fullLine",i),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var s=this.tokenRe;else s=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(s));o++}for(var r=t;r<n.length&&n.charAt(r).match(s);)r++;return new h(e,o,e,r)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=r.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,r.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var s=this.onReloadTokenizer.bind(this);i.on("update",s)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>r){if((l=o.end.row+1)>=a)break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];("insert"==i.action||"remove"==i.action)&&this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,s,o=0;o<e.length;o++){var r=e[o];r.start&&(i?n(r)?(s=r.start,-1==i.compare(s.row,s.column)&&i.setStart(s),s=r.end,1==i.compare(s.row,s.column)&&i.setEnd(s)):(s=r.start,-1==i.compare(s.row,s.column)&&(i=h.fromPoints(r.start,r.start))):i=n(r)?h.fromPoints(r.start,r.end):h.fromPoints(r.start,r.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),s=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!n){this.remove(e);var r=e.start.row-e.end.row;(c=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,i),s.length){var a=e.start,l=o.start,c=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=r,e.end.row+=r,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);n.start.row=s,n.end.row=s;for(var r=0;r<i&&" "==o.charAt(r);++r);r<i&&"\t"==o.charAt(r)?(n.start.column=r,n.end.column=r+1):(n.start.column=0,n.end.column=r),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((s=this.getRowFoldStart(e+n))<0)return 0;var i=s-e}else if(n>0){var s;if((s=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=s-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),r.length&&this.addFolds(r),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,s=e.end,o=i.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var h=0;if(g=this.getFoldLine(s.row)){g.addRemoveChars(s.row,s.column,i.column-s.column),g.shiftRow(-a);var u=this.getFoldLine(o);u&&u!==g&&(u.merge(g),g=u),h=c.indexOf(g)+1}for(;h<c.length;h++)(g=c[h]).start.row>=s.row&&g.shiftRow(-a);r=o}else{var d=Array(a);d.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,d),c=this.$foldData,h=0,g=this.getFoldLine(o)){var f=g.range.compareInside(i.row,i.column);0==f?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(r,0,s.column-i.column)):-1==f&&(g.addRemoveChars(o,0,s.column-i.column),g.shiftRow(a)),h=c.indexOf(g)+1}for(;h<c.length;h++){var g;(g=c[h]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,i){var s,o,r=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,h=e;for(i=Math.min(i,r.length-1);h<=i;)(o=this.getFoldLine(h,o))?(s=[],o.walk(function(e,i,o,a){var l;if(null!=e){(l=this.$getDisplayTokens(e,s.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=n}else l=this.$getDisplayTokens(r[i].substring(a,o),s.length);s=s.concat(l)}.bind(this),o.end.row,r[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(s,c,a),h=o.end.row+1):(s=this.$getDisplayTokens(r[h]),l[h]=this.$computeWrapSplits(s,c,a),h++)};var t=3,n=4;this.$computeWrapSplits=function(e,i,s){function o(){var t=0;if(0===p)return t;if(d)for(var n=0;n<e.length;n++){var i=e[n];if(10==i)t+=1;else{if(11!=i){if(12==i)continue;break}t+=s}}return u&&!1!==d&&(t+=s),Math.min(t,p)}function r(t){for(var n=t-c,i=c;i<t;i++){var s=e[i];12!==s&&2!==s||(n-=1)}a.length||(f=o(),a.indent=f),h+=n,a.push(h),c=t}if(0==e.length)return[];for(var a=[],l=e.length,c=0,h=0,u=this.$wrapAsCode,d=this.$indentedSoftWrap,p=i<=Math.max(2*s,8)||!1===d?0:Math.floor(i/2),f=0;l-c>i-f;){var g=c+i-f;if(e[g-1]>=10&&e[g]>=10)r(g);else if(e[g]!=t&&e[g]!=n){for(var m=Math.max(g-(i-(i>>2)),c-1);g>m&&e[g]<t;)g--;if(u){for(;g>m&&e[g]<t;)g--;for(;g>m&&9==e[g];)g--}else for(;g>m&&e[g]<10;)g--;g>m?r(++g):(2==e[g=c+i]&&g--,r(g-f))}else{for(;g!=c-1&&e[g]!=t;g--);if(g>c){r(g);continue}for(g=c+i;g<e.length&&e[g]==n;g++);if(g==e.length)break;r(g)}}return a},this.$getDisplayTokens=function(t,n){var i,s=[];n=n||0;for(var o=0;o<t.length;o++){var r=t.charCodeAt(o);if(9==r){i=this.getScreenTabSize(s.length+n),s.push(11);for(var a=1;a<i;a++)s.push(12)}else 32==r?s.push(10):r>39&&r<48||r>57&&r<64?s.push(9):r>=4352&&e(r)?s.push(1,2):s.push(1)}return s},this.$getStringScreenWidth=function(t,n,i){if(0==n)return[0,0];var s,o;for(null==n&&(n=1/0),i=i||0,o=0;o<t.length&&(9==(s=t.charCodeAt(o))?i+=this.getScreenTabSize(i):s>=4352&&e(s)?i+=2:i+=1,!(i>n));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,s,o=0,r=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,e),u=c.length;if(u&&h>=0){a=c[h],o=this.$docRowCache[h];var d=e>c[u-1]}else d=!u;for(var p=this.getLength()-1,f=this.getNextFoldLine(o),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=p);)a+=l,++o>g&&(o=f.end.row+1,g=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>p)return{row:p,column:this.getLine(p).length};i=this.getLine(o),f=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var w=this.$wrapData[o];w&&(s=w[v],v>0&&w.length&&(m=w.indent,r=w[v-1]||w[w.length-1],i=i.substring(r)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),r+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&r>=s&&(r=s-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,s=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var r,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&c>=0){a=l[c],s=this.$screenRowCache[c];var u=e>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((r=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;f.length>=m[v];)s++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(s+=this.lineWidgets[a].rowsAbove),{row:s,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>s&&(i=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var s,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(s=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(s))>n);o++);return[i,o]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=e}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),r.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),s=e("./lib/oop"),o=e("./range").Range,r=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,s,r){return i=new o(e,n,s,r),!(n==r&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,s=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,h=s.length-c;e:for(var u=a.offset||0;u<=h;u++){for(var d=0;d<c;d++)if(-1==s[u+d].search(a[d]))continue e;var p=s[u],f=s[u+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===u&&l.end.column>g||(r.push(l=new o(u,g,u+c-1,m)),c>2&&(u=u+c-2))}}else for(var v=0;v<s.length;v++){var w=i.getMatchOffsets(s[v],a);for(d=0;d<w.length;d++){var b=w[d];r.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var y=n.start.column,C=n.end.column;for(v=0,d=r.length-1;v<d&&r[v].start.column<y&&0==r[v].start.row;)v++;for(var x=n.end.row-n.start.row;v<d&&r[d].end.column>C&&r[d].end.row==x;)d--;for(r=r.slice(v,d+1),v=0,d=r.length;v<d;v++)r[v].start.row+=n.start.row,r[v].end.row+=n.start.row}return r},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var s=i.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,s);try{var o=new RegExp(n,s)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],s=0;s<n.length;s++)try{i.push(new RegExp(n[s],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,s=0!=t.skipCurrent,o=t.range,r=t.start;r||(r=o?o[i?"end":"start"]:e.selection.getRange()),r.start&&(r=r[s!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(i)var c=function(e){var n=r.row;if(!u(n,r.column,e)){for(n--;n>=a;n--)if(u(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=r.row;n>=a;n--)if(u(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=r.row;if(!u(n,r.column,e)){for(n+=1;n<=l;n++)if(u(n,0,e))return;if(0!=t.wrap)for(n=a,l=r.row;n<=l;n++)if(u(n,0,e))return}};if(t.$isMultiLine)var h=n.length,u=function(t,s,o){var r=i?t-h+1:t;if(!(r<0||r+h>e.getLength())){var a=e.getLine(r),l=a.search(n[0]);if(!(!i&&l<s||-1===l)){for(var c=1;c<h;c++)if(-1==(a=e.getLine(r+c)).search(n[c]))return;var u=a.match(n[h-1])[0].length;if(!(i&&u>s))return!!o(r,l,r+h-1,u)||void 0}}};else u=i?function(t,i,s){var o,r=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(r);){var c=o[0].length;if(l=o.index,!c){if(l>=r.length)break;n.lastIndex=l+=1}if(o.index+c>i)break;a.push(o.index,c)}for(var h=a.length-1;h>=0;h-=2){var u=a[h-1];if(s(t,u,t,u+(c=a[h])))return!0}}:function(t,i,s){var o,r,a=e.getLine(t);for(n.lastIndex=i;r=n.exec(a);){var l=r[0].length;if(s(t,o=r.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(r.prototype),t.Search=r})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";function i(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function s(e,t){i.call(this,e,t),this.$singleCommand=!1}var o=e("../lib/keys"),r=e("../lib/useragent"),a=o.KEY_MODS;s.prototype=i.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var s in i){var o=i[s];if(o==e)delete i[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(i[s]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var s=e.split(/\s+/);e=s.pop(),s.forEach((function(e){var t=this.parseKeys(e),n=a[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var o=this.parseKeys(e),r=a[o.hashId]+o.key;this._addCommandToBinding(i+r,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var s,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(n))&&o[t].splice(s,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var r=o[t];for(s=0;s<r.length&&!(e(r[s])>i);s++);r.splice(s,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),i=o[n];if(o.FUNCTION_KEYS[i])n=o.FUNCTION_KEYS[i].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var s=0,r=t.length;r--;){var a=o.KEY_MODS[t[r]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[r]+" in "+e),!1;s|=a}return{key:n,hashId:s}},this.findKeyCommand=function(e,t){var n=a[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var s=a[t]+n,o=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,o=this.commandKeyBinding[e.$keyChain]||o),!o||"chainKeys"!=o&&"chainKeys"!=o[o.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:o}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(i.prototype),t.HashHandler=i,t.MultiHashHandler=s})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};i.inherits(r,s),function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:n};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(r.prototype),t.CommandManager=r})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";function i(e,t){return{win:e,mac:t}}var s=e("../lib/lang"),o=e("../config"),r=e("../range").Range;t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:i("Ctrl-,","Command-,"),exec:function(e){o.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:i("Alt-E","F4"),exec:function(e){o.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:i("Alt-Shift-E","Shift-F4"),exec:function(e){o.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:i("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:i(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:i("Ctrl-L","Command-L"),exec:function(e,t){"number"==typeof t&&!isNaN(t)&&e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:i("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:i("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:i("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:i("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:i(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:i("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:i("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:i("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:i("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:i("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:i("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:i("Ctrl-F","Command-F"),exec:function(e){o.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:i("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:i("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:i("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:i("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:i("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:i("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:i("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:i("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:i("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:i("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:i("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:i("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:i("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:i("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:i("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:i("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:i("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:i("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:i("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:i("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:i(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:i("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:i(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:i("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:i("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:i("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:i("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:i("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:i("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:i("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:i(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:i("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:i("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:i("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:i("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:i("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:i("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:i("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:i("Ctrl-H","Command-Option-F"),exec:function(e){o.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:i("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:i("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:i("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:i("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:i("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:i("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:i("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:i("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:i("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:i("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:i("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:i("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:i("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:i("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:i("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:i("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:i("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:i("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:i("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(s.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:i(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:i("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:i("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:i("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:i(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:i("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:i("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:i(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),i=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),o=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=i.row+1;c++){var h=s.stringTrimLeft(s.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),l+=h}i.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new r(n.row,0,i.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(o=e.session.doc.getLine(n.row).length>o?o+1:o,e.selection.moveCursorTo(n.row,o))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:i(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,s=[];i.length<1&&(i=[e.selection.getRange()]);for(var o=0;o<i.length;o++)o==i.length-1&&(i[o].end.row!==t||i[o].end.column!==n)&&s.push(new r(i[o].end.row,i[o].end.column,t,n)),0===o?(0!==i[o].start.row||0!==i[o].start.column)&&s.push(new r(0,0,i[o].start.row,i[o].start.column)):s.push(new r(i[o-1].end.row,i[o-1].end.column,i[o].start.row,i[o].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),o=0;o<s.length;o++)e.selection.addRange(s[o],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:i("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:i(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,h=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,p=e("./search").Search,f=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,w=e("./config"),b=e("./token_iterator").TokenIterator,y=e("./clipboard"),C=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++C.$uid,this.commands=new m(a.isMac?"mac":"win",v),"object"==typeof document&&(this.textInput=new l(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new h(this)),this.keyBinding=new u(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),w.resetOptions(this),n&&this.setOptions(n),w._signal("editor",this)};C.$uid=0,function(){s.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),s=this.renderer.layerConfig;(i.start.row>=s.lastRow||i.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;w.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),i=e.getKeyboardHandler(),s=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(n,s);if(!o){var r=new b(t,n.row,n.column).getCurrentToken();if(r&&/\b(?:tag-open|tag-name)/.test(r.type)){var a=t.getMatchingTags(n);a&&(o=[a.openTagName,a.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var l="ace_bracket";Array.isArray(o)?1==o.length&&(l="ace_error_bracket"):o=[o],2==o.length&&(0==f.comparePoints(o[0].end,o[1].start)?o=[f.fromPoints(o[0].start,o[1].end)]:0==f.comparePoints(o[0].start,o[1].end)&&(o=[f.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),this.renderer.$maxLines&&1===this.session.getLength()&&!(this.renderer.$minLines>1)&&(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,s=e.getLine(t.start.row),o=s.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(n-1,i+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),s=0;s<i.length;s++){var o=i[s];s&&i[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal("copy",r),y.lineMode=!!n&&r.text,r.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===y.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var s=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,r=!(2!=s.length||s[0]&&s[1]);if(s.length!=o.length||r)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||i.remove(l),i.insert(l.start,s[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(s.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((r=new f.fromPoints(s,s)).end.column+=e.length,this.session.remove(r));else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);n.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var c=s.column,h=n.getState(s.row),u=(a=n.getLine(s.row),i.checkOutdent(h,a,e));if(n.insert(s,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(s.row,c+o.selection[0],s.row,c+o.selection[1])):this.selection.setSelectionRange(new f(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(h,a.slice(0,s.column),n.getTabString());n.insert({row:s.row+1,column:0},d)}u&&i.autoOutdent(h,n,s.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var s=this.getSelectionRange();e=s.start.row,t=s.end.row}for(var o,r,a,l="",c="",h="",u=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),h=i.getNextLineIndent(l,c,u)),o=n.getLine(d),h!==(r=i.$getIndent(o))&&(r.length>0&&(a=new f(d,0,d,r.length),n.remove(a)),h.length>0&&n.insert({row:d,column:0},h)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),!e&&!n.isEmpty()&&this.remove()),(e||!this.selection.isEmpty())&&this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),s=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var r=n.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,s=this.session.getLine(e.row);t<s.length?(n=s.charAt(t)+s.charAt(t-1),i=new f(e.row,t-1,e.row,t+1)):(n=s.charAt(t-1)+s.charAt(t-2),i=new f(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return h=this.$getSelectedRows(),void e.indentRows(h.first,h.last,"\t")}var i=e.getLine(t.start.row),s=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=r.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var s=new f(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);s.start.row=i,s.end.row=i,s.end.column=o.length,t.replace(s,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var s=n.exec(i);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(t,n-1,t,n),s=this.session.getTextRange(i);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,n);if(o){var r=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&n<r?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),h=new f(t,o.start,t,o.end);this.session.replace(h,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,s=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-i-1;o<0&&(o=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&s.forEach((function(t,s){l=a+t.length,o>=a&&o<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var h,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var p=u[d],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+r.escapeRegExp(p[f])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=n.replace(new RegExp(r.escapeRegExp(p[f]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(h),h="")}},this.findLinkAt=function(e,t){var n,s,o=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),r=t;r<0&&(r=0);var a,l=0,c=0;try{for(var h=i(o),u=h.next();!u.done;u=h.next()){var d=u.value;if(c=l+d.length,r>=l&&r<=c&&d.match(/((?:https?|ftp):\/\/[\S]+)/)){a=d.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(e){n={error:e}}finally{try{u&&!u.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}return a},this.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var s=n.start.row;t.duplicateLines(s,s)}else{var o=i?n.start:n.end,r=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=r,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=r.length,h=0;h<c;h++){var u=h;r[h].moveBy(a,0);for(var d=(n=this.$getSelectedRows(r[h])).first,p=n.last;++h<c;){l&&r[h].moveBy(l,0);var f=this.$getSelectedRows(r[h]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(h--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(u=h+1);u<=h;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,s=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(s,0)})):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,s*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new b(this.session,n.row,n.column),s=i.getCurrentToken(),o=0;s&&-1!==s.type.indexOf("tag-name")&&(s=i.stepBackward());var r=s||i.stepForward();if(r){var a,l,c=!1,h={},u=n.column-r.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;u<r.value.length&&!c;u++)if(d[r.value[u]])switch(l=d[r.value[u]]+"."+r.type.replace("rparen","lparen"),isNaN(h[l])&&(h[l]=0),r.value[u]){case"(":case"[":case"{":h[l]++;break;case")":case"]":case"}":h[l]--,-1===h[l]&&(a="bracket",c=!0)}}else-1!==r.type.indexOf("tag-name")&&(isNaN(h[r.value])&&(h[r.value]=0),"<"===s.value&&o>1?h[r.value]++:"</"===s.value&&h[r.value]--,-1===h[r.value]&&(a="tag",c=!0));c||(s=r,o++,r=i.stepForward(),u=0)}while(r&&!c);if(a){var p,g;if("bracket"===a)(p=this.session.getBracketRange(n))||(g=(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(p=this.session.getBracketRange(g)));else if("tag"===a){if(!r||-1===r.type.indexOf("tag-name"))return;if(0===(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(p=m.closeTag).start:(p=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?p.end:p.start))}g=g||p.start}(g=p&&p.cursor||g)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(s),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&s.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var s=this.$scrollAnchor;s.style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),r=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,r=e.layerConfig,a=o.top-r.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<r.height&&o.top+t.top+r.lineHeight>window.innerHeight)&&null)&&(s.style.top=a+"px",s.style.left=o.left+"px",s.style.height=r.lineHeight+"px",s.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",r))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;w.loadModule("./ext/prompt",(function(s){s.prompt(i,e,t,n)}))}}.call(C.prototype),w.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?x.attach(this):x.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(e){return{row:e.row,column:e.column}}function s(e){if(e=e||this,Array.isArray(e))return e.map(s).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(o).join("\n"):o(e.value)),e.start&&(t+=o(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function o(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function r(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(g(t.start,e.end)>=0)c(t,e,-1);else{if(!(g(t.start,e.start)<=0))return null;c(e,t,1)}else if(n&&!i)if(g(t.start,e.end)>=0)c(t,e,-1);else{if(!(g(t.end,e.start)<=0))return null;c(e,t,-1)}else if(!n&&i)if(g(t.start,e.start)>=0)c(t,e,1);else{if(!(g(t.start,e.start)<=0))return null;c(e,t,1)}else if(!n&&!i)if(g(t.start,e.start)>=0)c(t,e,1);else{if(!(g(t.end,e.start)<=0))return null;c(e,t,-1)}return[t,e]}function a(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!r(e[n],t[i])){for(;n<e.length;){for(;i--;)r(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function l(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)g(e.start,t.start)<0?c(t,e,1):c(e,t,1);else if(n&&!i)g(e.start,t.end)>=0?c(e,t,-1):(g(e.start,t.start)<=0||c(e,f.fromPoints(t.start,e.start),-1),c(t,e,1));else if(!n&&i)g(t.start,e.end)>=0?c(t,e,-1):(g(t.start,e.start)<=0||c(t,f.fromPoints(e.start,t.start),-1),c(e,t,1));else if(!n&&!i)if(g(t.start,e.end)>=0)c(t,e,-1);else{var s,o;if(!(g(t.end,e.start)<=0))return g(e.start,t.start)<0&&(s=e,e=u(e,t.start)),g(e.end,t.end)>0&&(o=u(e,t.end)),h(t.end,e.start,e.end,-1),o&&!s&&(e.lines=o.lines,e.start=o.start,e.end=o.end,o=e),[t,s,o].filter(Boolean);c(e,t,-1)}return[t,e]}function c(e,t,n){h(e.start,t.start,t.end,n),h(e.end,t.start,t.end,n)}function h(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function u(e,t){var n=e.lines,s=e.end;e.end=i(t);var o=e.end.row-e.start.row,r=n.splice(o,n.length),a=o?t.column:t.column-e.start.column;return n.push(r[0].substring(0,a)),r[0]=r[0].substr(a),{start:i(t),end:s,lines:r,action:e.action}}function d(e,t){t=function(e){return{start:i(e.start),end:i(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var s=e[n],o=0;o<s.length;o++){var r=l(s[o],t);t=r[0],2!=r.length&&(r[2]?(s.splice(o+1,1,r[1],r[2]),o++):r[1]||(s.splice(o,1),o--))}s.length||e.splice(n,1)}return e}var p=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var s=n[i][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var s=n[i];if(s.rev<e)return t&&(s=n[i+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,s=0,o=n.length;o--;){var r=n[o][0];if(r.id<t&&!i&&(i=o+1),r.id<=e){s=o+1;break}}return n.slice(s,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var s=a(e[n],e[n+1]);e[n]=s[0],e[n+1]=s[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),s=null;return i&&(s=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);(function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],s=0;s<i.length;s++)d(e,i[s])})(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),s=null;return i&&(s=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?s(e):s(this.$undoStack)+"\n---\n"+s(this.$redoStack)}}).call(p.prototype);var f=e("./range").Range,g=f.comparePoints;f.comparePoints,t.UndoManager=p})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,s=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,s){var o=this.cellCache.pop();if(!o){var r=i.createElement("div");s&&s(r),this.element.appendChild(r),o={element:r,text:"",row:e}}return o.row=e,o}}).call(s.prototype),t.Lines=s})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";function i(e){var t=document.createTextNode("");e.appendChild(t);var n=s.createElement("span");return e.appendChild(n),e}var s=e("../lib/dom"),o=e("../lib/oop"),r=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,l=e("./lines").Lines,c=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new l(this.element),this.$lines.$offsetCoefficient=1};(function(){o.implement(this,a),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,s=this.$annotations[i];s||(s=this.$annotations[i]={text:[]});var o=n.text;o=o?r.escapeHTML(o):n.html||"",-1===s.text.indexOf(o)&&s.text.push(o);var a=n.type,l=n.className;l?s.className=l:"error"==a?s.className=" ace_error":"warning"==a&&" ace_error"!=s.className?s.className=" ace_warning":"info"==a&&!s.className&&(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0!==n)if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,s=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=s,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var o=t.getNextFoldLine(n),r=o?o.start.row:1/0,a=null,l=-1,c=n;;){if(c>r&&(c=o.end.row+1,r=(o=t.getNextFoldLine(c,o))?o.start.row:1/0),c>s){for(;this.$lines.getLength()>l+1;)this.$lines.pop();break}(a=this.$lines.get(++l))?a.row=c:(a=this.$lines.createCell(c,e,this.session,i),this.$lines.push(a)),this.$renderCell(a,e,o,c),c++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,s=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(s=t.getLength()+i-1);var o=n?n.getWidth(t,s,e):s.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(o+=r.left+r.right)!==this.gutterWidth&&!isNaN(o)&&(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var s=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&s&&s.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(i>n)for(s=this.session.getFoldedRowCount(n+1,i);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var s=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session,i);this.$renderCell(l,e,r,o),s.push(l),o++}return s},this.$renderCell=function(e,t,n,i){var o=e.element,r=this.session,a=o.childNodes[0],l=o.childNodes[1],c=r.$firstLineNumber,h=r.$breakpoints,u=r.$decorations,d=r.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&r.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&i>=f&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[i]&&(g+=h[i]),u[i]&&(g+=u[i]),this.$annotations[i]&&(g+=this.$annotations[i].className),o.className!=g&&(o.className=g),p){var m=p[i];null==m&&(m=p[i]=r.getFoldWidget(i))}if(m){g="ace_fold-widget ace_"+m,"start"==m&&i==f&&i<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";s.setStyle(l.style,"height",v),s.setStyle(l.style,"display","inline-block")}else l&&s.setStyle(l.style,"display","none");var w=(d?d.getText(r,i):i+c).toString();return w!==a.data&&(a.data=w),s.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,r)+"px"),s.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,r)+"px"),e.text=w,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?s.addCssClass(this.element,"ace_folding-enabled"):s.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=s.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(c.prototype),t.Gutter=c})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){function e(e,t,n,i){return(e?1:0)|(t?2:0)|(n?4:0)|(i?8:0)}this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var s=i.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),i.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;i.renderer(t,s,r,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,s,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,s,i.clazz,e):s.isMultiLine()?"text"==i.type?this.drawTextMarker(t,s,i.clazz,e):this.drawMultiLineMarker(t,s,i.clazz,e):this.drawSingleLineMarker(t,s,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(t,n,s,o,r){for(var a=this.session,l=n.start.row,c=n.end.row,h=l,u=0,d=0,p=a.getScreenLastRowColumn(h),f=new i(h,n.start.column,h,d);h<=c;h++)f.start.row=f.end.row=h,f.start.column=h==l?n.start.column:a.getRowWrapIndent(h),f.end.column=p,u=d,d=p,p=h+1<c?a.getScreenLastRowColumn(h+1):h==c?0:n.end.column,this.drawSingleLineMarker(t,f,s+(h==l?" ace_start":"")+" ace_br"+e(h==l||h==l+1&&n.start.column,u<d,d>p,h==c),o,h==c?0:1,r)},this.drawMultiLineMarker=function(e,t,n,i,s){var o=this.$padding,r=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;if(s=s||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,s)):this.elt(n+" ace_br1 ace_start","height:"+r+"px;right:0;top:"+a+"px;left:"+l+"px;"+(s||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,s)}else{a=this.$getTop(t.end.row,i);var h=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+r+"px;width:"+h+"px;top:"+a+"px;left:"+o+"px;"+(s||""))}if(!((r=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(u?" ace_br"+u:""),"height:"+r+"px;right:0;top:"+a+"px;left:"+o+"px;"+(s||""))}},this.drawSingleLineMarker=function(e,t,n,i,s,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,s,o);var r=i.lineHeight,a=(t.end.column+(s||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+r+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,s,o){var r=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+r+"px;width:"+(e.width+(s||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,s){var o=this.$getTop(t.start.row,i),r=i.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))},this.drawScreenLineMarker=function(e,t,n,i,s){var o=this.$getTop(t.start.row,i),r=i.lineHeight;this.elt(n,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,s="ace_indent-guide",r=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=s+r,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=s+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),s=Math.min(n,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}r++}for(var l,c=!1,h=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>h&&(a=l.end.row+1,h=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>s);){var u=o[r++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==h&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(c=!0,u.style.height=d)}a++}if(c)for(;r<this.$lines.cells.length;){var p=this.$lines.cells[r++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),s.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),s.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&r),this.$useLineGroups()?c.className="ace_line_group":(c.className="ace_line",c.setAttribute("role","option")),i.push(l),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(e,t,n,i){for(var s,o=0;o<i.length;o+=this.MAX_CHUNK_LENGTH){var r=i.substring(o,o+this.MAX_CHUNK_LENGTH),a={type:n.type,value:r};s=this.$renderToken(e,t+o,a,r)}return s},this.$renderToken=function(e,t,n,i){for(var s,r=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;s=a.exec(i);){var h=s[1],u=s[2],d=s[3],p=s[4],f=s[5];if(r.showSpaces||!u){var g=c!=s.index?i.slice(c,s.index):"";if(c=s.index+s[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),h){var m=r.session.getScreenTabSize(t+s.index);l.appendChild(r.$tabStrings[m].cloneNode(!0)),t+=m-1}else u?r.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=o.stringRepeat(r.SPACE_CHAR,u.length),l.appendChild(v)):l.appendChild(this.com.createTextNode(u,this.element)):d?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=o.stringRepeat(r.SPACE_CHAR,d.length),l.appendChild(v)):p?(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className=r.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=r.showSpaces?r.SPACE_CHAR:p,l.appendChild(v)):f&&(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,l.appendChild(v))}}l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element));var v=this.dom.createElement("span");if(!this.$textToken[n.type]){var w="ace_"+n.type.replace(/\./g," ace_");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=w}return v.appendChild(l),e.appendChild(v),t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var s=(i-=i%this.tabSize)/this.tabSize,o=0;o<s;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var s=this.session.$bracketHighlight.ranges,o=0;o<s.length;o++)if(t.row!==s[o].start.row){this.$highlightIndentGuideMarker.end=s[o].start.row,t.row>s[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,o=t.row+1;o<e.length;o++){var r=e[o],a=/^\s*/.exec(r)[0].length;if(""!==r&&(this.$highlightIndentGuideMarker.end=o,a<=n))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var i=n[t-1];i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--)if(i=e[n],this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,s=0,r=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var h=t[c],u=h.value;if(0==c&&this.displayIndentGuides){if(i=u.length,!(u=this.renderIndentGuide(l,u,r)))continue;i-=u.length}if(i+u.length<r)a=this.$renderTokenInChunks(l,a,h,u),i+=u.length;else{for(;i+u.length>=r;)a=this.$renderTokenInChunks(l,a,h,u.substring(0,r-i)),u=u.substring(r-i),i=r,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,r=n[++s]||Number.MAX_VALUE;0!=u.length&&(i+=u.length,a=this.$renderTokenInChunks(l,a,h,u))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var n=0,i=0;i<t.length;i++){var s=t[i],o=s.value;if(0!=i||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return void this.$renderOverflowMessage(e,n,s,o);n=this.$renderTokenInChunks(e,n,s,o)}}},this.$renderOverflowMessage=function(e,t,n,i,s){n&&this.$renderTokenInChunks(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=s?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(!n&&0!=n&&(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var s=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),s=e.lastChild):(s=e,this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,i))}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showEOL&&s){n&&(t=n.end.row);var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_eol",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],s=n.getTokens(e);return t.walk((function(e,t,o,r,a){null!=e?i.push({type:"fold",value:e}):(a&&(s=n.getTokens(t)),s.length&&function(e,t,n){for(var s=0,o=0;o+e[s].value.length<t;)if(o+=e[s].value.length,++s==e.length)return;for(o!=t&&((r=e[s].value.substring(t-o)).length>n-t&&(r=r.substring(0,n-t)),i.push({type:e[s].type,value:r}),o=t+r.length,s+=1);o<n&&s<e.length;){var r;(r=e[s].value).length+o>n?i.push({type:e[s].type,value:r.substring(0,n-o)}):i.push(e[s]),o+=r.length,s+=1}}(s,r,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,s=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var r=this.getPixelPosition(t[n].cursor,!0);if(!((r.top>e.height+e.offset||r.top<0)&&n>1)){var a=this.cursors[s++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,r,e,t[n],this.session):this.isCursorInView(r,e)?(i.setStyle(l,"display","block"),i.translate(a,r.left,r.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>s;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var h=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(h,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter;s.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(e){this.element=s.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){i.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};i.inherits(l,a),function(){this.classSuffix="-v",i.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,s=t.clientY,r=this.thumbTop;o.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(r+i-s);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};i.inherits(c,a),function(){this.classSuffix="-h",i.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,s=t.clientX,r=this.thumbLeft;o.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(r+i-s);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(s.prototype),t.RenderLoop=s})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,h=200,u=t.FontMetrics=function(e,t){this.charCount=t||250,this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=r.onIdle((function t(){e.checkForSizeChanges(),r.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t=(e=e||this.$measureNode).getBoundingClientRect(),n={height:t.height,width:t.width/this.charCount};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,this.charCount),this.$main.getBoundingClientRect().width/this.charCount},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=s.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function r(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=r(this.els[0]),l=r(this.els[1]),c=r(this.els[2]),u=r(this.els[3]),d=n(i(u,l),i(u,c),i(s(l,c),s(u,a))),p=o(1+d[0],i(l,a)),f=o(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/h+d[1]*g[1]/h+1,v=s(o(g[0],p),o(g[1],f));return s(o(1/m/h,v),a)}var w=i(e,a),b=n(i(p,o(d[0],w)),i(f,o(d[1],w)),w);return o(h,b)}}).call(u.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,n){n.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event_emitter").EventEmitter,r=function(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){s.implement(this,o),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var s={info:1,warning:2,error:3};i.forEach((function(e){e.priority=s[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,r=0;r<i.length;r++){var a=i[r].row,l=this.compensateFoldRows(a,o),c=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(u-h<this.minDecorationHeight){var d=(h+u)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),h=Math.round(d-this.halfMinDecorationHeight),u=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[i[r].type]||null,n.fillRect(0,c,this.canvasWidth,u-h)}}var p=this.renderer.session.selection.getCursor();p&&(l=this.compensateFoldRows(p.row,o),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio),n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2))},this.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n}}).call(r.prototype),t.Decorator=r})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./config"),r=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./scrollbar_custom").HScrollBar,p=e("./scrollbar_custom").VScrollBar,f=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,v=e("./css/editor.css"),w=e("./layer/decorators").Decorator,b=e("./lib/useragent"),y=b.isIE;s.importCssString(v,"ace_editor.css",!1);var C=function(e,t){var n=this;this.container=e||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;i||(i=s.clientHeight||s.scrollHeight),n||(n=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,r=this.$size,a={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};if(i&&(e||r.height!=i)&&(r.height=i,o|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(r.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||r.width!=n)){o|=this.CHANGE_SIZE,r.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,s.setStyle(this.scrollBarH.element.style,"left",t+"px"),s.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),r.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",l),s.setStyle(this.scroller.style,"right",l),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(r.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return r.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,r=n.left;o-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:y?0:1;if(o<0||o>i.height-a)s.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var h=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(h)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(r-=this.scrollLeft)>this.$size.scrollerWidth-l&&(r=this.$size.scrollerWidth-l),r+=this.gutterWidth+this.margin.left,s.setStyle(e,"height",a+"px"),s.setStyle(e,"width",l+"px"),s.translate(this.textarea,Math.min(r,this.$size.scrollerWidth-l),Math.min(o,c))}}}else s.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|i,s.left=0|n,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,n,i){var s=this.margin;s.top=0|e,s.bottom=0|t,s.right=0|i,s.left=0|n,s.v=s.top+s.bottom,s.h=s.left+s.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",r=n.minHeight+"px";s.setStyle(this.content.style,"width",o),s.setStyle(this.content.style,"height",r)}return e&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):e&this.CHANGE_SCROLL?(this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e)):(e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),void this._signal("afterRender",e))}this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var s=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var u=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>h.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var p,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),w=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var y=e.getFoldLine(v);y&&(v=y.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(w)*b+f,g=this.scrollTop-p*b;var C=0;return(this.layerConfig.width!=s||r)&&(C=this.CHANGE_H_SCROLL),(r||d)&&(C|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:w,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),C},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),s=i.left,o=i.top,r=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+r>o?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,h=2*this.layerConfig.characterWidth;s-h<c?((s-=h)<this.$padding+h&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):(s+=h,c+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&s-c<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,s=n.top-i*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var n=0,i=this.STEPS,s=[],o=function(e,t,n){return n*(Math.pow(e-1,3)+1)+t};for(n=0;n<i;++n)s.push(o(n/this.STEPS,e,t-e));return s},this.scrollToLine=function(e,t,n,i){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){function n(){s.$timer=clearInterval(s.$timer),s.$scrollAnimation=null,s.$stopAnimation=!1,t&&t()}var i=this.scrollTop;if(this.$animatedScroll){var s=this;if(e!=i){if(this.$scrollAnimation){var o=this.$scrollAnimation.steps;if(o.length&&(e=o[0])==i)return}var r=s.$calcSteps(e,i);this.$scrollAnimation={from:e,to:i,steps:r},clearInterval(this.$timer),s.session.setScrollTop(r.shift()),s.session.$scrollTop=i,this.$timer=setInterval((function(){if(!s.$stopAnimation)return s.session?void(r.length?(s.session.setScrollTop(r.shift()),s.session.$scrollTop=i):null!=i?(s.session.$scrollTop=-1,s.session.setScrollTop(i),i=null):n()):clearInterval(s.$timer);n()}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-n.left-this.$padding,o=s/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:r,column:a,side:o-a>0?1:-1,offsetX:s}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-n.left-this.$padding,o=s/this.characterWidth,r=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(r,0),s)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+s-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var s=this.session;s.bgTokenizer.lines[n]=null;var o={type:t,value:e},r=s.getTokens(n);if(null==i)r.push(o);else for(var a=0,l=0;l<r.length;l++){var c=r[l];if(i<=(a+=c.value.length)){var h=c.value.length-(a-i),u=c.value.slice(0,h),d=c.value.slice(h);r.splice(l,1,{type:c.type,value:u},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){function n(n){if(i.$themeId!=e)return t&&t();if(!n||!n.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");n.$id&&(i.$themeId=n.$id),s.importCssString(n.cssText,n.cssClass,i.container),i.theme&&s.removeCssClass(i.container,i.theme.cssClass);var o="padding"in n?n.padding:"padding"in(i.theme||{})?4:i.$padding;i.$padding&&o!=i.$padding&&i.setPadding(o),i.$theme=n.cssClass,i.theme=n,s.addCssClass(i.container,n.cssClass),s.setCssClass(i.container,"ace_dark",n.isDark),i.$size&&(i.$size.width=0,i.$updateSizeAsync()),i._dispatchEvent("themeLoaded",{theme:n}),t&&t()}var i=this;if(this.$themeId=e,i._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)n(e);else{var r=e||this.$options.theme.initialValue;o.loadModule(["theme",r],n)}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){s.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(C.prototype),o.defineOptions(C.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=C})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";function i(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(a.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+o.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var s=e("../lib/oop"),o=e("../lib/net"),r=e("../lib/event_emitter").EventEmitter,a=e("../config"),l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){s.implement(this,r),this.$createWorkerFromOldConfig=function(t,n,s,o,r){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),a.get("packaged")||!e.toUrl)o=o||a.moduleUrl(n,"worker");else{var l=this.$normalizePath;o=o||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=i(o),r&&this.send("importScripts",r),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:s}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return o.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,s=!1,o=Object.create(r),c=[],h=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(s?setTimeout(u):u())}});h.setEmitSync=function(e){s=e};var u=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&o._signal(e.event,e.data)};return o.postMessage=function(e){h.onMessage({data:e})},o.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},o.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},a.loadModule(["worker",t],(function(e){for(i=new e[n](o);c.length;)u()})),h},t.WorkerClient=l,t.createWorker=i})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),r=function(e,t,n,i,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){r.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,s),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=n.addMarker(new i(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,s=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),s&&(this.length+=n),s&&!this.session.$fromUndo)if("insert"===e.action)for(var r=this.others.length-1;r>=0;r--){var a={row:(l=this.others[r]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(r=this.others.length-1;r>=0;r--){var l;a={row:(l=this.others[r]).row,column:l.column+o},this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,s){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),s,null,!1)};n(this.pos,this.mainClass);for(var s=this.others.length;s--;)n(this.others[s],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype),t.PlaceHolder=r})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}var s=e("../lib/event"),o=e("../lib/useragent");t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&o.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var h,u=e.editor,d=u.selection,p=u.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&i(f,g),v=e.x,w=e.y,b=u.session,y=u.renderer.pixelToScreenCoordinates(v,w),C=y;if(u.$mouseHandler.$enableJumpToDef)a&&n||l&&n?h=r?"block":"add":n&&u.$blockSelectEnabled&&(h="block");else if(l&&!n){if(h="add",!p&&r)return}else n&&u.$blockSelectEnabled&&(h="block");if(h&&o.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==h){if(!p&&m)return;if(!p){var x=d.toOrientedRange();u.addSelectionMarker(x)}var k=d.rangeList.rangeAtPoint(f);u.inVirtualSelectionMode=!0,r&&(k=null,x=d.ranges[0]||x,u.removeSelectionMarker(x)),u.once("mouseup",(function(){var e=d.toOrientedRange();k&&e.isEmpty()&&i(k.cursor,e.cursor)?d.substractPoint(e.cursor):(r?d.substractPoint(x.cursor):x&&(u.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),u.inVirtualSelectionMode=!1}))}else if("block"==h){e.stop(),u.inVirtualSelectionMode=!0;var S,_=[],A=function(){var e=u.renderer.pixelToScreenCoordinates(v,w),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);i(C,e)&&i(t,d.lead)||(C=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(_),_=d.rectangularRangeBlock(C,y),u.$mouseHandler.$clickSelection&&1==_.length&&_[0].isEmpty()&&(_[0]=u.$mouseHandler.$clickSelection.clone()),_.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(S=d.toOrientedRange(),u.addSelectionMarker(S)),r?y=b.documentToScreenPosition(d.lead):d.moveToPosition(f),C={row:-1,column:-1};var T=A;s.capture(u.container,(function(e){v=e.clientX,w=e.clientY}),(function(e){A(),clearInterval(E),u.removeSelectionMarkers(_),_.length||(_=[d.toOrientedRange()]),S&&(u.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<_.length;t++)d.addRange(_[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){T()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){function i(e,t){return e.row==t.row&&e.column==t.column}function s(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",l),e.commands.addCommands(u.defaultCommands),function(e){function t(t){i&&(e.renderer.setMouseCursor(""),i=!1)}if(e.textInput){var n=e.textInput.getElement(),i=!1;c.addListener(n,"keydown",(function(n){var s=18==n.keyCode&&!(n.ctrlKey||n.shiftKey||n.metaKey);e.$blockSelectEnabled&&s?i||(e.renderer.setMouseCursor("crosshair"),i=!0):i&&t()}),e),c.addListener(n,"keyup",t,e),c.addListener(n,"blur",t,e)}}(e))}var o=e("./range_list").RangeList,r=e("./range").Range,a=e("./selection").Selection,l=e("./mouse/multi_select_handler").onMouseDown,c=e("./lib/event"),h=e("./lib/lang"),u=e("./commands/multi_select_commands");t.commands=u.defaultCommands.concat(u.multiSelectCommands);var d=new(0,e("./search").Search),p=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(p.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new o,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],s=i.start.row,o=i.end.row;if(s===o)t.push(i.clone());else{for(t.push(new r(s,i.start.column,s,this.session.getLine(s).length));++s<o;)t.push(this.getLineRange(s,!0));t.push(new r(o,0,o,i.end.column))}0==n&&!this.isBackwards()&&(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),s=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,s).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var s=[],o=e.column<t.column;if(o)var a=e.column,l=t.column,c=e.offsetX,h=t.offsetX;else a=t.column,l=e.column,c=t.offsetX,h=e.offsetX;var u,d=e.row<t.row;if(d)var p=e.row,f=t.row;else p=t.row,f=e.row;a<0&&(a=0),p<0&&(p=0),p==f&&(n=!0);for(var g=p;g<=f;g++){var m=r.fromPoints(this.session.screenToDocumentPosition(g,a,c),this.session.screenToDocumentPosition(g,l,h));if(m.isEmpty()){if(u&&i(m.end,u))break;u=m.end}m.cursor=o?m.start:m.end,s.push(m)}if(d&&s.reverse(),!n){for(var v=s.length-1;s[v].isEmpty()&&v>0;)v--;if(v>0)for(var w=0;s[w].isEmpty();)w++;for(var b=v;b>=w;b--)s[b].isEmpty()&&s.splice(b,1)}return s}}.call(a.prototype);var f=e("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var s=t.indexOf(i);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(u.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(u.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,s=n&&n.keepOrder,o=1==n||n&&n.$byLines,r=this.session,l=this.selection,c=l.rangeList,h=(s?l:c).ranges;if(!h.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var d=new a(r);this.inVirtualSelectionMode=!0;for(var p=h.length;p--;){if(o)for(;p>0&&h[p].start.row==h[p-1].end.row;)p--;d.fromOrientedRange(h[p]),d.index=p,this.selection=r.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});!i&&void 0!==f&&(i=f),d.toOrientedRange(h[p])}d.detach(),this.selection=r.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var s=this.session.getDocument().getNewLineCharacter();(e=n.join(s)).length==(n.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;n||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),s.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,s=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(s.column=this.selection.$desiredColumn);var o,a=this.session.screenToDocumentPosition(s.row+e,s.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(o=r.fromPoints(a,c)).cursor=o.start:(o=r.fromPoints(c,a)).cursor=o.end,o.desiredColumn=s.column,this.selection.inMultiSelectMode){if(t)var h=n.cursor}else this.selection.addRange(n);this.selection.addRange(o),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,s=i.length;s--;)if((a=i[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var r=[];for(s=i.length;s--;){var a=i[s];r.unshift(t.getTextRange(a))}for(e<0?r.unshift(r.pop()):r.push(r.shift()),s=i.length;s--;)o=(a=i[s]).clone(),t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column;n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,s=i.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=i.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!n)){var o=i.getTextRange(s),r=function(e,t,n){return d.$options.wrap=!0,d.$options.needle=t,d.$options.backwards=-1==n,d.find(e)}(i,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,s=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&s.length!=n.length-1){s.forEach((function(e){t.substractPoint(e.cursor)}));var o=0,a=1/0,l=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>o&&(o=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,s=o-i.column,c=l[n]-a;s>c?e.insert(i,h.stringRepeat(" ",s-c)):e.remove(new r(i.row,i.column,i.row,i.column-s+c)),t.start.column=t.end.column=o,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var c=this.selection.getRange(),u=c.start.row,d=c.end.row,p=u==d;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<g);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(c.start.column=0,c.end.column=m[m.length-1].length),this.selection.setRange(c)}},this.$reAlignText=function(e,t){function n(e){return h.stringRepeat(" ",e)}function i(e){return e[2]?n(s)+e[2]+n(o-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}var s,o,r,a=!0,l=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==s?(s=t[1].length,o=t[2].length,r=t[3].length,t):(s+o+r!=t[1].length+t[2].length+t[3].length&&(l=!1),s!=t[1].length&&(a=!1),s>t[1].length&&(s=t[1].length),o<t[2].length&&(o=t[2].length),r>t[3].length&&(r=t[3].length),t):[e]})).map(t?i:a?l?function(e){return e[2]?n(s+o-e[2].length)+e[2]+n(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:i:function(e){return e[2]?n(s)+e[2]+n(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]})}}).call(f.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=s,e("./config").defineOptions(f.prototype,"editor",{enableMultiselect:{set:function(e){s(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",l)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",l))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var s=/\S/,o=e.getLine(t),r=o.search(s);if(-1!=r){for(var a=n||o.length,l=e.getLength(),c=t,h=t;++t<l;){var u=e.getLine(t).search(s);if(-1!=u){if(u<=r){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}h=t}}if(h>c){var p=e.getLine(h).length;return new i(c,a,h,p)}}},this.openingBracketBlock=function(e,t,n,s,o){var r={row:n,column:s+1},a=e.$findClosingBracket(t,r,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>r.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(r,a)}},this.closingBracketBlock=function(e,t,n,s,o){var r={row:n,column:s},a=e.$findOpeningBracket(t,r);if(a)return a.column++,r.column--,i.fromPoints(a,r)}}).call(s.prototype)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}var s=e("./lib/dom");(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,s=i.start.row,o=i.end.row,r="add"==e.action,a=s+1;a<o;a++)n[a]&&(n[a].hidden=r);n[o]&&(r?n[s]?n[o].hidden=r:n[s]=n[o]:(n[s]==n[o]&&(n[s]=void 0),n[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0!==i)if("remove"==e.action){var s=t.splice(n+1,i);!t[n]&&s[s.length-1]&&(t[n]=s.pop()),s.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=s.createElement("div"),e.el.innerHTML=e.html),e.el&&(s.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var i=this.session.lineWidgets;e.row!=n.end.row||i[n.start.row]?e.hidden=!0:i[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var s=1/0,o=0;o<n.length;o++){var r=n[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/i.characterWidth));var a=r.h/i.lineHeight;r.coverLine&&(a-=this.session.getRowLineCount(r.row))<0&&(a=0),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var s=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);s>0&&!i[s];)s--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var r=s;r<=o;r++){var a=i[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(i.prototype),t.LineWidgets=i})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";function i(e,t,n){var i=e.getAnnotations().sort(r.comparePoints);if(i.length){var s=function(e,t,n){for(var i=0,s=e.length-1;i<=s;){var o=i+s>>1,r=n(t,e[o]);if(r>0)i=o+1;else{if(!(r<0))return o;s=o-1}}return-(i+1)}(i,{row:t,column:-1},r.comparePoints);s<0&&(s=-s-1),s>=i.length?s=n>0?0:i.length-1:0===s&&n<0&&(s=i.length-1);var o=i[s];if(o&&n){if(o.row===t){do{o=i[s+=n]}while(o&&o.row===t);if(!o)return i.slice()}var a=[];t=o.row;do{a[n<0?"unshift":"push"](o),o=i[s+=n]}while(o&&o.row==t);return a.length&&a}}}var s=e("../line_widgets").LineWidgets,o=e("../lib/dom"),r=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new s(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,h=i(n,a,t);if(h){var u=h[0];r.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,r.row=u.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:o.createElement("div"),type:"errorMarker"},p=d.el.appendChild(o.createElement("div")),f=d.el.appendChild(o.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(o.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},o.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var i=e("./lib/dom"),s=e("./lib/event"),o=e("./range").Range,r=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=i.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var h=t.createEditSession(a),u=new r(new c(e),h,n),d={document:h,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),s.addListener(window,"resize",d.onResize),u.on("destroy",(function(){s.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=o,t.Editor=r,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},236:(e,t,n)=>{e=n.nmd(e),ace.define("ace/ext/modelist",["require","exports","module"],(function(e,t,n){"use strict";var i=[],s=function(e,t,n){var i;this.name=e,this.caption=t,this.mode="ace/mode/"+e,this.extensions=n,i=/\^/.test(n)?n.replace(/\|(\^)?/g,(function(e,t){return"$|"+(t?"^":"^.*\\.")}))+"$":"^.*\\.("+n+")$",this.extRe=new RegExp(i,"gi")};s.prototype.supportsFile=function(e){return e.match(this.extRe)};var o={ABAP:["abap"],ABC:["abc"],ActionScript:["as"],ADA:["ada|adb"],Alda:["alda"],Apache_Conf:["^htaccess|^htgroups|^htpasswd|^conf|htaccess|htgroups|htpasswd"],Apex:["apex|cls|trigger|tgr"],AQL:["aql"],AsciiDoc:["asciidoc|adoc"],ASL:["dsl|asl|asl.json"],Assembly_x86:["asm|a"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],BibTeX:["bib"],C_Cpp:["cpp|c|cc|cxx|h|hh|hpp|ino"],C9Search:["c9search_results"],Cirru:["cirru|cr"],Clojure:["clj|cljs"],Cobol:["CBL|COB"],coffee:["coffee|cf|cson|^Cakefile"],ColdFusion:["cfm"],Crystal:["cr"],CSharp:["cs"],Csound_Document:["csd"],Csound_Orchestra:["orc"],Csound_Score:["sco"],CSS:["css"],Curly:["curly"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Dockerfile:["^Dockerfile"],Dot:["dot"],Drools:["drl"],Edifact:["edi"],Eiffel:["e|ge"],EJS:["ejs"],Elixir:["ex|exs"],Elm:["elm"],Erlang:["erl|hrl"],Forth:["frt|fs|ldr|fth|4th"],Fortran:["f|f90"],FSharp:["fsi|fs|ml|mli|fsx|fsscript"],FSL:["fsl"],FTL:["ftl"],Gcode:["gcode"],Gherkin:["feature"],Gitignore:["^.gitignore"],Glsl:["glsl|frag|vert"],Gobstones:["gbs"],golang:["go"],GraphQLSchema:["gql"],Groovy:["groovy"],HAML:["haml"],Handlebars:["hbs|handlebars|tpl|mustache"],Haskell:["hs"],Haskell_Cabal:["cabal"],haXe:["hx"],Hjson:["hjson"],HTML:["html|htm|xhtml|vue|we|wpy"],HTML_Elixir:["eex|html.eex"],HTML_Ruby:["erb|rhtml|html.erb"],INI:["ini|conf|cfg|prefs"],Io:["io"],Ion:["ion"],Jack:["jack"],Jade:["jade|pug"],Java:["java"],JavaScript:["js|jsm|jsx|cjs|mjs"],JEXL:["jexl"],JSON:["json"],JSON5:["json5"],JSONiq:["jq"],JSP:["jsp"],JSSM:["jssm|jssm_state"],JSX:["jsx"],Julia:["jl"],Kotlin:["kt|kts"],LaTeX:["tex|latex|ltx|bib"],Latte:["latte"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],Log:["log"],LogiQL:["logic|lql"],Logtalk:["lgt"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^Makefile|^GNUmakefile|^makefile|^OCamlMakefile|make"],Markdown:["md|markdown"],Mask:["mask"],MATLAB:["matlab"],Maze:["mz"],MediaWiki:["wiki|mediawiki"],MEL:["mel"],MIPS:["s|asm"],MIXAL:["mixal"],MUSHCode:["mc|mush"],MySQL:["mysql"],Nginx:["nginx|conf"],Nim:["nim"],Nix:["nix"],NSIS:["nsi|nsh"],Nunjucks:["nunjucks|nunjs|nj|njk"],ObjectiveC:["m|mm"],OCaml:["ml|mli"],PartiQL:["partiql|pql"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP_Laravel_blade:["blade.php"],PHP:["php|inc|phtml|shtml|php3|php4|php5|phps|phpt|aw|ctp|module"],Pig:["pig"],Powershell:["ps1"],Praat:["praat|praatscript|psc|proc"],Prisma:["prisma"],Prolog:["plg|prolog"],Properties:["properties"],Protobuf:["proto"],Puppet:["epp|pp"],Python:["py"],QML:["qml"],R:["r"],Raku:["raku|rakumod|rakutest|p6|pl6|pm6"],Razor:["cshtml|asp"],RDoc:["Rd"],Red:["red|reds"],RHTML:["Rhtml"],Robot:["robot|resource"],RST:["rst"],Ruby:["rb|ru|gemspec|rake|^Guardfile|^Rakefile|^Gemfile"],Rust:["rs"],SaC:["sac"],SASS:["sass"],SCAD:["scad"],Scala:["scala|sbt"],Scheme:["scm|sm|rkt|oak|scheme"],Scrypt:["scrypt"],SCSS:["scss"],SH:["sh|bash|^.bashrc"],SJS:["sjs"],Slim:["slim|skim"],Smarty:["smarty|tpl"],Smithy:["smithy"],snippets:["snippets"],Soy_Template:["soy"],Space:["space"],SPARQL:["rq"],SQL:["sql"],SQLServer:["sqlserver"],Stylus:["styl|stylus"],SVG:["svg"],Swift:["swift"],Tcl:["tcl"],Terraform:["tf","tfvars","terragrunt"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],TSX:["tsx"],Turtle:["ttl"],Twig:["twig|swig"],Typescript:["ts|typescript|str"],Vala:["vala"],VBScript:["vbs|vb"],Velocity:["vm"],Verilog:["v|vh|sv|svh"],VHDL:["vhd|vhdl"],Visualforce:["vfp|component|page"],Wollok:["wlk|wpgm|wtest"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl|xaml"],XQuery:["xq"],YAML:["yaml|yml"],Zeek:["zeek|bro"],Django:["html"]},r={ObjectiveC:"Objective-C",CSharp:"C#",golang:"Go",C_Cpp:"C and C++",Csound_Document:"Csound Document",Csound_Orchestra:"Csound",Csound_Score:"Csound Score",coffee:"CoffeeScript",HTML_Ruby:"HTML (Ruby)",HTML_Elixir:"HTML (Elixir)",FTL:"FreeMarker",PHP_Laravel_blade:"PHP (Blade Template)",Perl6:"Perl 6",AutoHotKey:"AutoHotkey / AutoIt"},a={};for(var l in o){var c=o[l],h=(r[l]||l).replace(/_/g," "),u=l.toLowerCase(),d=new s(u,h,c[0]);a[u]=d,i.push(d)}n.exports={getModeForPath:function(e){for(var t=a.text,n=e.split(/[\/\\]/).pop(),s=0;s<i.length;s++)if(i[s].supportsFile(n)){t=i[s];break}return t},modes:i,modesByName:a}})),ace.require(["ace/ext/modelist"],(function(t){e&&(e.exports=t)}))},272:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,s),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";function i(){var e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,s("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function s(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var o=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,a=e("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),s("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),s("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[s("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!e||0!=e.jsx)&&i.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};o.inherits(c,a),t.JavaScriptHighlightRules=c})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,s=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var s=n[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var r=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,s-1),r)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(s.prototype),t.MatchingBraceOutdent=s})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("../../range").Range,o=e("./fold_mode").FoldMode,r=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(r,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(e,t,n);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(e,t,n,i){var s,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(s=o.match(this.foldingStartMarker)){var r=s.index;if(s[1])return this.openingBracketBlock(e,s[1],n,r);var a=e.getCommentFoldRange(n,r+s[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(s=o.match(this.foldingStopMarker))?(r=s.index+s[0].length,s[1]?this.closingBracketBlock(e,s[1],n,r):e.getCommentFoldRange(n,r,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,r=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var h=this.getFoldWidgetRange(e,"all",t);if(h){if(h.start.row<=o)break;if(h.isMultiLine())t=h.end.row;else if(i==c)break}a=t}}return new s(o,r,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),r=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>r)return new s(r,i,n,t.length)}}.call(r.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,r=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new r,this.$behaviour=new l,this.foldingRules=new c};i.inherits(h,s),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),s=this.getTokenizer().getLineTokens(t,e),o=s.tokens,r=s.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==r||"no_regex"==r)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),o=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|max-zoom|min-height|min-width|min-zoom|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|user-select|user-zoom|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",r=t.supportFunction="rgb|rgba|url|attr|counter|counters",a=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|flex-end|flex-start|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero|zoom",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",c=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",h=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",u=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",d=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|required|root|target|valid|visited)\\b",p=function(){var e=this.createKeywordMapper({"support.function":r,"support.constant":a,"support.type":o,"support.constant.color":l,"support.constant.fonts":c},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@(?!viewport)",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:h},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"punctuation.operator",regex:"[:;]"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+h+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vmax|vmin|vm|vw|%)"},{token:"constant.numeric",regex:h},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:u},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:d},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};i.inherits(p,s),t.CssHighlightRules=p})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,n){"use strict";var i={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},s=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var n=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));i.hasOwnProperty(n)||(i[n]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,n,i){if(this.completionsDefined||this.defineCompletions(),"ruleset"===e||"ace/mode/scss"==t.$mode.$id){var s=t.getLine(n.row).substr(0,n.column),o=/\([^)]*$/.test(s);return o&&(s=s.substr(s.lastIndexOf("(")+1)),/:[^;]+$/.test(s)?(/([\w\-]+):[^:]*$/.test(s),this.getPropertyValueCompletions(e,t,n,i)):this.getPropertyCompletions(e,t,n,i,o)}return[]},this.getPropertyCompletions=function(e,t,n,s,o){return o=o||!1,Object.keys(i).map((function(e){return{caption:e,snippet:e+": $0"+(o?"":";"),meta:"property",score:1e6}}))},this.getPropertyValueCompletions=function(e,t,n,s){var o=t.getLine(n.row).substr(0,n.column),r=(/([\w\-]+):[^:]*$/.exec(o)||{})[1];if(!r)return[];var a=[];return r in i&&"object"==typeof i[r]&&(a=Object.keys(i[r])),a.map((function(e){return{caption:e,snippet:e,meta:"property value",score:1e6}}))}}).call(s.prototype),t.CssCompletions=s})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),o=e("../../token_iterator").TokenIterator,r=function(){this.inherit(s),this.add("colon","insertion",(function(e,t,n,i,s){if(":"===s&&n.selection.isEmpty()){var r=n.getCursorPosition(),a=new o(i,r.row,r.column),l=a.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=a.stepBackward()),l&&"support.type"===l.type){var c=i.doc.getLine(r.row);if(":"===c.substring(r.column,r.column+1))return{text:"",selection:[1,1]};if(/^(\s+[^;]|\s*$)/.test(c.substring(r.column)))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,n,i,s){var r=i.doc.getTextRange(s);if(!s.isMultiLine()&&":"===r){var a=n.getCursorPosition(),l=new o(i,a.row,a.column),c=l.getCurrentToken();if(c&&c.value.match(/\s+/)&&(c=l.stepBackward()),c&&"support.type"===c.type&&";"===i.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s}})),this.add("semicolon","insertion",(function(e,t,n,i,s){if(";"===s&&n.selection.isEmpty()){var o=n.getCursorPosition();if(";"===i.doc.getLine(o.row).substring(o.column,o.column+1))return{text:"",selection:[1,1]}}})),this.add("!important","insertion",(function(e,t,n,i,s){if("!"===s&&n.selection.isEmpty()){var o=n.getCursorPosition(),r=i.doc.getLine(o.row);if(/^\s*(;|}|$)/.test(r.substring(o.column)))return{text:"!important",selection:[10,10]}}}))};i.inherits(r,s),t.CssBehaviour=r})),ace.define("ace/mode/css",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/css_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/css_completions","ace/mode/behaviour/css","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text").Mode,o=e("./css_highlight_rules").CssHighlightRules,r=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./css_completions").CssCompletions,c=e("./behaviour/css").CssBehaviour,h=e("./folding/cstyle").FoldMode,u=function(){this.HighlightRules=o,this.$outdent=new r,this.$behaviour=new c,this.$completer=new l,this.foldingRules=new h};i.inherits(u,s),function(){this.foldingRules="cStyle",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),s=this.getTokenizer().getLineTokens(t,e).tokens;return s.length&&"comment"==s[s.length-1].type||t.match(/^.*\{\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/css_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/css",this.snippetFileId="ace/snippets/css"}.call(u.prototype),t.Mode=u})),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(s.prototype),i.inherits(o,s),t.XmlHighlightRules=o})),ace.define("ace/mode/html_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/css_highlight_rules","ace/mode/javascript_highlight_rules","ace/mode/xml_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/lang"),o=e("./css_highlight_rules").CssHighlightRules,r=e("./javascript_highlight_rules").JavaScriptHighlightRules,a=e("./xml_highlight_rules").XmlHighlightRules,l=s.createMap({a:"anchor",button:"form",form:"form",img:"image",input:"form",label:"form",option:"form",script:"script",select:"form",textarea:"form",style:"style",table:"table",tbody:"table",td:"table",tfoot:"table",th:"table",tr:"table"}),c=function(){a.call(this),this.addRules({attributes:[{include:"tag_whitespace"},{token:"entity.other.attribute-name.xml",regex:"[-_a-zA-Z0-9:.]+"},{token:"keyword.operator.attribute-equals.xml",regex:"=",push:[{include:"tag_whitespace"},{token:"string.unquoted.attribute-value.html",regex:"[^<>='\"`\\s]+",next:"pop"},{token:"empty",regex:"",next:"pop"}]},{include:"attribute_value"}],tag:[{token:function(e,t){var n=l[t];return["meta.tag.punctuation."+("<"==e?"":"end-")+"tag-open.xml","meta.tag"+(n?"."+n:"")+".tag-name.xml"]},regex:"(</?)([-_a-zA-Z0-9:.]+)",next:"tag_stuff"}],tag_stuff:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}),this.embedTagRules(o,"css-","style"),this.embedTagRules(new r({jsx:!1}).getRules(),"js-","script"),this.constructor===c&&this.normalizeRules()};i.inherits(c,a),t.HtmlHighlightRules=c})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";function i(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var s=e("../../lib/oop"),o=e("../behaviour").Behaviour,r=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",(function(e,t,n,s,o){if('"'==o||"'"==o){var a=o,l=s.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),h=s.doc.getLine(c.row).substring(c.column,c.column+1),u=new r(s,c.row,c.column),d=u.getCurrentToken();if(h==a&&(i(d,"attribute-value")||i(d,"string")))return{text:"",selection:[1,1]};if(d||(d=u.stepBackward()),!d)return;for(;i(d,"tag-whitespace")||i(d,"whitespace");)d=u.stepBackward();var p=!h||h.match(/\s/);if(i(d,"attribute-equals")&&(p||">"==h)||i(d,"decl-attribute-equals")&&(p||"?"==h))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==o)return s.end.column++,s})),this.add("autoclosing","insertion",(function(e,t,n,s,o){if(">"==o){var a=n.getSelectionRange().start,l=new r(s,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(i(c,"tag-name")||i(c,"tag-whitespace")||i(c,"attribute-name")||i(c,"attribute-equals")||i(c,"attribute-value")))return;if(i(c,"reference.attribute-value"))return;if(i(c,"attribute-value")){var h=l.getCurrentTokenColumn()+c.value.length;if(a.column<h)return;if(a.column==h){var u=l.stepForward();if(u&&i(u,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(s.getLine(a.row).slice(a.column)))return;for(;!i(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(i(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(d==a.row&&(f=f.substring(0,a.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,s){if("\n"==s){var o=n.getCursorPosition(),a=i.getLine(o.row),l=new r(i,o.row,o.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var h=c.value,u=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[h]){var d=i.getTokenAt(o.row,o.column+1),p=(a=i.getLine(u),this.$getIndent(a)),f=p+i.getTabString();return d&&"</"===d.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))});s.inherits(a,o),t.XmlBehaviour=a})),ace.define("ace/mode/folding/mixed",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("./fold_mode").FoldMode,o=t.FoldMode=function(e,t){this.defaultMode=e,this.subModes=t};i.inherits(o,s),function(){this.$getMode=function(e){for(var t in"string"!=typeof e&&(e=e[0]),this.subModes)if(0===e.indexOf(t))return this.subModes[t];return null},this.$tryMode=function(e,t,n,i){var s=this.$getMode(e);return s?s.getFoldWidget(t,n,i):""},this.getFoldWidget=function(e,t,n){return this.$tryMode(e.getState(n-1),e,t,n)||this.$tryMode(e.getState(n),e,t,n)||this.defaultMode.getFoldWidget(e,t,n)},this.getFoldWidgetRange=function(e,t,n){var i=this.$getMode(e.getState(n-1));return i&&i.getFoldWidget(e,t,n)||(i=this.$getMode(e.getState(n))),i&&i.getFoldWidget(e,t,n)||(i=this.defaultMode),i.getFoldWidgetRange(e,t,n)}}.call(o.prototype)})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}var s=e("../../lib/oop"),o=e("../../range").Range,r=e("./fold_mode").FoldMode,a=t.FoldMode=function(e,t){r.call(this),this.voidElements=e||{},this.optionalEndTags=s.mixin({},this.voidElements),t&&s.mixin(this.optionalEndTags,t)};s.inherits(a,r);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"===t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),s=new l,o=0;o<n.length;o++){var r=n[o];if(i(r,"tag-open")){if(s.end.column=s.start.column+r.value.length,s.closing=i(r,"end-tag-open"),!(r=n[++o]))return null;for(s.tagName=r.value,s.end.column+=r.value.length,o++;o<n.length;o++)if(r=n[o],s.end.column+=r.value.length,i(r,"tag-close")){s.selfClosing="/>"==r.value;break}return s}if(i(r,"tag-close"))return s.selfClosing="/>"==r.value,s;s.start.column+=r.value.length}return null},this._findEndTagInLine=function(e,t,n,s){for(var o=e.getTokens(t),r=0,a=0;a<o.length;a++){var l=o[a];if(!((r+=l.value.length)<s)&&i(l,"end-tag-open")&&(l=o[a+1])&&l.value==n)return!0}return!1},this.getFoldWidgetRange=function(e,t,n){var i=e.getMatchingTags({row:n,column:0});return i?new o(i.openTag.end.row,i.openTag.end.column,i.closeTag.start.row,i.closeTag.start.column):this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}}).call(a.prototype)})),ace.define("ace/mode/folding/html",["require","exports","module","ace/lib/oop","ace/mode/folding/mixed","ace/mode/folding/xml","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("./mixed").FoldMode,o=e("./xml").FoldMode,r=e("./cstyle").FoldMode,a=t.FoldMode=function(e,t){s.call(this,new o(e,t),{"js-":new r,"css-":new r})};i.inherits(a,s)})),ace.define("ace/mode/html_completions",["require","exports","module","ace/token_iterator"],(function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}function s(e,t){for(var n=new r(e,t.row,t.column),s=n.getCurrentToken();s&&!i(s,"tag-name");)s=n.stepBackward();if(s)return s.value}function o(e,t){for(var n=new r(e,t.row,t.column),s=n.getCurrentToken();s&&!i(s,"attribute-name");)s=n.stepBackward();if(s)return s.value}var r=e("../token_iterator").TokenIterator,a=["accesskey","class","contenteditable","contextmenu","dir","draggable","dropzone","hidden","id","inert","itemid","itemprop","itemref","itemscope","itemtype","lang","spellcheck","style","tabindex","title","translate"].concat(["onabort","onblur","oncancel","oncanplay","oncanplaythrough","onchange","onclick","onclose","oncontextmenu","oncuechange","ondblclick","ondrag","ondragend","ondragenter","ondragleave","ondragover","ondragstart","ondrop","ondurationchange","onemptied","onended","onerror","onfocus","oninput","oninvalid","onkeydown","onkeypress","onkeyup","onload","onloadeddata","onloadedmetadata","onloadstart","onmousedown","onmousemove","onmouseout","onmouseover","onmouseup","onmousewheel","onpause","onplay","onplaying","onprogress","onratechange","onreset","onscroll","onseeked","onseeking","onselect","onshow","onstalled","onsubmit","onsuspend","ontimeupdate","onvolumechange","onwaiting"]),l={a:{href:1,target:{_blank:1,top:1},ping:1,rel:{nofollow:1,alternate:1,author:1,bookmark:1,help:1,license:1,next:1,noreferrer:1,prefetch:1,prev:1,search:1,tag:1},media:1,hreflang:1,type:1},abbr:{},address:{},area:{shape:1,coords:1,href:1,hreflang:1,alt:1,target:1,media:1,rel:1,ping:1,type:1},article:{pubdate:1},aside:{},audio:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},muted:{muted:1},preload:{auto:1,metadata:1,none:1}},b:{},base:{href:1,target:1},bdi:{},bdo:{},blockquote:{cite:1},body:{onafterprint:1,onbeforeprint:1,onbeforeunload:1,onhashchange:1,onmessage:1,onoffline:1,onpopstate:1,onredo:1,onresize:1,onstorage:1,onundo:1,onunload:1},br:{},button:{autofocus:1,disabled:{disabled:1},form:1,formaction:1,formenctype:1,formmethod:1,formnovalidate:1,formtarget:1,name:1,value:1,type:{button:1,submit:1}},canvas:{width:1,height:1},caption:{},cite:{},code:{},col:{span:1},colgroup:{span:1},command:{type:1,label:1,icon:1,disabled:1,checked:1,radiogroup:1,command:1},data:{},datalist:{},dd:{},del:{cite:1,datetime:1},details:{open:1},dfn:{},dialog:{open:1},div:{},dl:{},dt:{},em:{},embed:{src:1,height:1,width:1,type:1},fieldset:{disabled:1,form:1,name:1},figcaption:{},figure:{},footer:{},form:{"accept-charset":1,action:1,autocomplete:1,enctype:{"multipart/form-data":1,"application/x-www-form-urlencoded":1},method:{get:1,post:1},name:1,novalidate:1,target:{_blank:1,top:1}},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{},header:{},hr:{},html:{manifest:1},i:{},iframe:{name:1,src:1,height:1,width:1,sandbox:{"allow-same-origin":1,"allow-top-navigation":1,"allow-forms":1,"allow-scripts":1},seamless:{seamless:1}},img:{alt:1,src:1,height:1,width:1,usemap:1,ismap:1},input:{type:{text:1,password:1,hidden:1,checkbox:1,submit:1,radio:1,file:1,button:1,reset:1,image:31,color:1,date:1,datetime:1,"datetime-local":1,email:1,month:1,number:1,range:1,search:1,tel:1,time:1,url:1,week:1},accept:1,alt:1,autocomplete:{on:1,off:1},autofocus:{autofocus:1},checked:{checked:1},disabled:{disabled:1},form:1,formaction:1,formenctype:{"application/x-www-form-urlencoded":1,"multipart/form-data":1,"text/plain":1},formmethod:{get:1,post:1},formnovalidate:{formnovalidate:1},formtarget:{_blank:1,_self:1,_parent:1,_top:1},height:1,list:1,max:1,maxlength:1,min:1,multiple:{multiple:1},name:1,pattern:1,placeholder:1,readonly:{readonly:1},required:{required:1},size:1,src:1,step:1,width:1,files:1,value:1},ins:{cite:1,datetime:1},kbd:{},keygen:{autofocus:1,challenge:{challenge:1},disabled:{disabled:1},form:1,keytype:{rsa:1,dsa:1,ec:1},name:1},label:{form:1,for:1},legend:{},li:{value:1},link:{href:1,hreflang:1,rel:{stylesheet:1,icon:1},media:{all:1,screen:1,print:1},type:{"text/css":1,"image/png":1,"image/jpeg":1,"image/gif":1},sizes:1},main:{},map:{name:1},mark:{},math:{},menu:{type:1,label:1},meta:{"http-equiv":{"content-type":1},name:{description:1,keywords:1},content:{"text/html; charset=UTF-8":1},charset:1},meter:{value:1,min:1,max:1,low:1,high:1,optimum:1},nav:{},noscript:{href:1},object:{param:1,data:1,type:1,height:1,width:1,usemap:1,name:1,form:1,classid:1},ol:{start:1,reversed:1},optgroup:{disabled:1,label:1},option:{disabled:1,selected:1,label:1,value:1},output:{for:1,form:1,name:1},p:{},param:{name:1,value:1},pre:{},progress:{value:1,max:1},q:{cite:1},rp:{},rt:{},ruby:{},s:{},samp:{},script:{charset:1,type:{"text/javascript":1},src:1,defer:1,async:1},select:{autofocus:1,disabled:1,form:1,multiple:{multiple:1},name:1,size:1,readonly:{readonly:1}},small:{},source:{src:1,type:1,media:1},span:{},strong:{},style:{type:1,media:{all:1,screen:1,print:1},scoped:1},sub:{},sup:{},svg:{},table:{summary:1},tbody:{},td:{headers:1,rowspan:1,colspan:1},textarea:{autofocus:{autofocus:1},disabled:{disabled:1},form:1,maxlength:1,name:1,placeholder:1,readonly:{readonly:1},required:{required:1},rows:1,cols:1,wrap:{on:1,off:1,hard:1,soft:1}},tfoot:{},th:{headers:1,rowspan:1,colspan:1,scope:1},thead:{},time:{datetime:1},title:{},tr:{},track:{kind:1,src:1,srclang:1,label:1,default:1},section:{},summary:{},u:{},ul:{},var:{},video:{src:1,autobuffer:1,autoplay:{autoplay:1},loop:{loop:1},controls:{controls:1},width:1,height:1,poster:1,muted:{muted:1},preload:{auto:1,metadata:1,none:1}},wbr:{}},c=Object.keys(l),h=function(){};(function(){this.getCompletions=function(e,t,n,s){var o=t.getTokenAt(n.row,n.column);if(!o)return[];if(i(o,"tag-name")||i(o,"tag-open")||i(o,"end-tag-open"))return this.getTagCompletions(e,t,n,s);if(i(o,"tag-whitespace")||i(o,"attribute-name"))return this.getAttributeCompletions(e,t,n,s);if(i(o,"attribute-value"))return this.getAttributeValueCompletions(e,t,n,s);var r=t.getLine(n.row).substr(0,n.column);return/&[a-z]*$/i.test(r)?this.getHTMLEntityCompletions(e,t,n,s):[]},this.getTagCompletions=function(e,t,n,i){return c.map((function(e){return{value:e,meta:"tag",score:1e6}}))},this.getAttributeCompletions=function(e,t,n,i){var o=s(t,n);if(!o)return[];var r=a;return o in l&&(r=r.concat(Object.keys(l[o]))),r.map((function(e){return{caption:e,snippet:e+'="$0"',meta:"attribute",score:1e6}}))},this.getAttributeValueCompletions=function(e,t,n,i){var r=s(t,n),a=o(t,n);if(!r)return[];var c=[];return r in l&&a in l[r]&&"object"==typeof l[r][a]&&(c=Object.keys(l[r][a])),c.map((function(e){return{caption:e,snippet:e,meta:"attribute value",score:1e6}}))},this.getHTMLEntityCompletions=function(e,t,n,i){return["Aacute;","aacute;","Acirc;","acirc;","acute;","AElig;","aelig;","Agrave;","agrave;","alefsym;","Alpha;","alpha;","amp;","and;","ang;","Aring;","aring;","asymp;","Atilde;","atilde;","Auml;","auml;","bdquo;","Beta;","beta;","brvbar;","bull;","cap;","Ccedil;","ccedil;","cedil;","cent;","Chi;","chi;","circ;","clubs;","cong;","copy;","crarr;","cup;","curren;","Dagger;","dagger;","dArr;","darr;","deg;","Delta;","delta;","diams;","divide;","Eacute;","eacute;","Ecirc;","ecirc;","Egrave;","egrave;","empty;","emsp;","ensp;","Epsilon;","epsilon;","equiv;","Eta;","eta;","ETH;","eth;","Euml;","euml;","euro;","exist;","fnof;","forall;","frac12;","frac14;","frac34;","frasl;","Gamma;","gamma;","ge;","gt;","hArr;","harr;","hearts;","hellip;","Iacute;","iacute;","Icirc;","icirc;","iexcl;","Igrave;","igrave;","image;","infin;","int;","Iota;","iota;","iquest;","isin;","Iuml;","iuml;","Kappa;","kappa;","Lambda;","lambda;","lang;","laquo;","lArr;","larr;","lceil;","ldquo;","le;","lfloor;","lowast;","loz;","lrm;","lsaquo;","lsquo;","lt;","macr;","mdash;","micro;","middot;","minus;","Mu;","mu;","nabla;","nbsp;","ndash;","ne;","ni;","not;","notin;","nsub;","Ntilde;","ntilde;","Nu;","nu;","Oacute;","oacute;","Ocirc;","ocirc;","OElig;","oelig;","Ograve;","ograve;","oline;","Omega;","omega;","Omicron;","omicron;","oplus;","or;","ordf;","ordm;","Oslash;","oslash;","Otilde;","otilde;","otimes;","Ouml;","ouml;","para;","part;","permil;","perp;","Phi;","phi;","Pi;","pi;","piv;","plusmn;","pound;","Prime;","prime;","prod;","prop;","Psi;","psi;","quot;","radic;","rang;","raquo;","rArr;","rarr;","rceil;","rdquo;","real;","reg;","rfloor;","Rho;","rho;","rlm;","rsaquo;","rsquo;","sbquo;","Scaron;","scaron;","sdot;","sect;","shy;","Sigma;","sigma;","sigmaf;","sim;","spades;","sub;","sube;","sum;","sup;","sup1;","sup2;","sup3;","supe;","szlig;","Tau;","tau;","there4;","Theta;","theta;","thetasym;","thinsp;","THORN;","thorn;","tilde;","times;","trade;","Uacute;","uacute;","uArr;","uarr;","Ucirc;","ucirc;","Ugrave;","ugrave;","uml;","upsih;","Upsilon;","upsilon;","Uuml;","uuml;","weierp;","Xi;","xi;","Yacute;","yacute;","yen;","Yuml;","yuml;","Zeta;","zeta;","zwj;","zwnj;"].map((function(e){return{caption:e,snippet:e,meta:"html entity",score:1e6}}))}}).call(h.prototype),t.HtmlCompletions=h})),ace.define("ace/mode/html",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/javascript","ace/mode/css","ace/mode/html_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/html","ace/mode/html_completions","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/lang"),o=e("./text").Mode,r=e("./javascript").Mode,a=e("./css").Mode,l=e("./html_highlight_rules").HtmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,h=e("./folding/html").FoldMode,u=e("./html_completions").HtmlCompletions,d=e("../worker/worker_client").WorkerClient,p=["area","base","br","col","embed","hr","img","input","keygen","link","meta","menuitem","param","source","track","wbr"],f=["li","dt","dd","p","rt","rp","optgroup","option","colgroup","td","th"],g=function(e){this.fragmentContext=e&&e.fragmentContext,this.HighlightRules=l,this.$behaviour=new c,this.$completer=new u,this.createModeDelegates({"js-":r,"css-":a}),this.foldingRules=new h(this.voidElements,s.arrayToMap(f))};i.inherits(g,o),function(){this.blockComment={start:"\x3c!--",end:"--\x3e"},this.voidElements=s.arrayToMap(p),this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.getCompletions=function(e,t,n,i){return this.$completer.getCompletions(e,t,n,i)},this.createWorker=function(e){if(this.constructor==g){var t=new d(["ace"],"ace/mode/html_worker","Worker");return t.attachToDocument(e.getDocument()),this.fragmentContext&&t.call("setOptions",[{context:this.fragmentContext}]),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},this.$id="ace/mode/html",this.snippetFileId="ace/snippets/html"}.call(g.prototype),t.Mode=g})),ace.require(["ace/mode/html"],(function(t){e&&(e.exports=t)}))},161:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/doc_comment_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment.doc.tag",regex:"@[\\w\\d_]+"},o.getTagRule(),{defaultToken:"comment.doc",caseInsensitive:!0}]}};i.inherits(o,s),o.getTagRule=function(e){return{token:"comment.doc.tag.storage.type",regex:"\\b(?:TODO|FIXME|XXX|HACK)\\b"}},o.getStartRule=function(e){return{token:"comment.doc",regex:"\\/\\*(?=\\*)",next:e}},o.getEndRule=function(e){return{token:"comment.doc",regex:"\\*\\/",next:e}},t.DocCommentHighlightRules=o})),ace.define("ace/mode/javascript_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";function i(){var e=l.replace("\\d","\\d\\-"),t={onMatch:function(e,t,n){var i="/"==e.charAt(1)?2:1;return 1==i?(t!=this.nextState?n.unshift(this.next,this.nextState,0):n.unshift(this.next),n[2]++):2==i&&t==this.nextState&&(n[1]--,(!n[1]||n[1]<0)&&(n.shift(),n.shift())),[{type:"meta.tag.punctuation."+(1==i?"":"end-")+"tag-open.xml",value:e.slice(0,i)},{type:"meta.tag.tag-name.xml",value:e.substr(i)}]},regex:"</?"+e,next:"jsxAttributes",nextState:"jsx"};this.$rules.start.unshift(t);var n={regex:"{",token:"paren.quasi.start",push:"start"};this.$rules.jsx=[n,t,{include:"reference"},{defaultToken:"string"}],this.$rules.jsxAttributes=[{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",onMatch:function(e,t,n){return t==n[0]&&n.shift(),2==e.length&&(n[0]==this.nextState&&n[1]--,(!n[1]||n[1]<0)&&n.splice(0,2)),this.next=n[0]||"start",[{type:this.token,value:e}]},nextState:"jsx"},n,s("jsxAttributes"),{token:"entity.other.attribute-name.xml",regex:e},{token:"keyword.operator.attribute-equals.xml",regex:"="},{token:"text.tag-whitespace.xml",regex:"\\s+"},{token:"string.attribute-value.xml",regex:"'",stateName:"jsx_attr_q",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',stateName:"jsx_attr_qq",push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"reference"},{defaultToken:"string.attribute-value.xml"}]},t],this.$rules.reference=[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}]}function s(e){return[{token:"comment",regex:/\/\*/,next:[r.getTagRule(),{token:"comment",regex:"\\*\\/",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]},{token:"comment",regex:"\\/\\/",next:[r.getTagRule(),{token:"comment",regex:"$|^",next:e||"pop"},{defaultToken:"comment",caseInsensitive:!0}]}]}var o=e("../lib/oop"),r=e("./doc_comment_highlight_rules").DocCommentHighlightRules,a=e("./text_highlight_rules").TextHighlightRules,l="[a-zA-Z\\$_-][a-zA-Z\\d\\$_-]*",c=function(e){var t=this.createKeywordMapper({"variable.language":"Array|Boolean|Date|Function|Iterator|Number|Object|RegExp|String|Proxy|Symbol|Namespace|QName|XML|XMLList|ArrayBuffer|Float32Array|Float64Array|Int16Array|Int32Array|Int8Array|Uint16Array|Uint32Array|Uint8Array|Uint8ClampedArray|Error|EvalError|InternalError|RangeError|ReferenceError|StopIteration|SyntaxError|TypeError|URIError|decodeURI|decodeURIComponent|encodeURI|encodeURIComponent|eval|isFinite|isNaN|parseFloat|parseInt|JSON|Math|this|arguments|prototype|window|document",keyword:"const|yield|import|get|set|async|await|break|case|catch|continue|default|delete|do|else|finally|for|function|if|in|of|instanceof|new|return|switch|throw|try|typeof|let|var|while|with|debugger|__parent__|__count__|escape|unescape|with|__proto__|class|enum|extends|super|export|implements|private|public|interface|package|protected|static|constructor","storage.type":"const|let|var|function","constant.language":"null|Infinity|NaN|undefined","support.function":"alert","constant.language.boolean":"true|false"},"identifier"),n="\\\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|u{[0-9a-fA-F]{1,6}}|[0-2][0-7]{0,2}|3[0-7][0-7]?|[4-7][0-7]?|.)";this.$rules={no_regex:[r.getStartRule("doc-start"),s("no_regex"),{token:"string",regex:"'(?=.)",next:"qstring"},{token:"string",regex:'"(?=.)',next:"qqstring"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:["storage.type","punctuation.operator","support.function","punctuation.operator","entity.name.function","text","keyword.operator"],regex:"("+l+")(\\.)(prototype)(\\.)("+l+")(\\s*)(=)",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","keyword.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(\\s+)(\\w+)(\\s*)(\\()",next:"function_arguments"},{token:["storage.type","text","entity.name.function","text","paren.lparen"],regex:"(function\\*?)(\\s+)("+l+")(\\s*)(\\()",next:"function_arguments"},{token:["entity.name.function","text","punctuation.operator","text","storage.type","text","paren.lparen"],regex:"("+l+")(\\s*)(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:["text","text","storage.type","text","paren.lparen"],regex:"(:)(\\s*)(function\\*?)(\\s*)(\\()",next:"function_arguments"},{token:"keyword",regex:"from(?=\\s*('|\"))"},{token:"keyword",regex:"(?:case|do|else|finally|in|instanceof|return|throw|try|typeof|yield|void)\\b",next:"start"},{token:"support.constant",regex:/that\b/},{token:["storage.type","punctuation.operator","support.function.firebug"],regex:/(console)(\.)(warn|info|log|error|time|trace|timeEnd|assert)\b/},{token:t,regex:l},{token:"punctuation.operator",regex:/[.](?![.])/,next:"property"},{token:"storage.type",regex:/=>/,next:"start"},{token:"keyword.operator",regex:/--|\+\+|\.{3}|===|==|=|!=|!==|<+=?|>+=?|!|&&|\|\||\?:|[!$%&*+\-~\/^]=?/,next:"start"},{token:"punctuation.operator",regex:/[?:,;.]/,next:"start"},{token:"paren.lparen",regex:/[\[({]/,next:"start"},{token:"paren.rparen",regex:/[\])}]/},{token:"comment",regex:/^#!.*$/}],property:[{token:"text",regex:"\\s+"},{token:["storage.type","punctuation.operator","entity.name.function","text","keyword.operator","text","storage.type","text","entity.name.function","text","paren.lparen"],regex:"("+l+")(\\.)("+l+")(\\s*)(=)(\\s*)(function\\*?)(?:(\\s+)(\\w+))?(\\s*)(\\()",next:"function_arguments"},{token:"punctuation.operator",regex:/[.](?![.])/},{token:"support.function",regex:/(s(?:h(?:ift|ow(?:Mod(?:elessDialog|alDialog)|Help))|croll(?:X|By(?:Pages|Lines)?|Y|To)?|t(?:op|rike)|i(?:n|zeToContent|debar|gnText)|ort|u(?:p|b(?:str(?:ing)?)?)|pli(?:ce|t)|e(?:nd|t(?:Re(?:sizable|questHeader)|M(?:i(?:nutes|lliseconds)|onth)|Seconds|Ho(?:tKeys|urs)|Year|Cursor|Time(?:out)?|Interval|ZOptions|Date|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Date|FullYear)|FullYear|Active)|arch)|qrt|lice|avePreferences|mall)|h(?:ome|andleEvent)|navigate|c(?:har(?:CodeAt|At)|o(?:s|n(?:cat|textual|firm)|mpile)|eil|lear(?:Timeout|Interval)?|a(?:ptureEvents|ll)|reate(?:StyleSheet|Popup|EventObject))|t(?:o(?:GMTString|S(?:tring|ource)|U(?:TCString|pperCase)|Lo(?:caleString|werCase))|est|a(?:n|int(?:Enabled)?))|i(?:s(?:NaN|Finite)|ndexOf|talics)|d(?:isableExternalCapture|ump|etachEvent)|u(?:n(?:shift|taint|escape|watch)|pdateCommands)|j(?:oin|avaEnabled)|p(?:o(?:p|w)|ush|lugins.refresh|a(?:ddings|rse(?:Int|Float)?)|r(?:int|ompt|eference))|e(?:scape|nableExternalCapture|val|lementFromPoint|x(?:p|ec(?:Script|Command)?))|valueOf|UTC|queryCommand(?:State|Indeterm|Enabled|Value)|f(?:i(?:nd|lter|le(?:ModifiedDate|Size|CreatedDate|UpdatedDate)|xed)|o(?:nt(?:size|color)|rward|rEach)|loor|romCharCode)|watch|l(?:ink|o(?:ad|g)|astIndexOf)|a(?:sin|nchor|cos|t(?:tachEvent|ob|an(?:2)?)|pply|lert|b(?:s|ort))|r(?:ou(?:nd|teEvents)|e(?:size(?:By|To)|calc|turnValue|place|verse|l(?:oad|ease(?:Capture|Events)))|andom)|g(?:o|et(?:ResponseHeader|M(?:i(?:nutes|lliseconds)|onth)|Se(?:conds|lection)|Hours|Year|Time(?:zoneOffset)?|Da(?:y|te)|UTC(?:M(?:i(?:nutes|lliseconds)|onth)|Seconds|Hours|Da(?:y|te)|FullYear)|FullYear|A(?:ttention|llResponseHeaders)))|m(?:in|ove(?:B(?:y|elow)|To(?:Absolute)?|Above)|ergeAttributes|a(?:tch|rgins|x))|b(?:toa|ig|o(?:ld|rderWidths)|link|ack))\b(?=\()/},{token:"support.function.dom",regex:/(s(?:ub(?:stringData|mit)|plitText|e(?:t(?:NamedItem|Attribute(?:Node)?)|lect))|has(?:ChildNodes|Feature)|namedItem|c(?:l(?:ick|o(?:se|neNode))|reate(?:C(?:omment|DATASection|aption)|T(?:Head|extNode|Foot)|DocumentFragment|ProcessingInstruction|E(?:ntityReference|lement)|Attribute))|tabIndex|i(?:nsert(?:Row|Before|Cell|Data)|tem)|open|delete(?:Row|C(?:ell|aption)|T(?:Head|Foot)|Data)|focus|write(?:ln)?|a(?:dd|ppend(?:Child|Data))|re(?:set|place(?:Child|Data)|move(?:NamedItem|Child|Attribute(?:Node)?)?)|get(?:NamedItem|Element(?:sBy(?:Name|TagName|ClassName)|ById)|Attribute(?:Node)?)|blur)\b(?=\()/},{token:"support.constant",regex:/(s(?:ystemLanguage|cr(?:ipts|ollbars|een(?:X|Y|Top|Left))|t(?:yle(?:Sheets)?|atus(?:Text|bar)?)|ibling(?:Below|Above)|ource|uffixes|e(?:curity(?:Policy)?|l(?:ection|f)))|h(?:istory|ost(?:name)?|as(?:h|Focus))|y|X(?:MLDocument|SLDocument)|n(?:ext|ame(?:space(?:s|URI)|Prop))|M(?:IN_VALUE|AX_VALUE)|c(?:haracterSet|o(?:n(?:structor|trollers)|okieEnabled|lorDepth|mp(?:onents|lete))|urrent|puClass|l(?:i(?:p(?:boardData)?|entInformation)|osed|asses)|alle(?:e|r)|rypto)|t(?:o(?:olbar|p)|ext(?:Transform|Indent|Decoration|Align)|ags)|SQRT(?:1_2|2)|i(?:n(?:ner(?:Height|Width)|put)|ds|gnoreCase)|zIndex|o(?:scpu|n(?:readystatechange|Line)|uter(?:Height|Width)|p(?:sProfile|ener)|ffscreenBuffering)|NEGATIVE_INFINITY|d(?:i(?:splay|alog(?:Height|Top|Width|Left|Arguments)|rectories)|e(?:scription|fault(?:Status|Ch(?:ecked|arset)|View)))|u(?:ser(?:Profile|Language|Agent)|n(?:iqueID|defined)|pdateInterval)|_content|p(?:ixelDepth|ort|ersonalbar|kcs11|l(?:ugins|atform)|a(?:thname|dding(?:Right|Bottom|Top|Left)|rent(?:Window|Layer)?|ge(?:X(?:Offset)?|Y(?:Offset)?))|r(?:o(?:to(?:col|type)|duct(?:Sub)?|mpter)|e(?:vious|fix)))|e(?:n(?:coding|abledPlugin)|x(?:ternal|pando)|mbeds)|v(?:isibility|endor(?:Sub)?|Linkcolor)|URLUnencoded|P(?:I|OSITIVE_INFINITY)|f(?:ilename|o(?:nt(?:Size|Family|Weight)|rmName)|rame(?:s|Element)|gColor)|E|whiteSpace|l(?:i(?:stStyleType|n(?:eHeight|kColor))|o(?:ca(?:tion(?:bar)?|lName)|wsrc)|e(?:ngth|ft(?:Context)?)|a(?:st(?:M(?:odified|atch)|Index|Paren)|yer(?:s|X)|nguage))|a(?:pp(?:MinorVersion|Name|Co(?:deName|re)|Version)|vail(?:Height|Top|Width|Left)|ll|r(?:ity|guments)|Linkcolor|bove)|r(?:ight(?:Context)?|e(?:sponse(?:XML|Text)|adyState))|global|x|m(?:imeTypes|ultiline|enubar|argin(?:Right|Bottom|Top|Left))|L(?:N(?:10|2)|OG(?:10E|2E))|b(?:o(?:ttom|rder(?:Width|RightWidth|BottomWidth|Style|Color|TopWidth|LeftWidth))|ufferDepth|elow|ackground(?:Color|Image)))\b/},{token:"identifier",regex:l},{regex:"",token:"empty",next:"no_regex"}],start:[r.getStartRule("doc-start"),s("start"),{token:"string.regexp",regex:"\\/",next:"regex"},{token:"text",regex:"\\s+|^$",next:"start"},{token:"empty",regex:"",next:"no_regex"}],regex:[{token:"regexp.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"string.regexp",regex:"/[sxngimy]*",next:"no_regex"},{token:"invalid",regex:/\{\d+\b,?\d*\}[+*]|[+*$^?][+*]|[$^][?]|\?{3,}/},{token:"constant.language.escape",regex:/\(\?[:=!]|\)|\{\d+\b,?\d*\}|[+*]\?|[()$^+*?.]/},{token:"constant.language.delimiter",regex:/\|/},{token:"constant.language.escape",regex:/\[\^?/,next:"regex_character_class"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp"}],regex_character_class:[{token:"regexp.charclass.keyword.operator",regex:"\\\\(?:u[\\da-fA-F]{4}|x[\\da-fA-F]{2}|.)"},{token:"constant.language.escape",regex:"]",next:"regex"},{token:"constant.language.escape",regex:"-"},{token:"empty",regex:"$",next:"no_regex"},{defaultToken:"string.regexp.charachterclass"}],default_parameter:[{token:"string",regex:"'(?=.)",push:[{token:"string",regex:"'|$",next:"pop"},{include:"qstring"}]},{token:"string",regex:'"(?=.)',push:[{token:"string",regex:'"|$',next:"pop"},{include:"qqstring"}]},{token:"constant.language",regex:"null|Infinity|NaN|undefined"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F]+|[oO][0-7]+|[bB][01]+)\b/},{token:"constant.numeric",regex:/(?:\d\d*(?:\.\d*)?|\.\d+)(?:[eE][+-]?\d+\b)?/},{token:"punctuation.operator",regex:",",next:"function_arguments"},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],function_arguments:[s("function_arguments"),{token:"variable.parameter",regex:l},{token:"punctuation.operator",regex:","},{token:"text",regex:"\\s+"},{token:"punctuation.operator",regex:"$"},{token:"empty",regex:"",next:"no_regex"}],qqstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:'"|$',next:"no_regex"},{defaultToken:"string"}],qstring:[{token:"constant.language.escape",regex:n},{token:"string",regex:"\\\\$",consumeLineEnd:!0},{token:"string",regex:"'|$",next:"no_regex"},{defaultToken:"string"}]},e&&e.noES6||(this.$rules.no_regex.unshift({regex:"[{}]",onMatch:function(e,t,n){if(this.next="{"==e?this.nextState:"","{"==e&&n.length)n.unshift("start",t);else if("}"==e&&n.length&&(n.shift(),this.next=n.shift(),-1!=this.next.indexOf("string")||-1!=this.next.indexOf("jsx")))return"paren.quasi.end";return"{"==e?"paren.lparen":"paren.rparen"},nextState:"start"},{token:"string.quasi.start",regex:/`/,push:[{token:"constant.language.escape",regex:n},{token:"paren.quasi.start",regex:/\${/,push:"start"},{token:"string.quasi.end",regex:/`/,next:"pop"},{defaultToken:"string.quasi"}]},{token:["variable.parameter","text"],regex:"("+l+")(\\s*)(?=\\=>)"},{token:"paren.lparen",regex:"(\\()(?=.+\\s*=>)",next:"function_arguments"},{token:"variable.language",regex:"(?:(?:(?:Weak)?(?:Set|Map))|Promise)\\b"}),this.$rules.function_arguments.unshift({token:"keyword.operator",regex:"=",next:"default_parameter"},{token:"keyword.operator",regex:"\\.{3}"}),this.$rules.property.unshift({token:"support.function",regex:"(findIndex|repeat|startsWith|endsWith|includes|isSafeInteger|trunc|cbrt|log2|log10|sign|then|catch|finally|resolve|reject|race|any|all|allSettled|keys|entries|isInteger)\\b(?=\\()"},{token:"constant.language",regex:"(?:MAX_SAFE_INTEGER|MIN_SAFE_INTEGER|EPSILON)\\b"}),(!e||0!=e.jsx)&&i.call(this)),this.embedRules(r,"doc-",[r.getEndRule("no_regex")]),this.normalizeRules()};o.inherits(c,a),t.JavaScriptHighlightRules=c})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,s=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var s=n[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var r=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,s-1),r)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(s.prototype),t.MatchingBraceOutdent=s})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("../../range").Range,o=e("./fold_mode").FoldMode,r=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(r,o),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var s=this._getFoldWidgetBase(e,t,n);return!s&&this.startRegionRe.test(i)?"start":s},this.getFoldWidgetRange=function(e,t,n,i){var s,o=e.getLine(n);if(this.startRegionRe.test(o))return this.getCommentRegionBlock(e,o,n);if(s=o.match(this.foldingStartMarker)){var r=s.index;if(s[1])return this.openingBracketBlock(e,s[1],n,r);var a=e.getCommentFoldRange(n,r+s[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(s=o.match(this.foldingStopMarker))?(r=s.index+s[0].length,s[1]?this.closingBracketBlock(e,s[1],n,r):e.getCommentFoldRange(n,r,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,r=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(i>c)break;var h=this.getFoldWidgetRange(e,"all",t);if(h){if(h.start.row<=o)break;if(h.isMultiLine())t=h.end.row;else if(i==c)break}a=t}}return new s(o,r,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),r=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(n>r)return new s(r,i,n,t.length)}}.call(r.prototype)})),ace.define("ace/mode/javascript",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/javascript_highlight_rules","ace/mode/matching_brace_outdent","ace/worker/worker_client","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text").Mode,o=e("./javascript_highlight_rules").JavaScriptHighlightRules,r=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("../worker/worker_client").WorkerClient,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,h=function(){this.HighlightRules=o,this.$outdent=new r,this.$behaviour=new l,this.foldingRules=new c};i.inherits(h,s),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.$quotes={'"':'"',"'":"'","`":"`"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t),s=this.getTokenizer().getLineTokens(t,e),o=s.tokens,r=s.state;if(o.length&&"comment"==o[o.length-1].type)return i;if("start"==e||"no_regex"==e)(a=t.match(/^.*(?:\bcase\b.*:|[\{\(\[])\s*$/))&&(i+=n);else if("doc-start"==e){if("start"==r||"no_regex"==r)return"";var a;(a=t.match(/^\s*(\/?)\*/))&&(a[1]&&(i+=" "),i+="* ")}return i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new a(["ace"],"ace/mode/javascript_worker","JavaScriptWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/javascript",this.snippetFileId="ace/snippets/javascript"}.call(h.prototype),t.Mode=h})),ace.define("ace/mode/java_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/doc_comment_highlight_rules","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./doc_comment_highlight_rules").DocCommentHighlightRules,o=e("./text_highlight_rules").TextHighlightRules,r=function(){var e=this.createKeywordMapper({"variable.language":"this",keyword:"abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while|var","constant.language":"null|Infinity|NaN|undefined","support.function":"AbstractMethodError|AssertionError|ClassCircularityError|ClassFormatError|Deprecated|EnumConstantNotPresentException|ExceptionInInitializerError|IllegalAccessError|IllegalThreadStateException|InstantiationError|InternalError|NegativeArraySizeException|NoSuchFieldError|Override|Process|ProcessBuilder|SecurityManager|StringIndexOutOfBoundsException|SuppressWarnings|TypeNotPresentException|UnknownError|UnsatisfiedLinkError|UnsupportedClassVersionError|VerifyError|InstantiationException|IndexOutOfBoundsException|ArrayIndexOutOfBoundsException|CloneNotSupportedException|NoSuchFieldException|IllegalArgumentException|NumberFormatException|SecurityException|Void|InheritableThreadLocal|IllegalStateException|InterruptedException|NoSuchMethodException|IllegalAccessException|UnsupportedOperationException|Enum|StrictMath|Package|Compiler|Readable|Runtime|StringBuilder|Math|IncompatibleClassChangeError|NoSuchMethodError|ThreadLocal|RuntimePermission|ArithmeticException|NullPointerException|Long|Integer|Short|Byte|Double|Number|Float|Character|Boolean|StackTraceElement|Appendable|StringBuffer|Iterable|ThreadGroup|Runnable|Thread|IllegalMonitorStateException|StackOverflowError|OutOfMemoryError|VirtualMachineError|ArrayStoreException|ClassCastException|LinkageError|NoClassDefFoundError|ClassNotFoundException|RuntimeException|Exception|ThreadDeath|Error|Throwable|System|ClassLoader|Cloneable|Class|CharSequence|Comparable|String|Object"},"identifier");this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},s.getStartRule("doc-start"),{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/0(?:[xX][0-9a-fA-F][0-9a-fA-F_]*|[bB][01][01_]*)[LlSsDdFfYy]?\b/},{token:"constant.numeric",regex:/[+-]?\d[\d_]*(?:(?:\.[\d_]*)?(?:[eE][+-]?[\d_]+)?)?[LlSsDdFfYy]?\b/},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{regex:"(open(?:\\s+))?module(?=\\s*\\w)",token:"keyword",next:[{regex:"{",token:"paren.lparen",next:[{regex:"}",token:"paren.rparen",next:"start"},{regex:"\\b(requires|transitive|exports|opens|to|uses|provides|with)\\b",token:"keyword"}]},{token:"text",regex:"\\s+"},{token:"identifier",regex:"\\w+"},{token:"punctuation.operator",regex:"."},{token:"text",regex:"\\s+"},{regex:"",next:"start"}]},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"!|\\$|%|&|\\||\\^|\\*|\\/|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|!|&&|\\|\\||\\?|\\:|\\*=|\\/=|%=|\\+=|\\-=|&=|\\|=|\\^=|\\b(?:in|instanceof|new|delete|typeof|void)"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]},this.embedRules(s,"doc-",[s.getEndRule("start")]),this.normalizeRules()};i.inherits(r,o),t.JavaHighlightRules=r})),ace.define("ace/mode/folding/java",["require","exports","module","ace/lib/oop","ace/mode/folding/cstyle","ace/range"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("./cstyle").FoldMode,o=e("../../range").Range,r=t.FoldMode=function(){};i.inherits(r,s),function(){this.importRegex=/^import /,this.getCStyleFoldWidget=this.getFoldWidget,this.getFoldWidget=function(e,t,n){if("markbegin"===t){var i=e.getLine(n);if(this.importRegex.test(i)&&(0==n||!this.importRegex.test(e.getLine(n-1))))return"start"}return this.getCStyleFoldWidget(e,t,n)},this.getCstyleFoldWidgetRange=this.getFoldWidgetRange,this.getFoldWidgetRange=function(e,t,n,i){var s=(h=e.getLine(n)).match(this.importRegex);if(!s||"markbegin"!==t)return this.getCstyleFoldWidgetRange(e,t,n,i);for(var r=s[0].length,a=e.getLength(),l=n,c=n;++n<a;){var h;if(!(h=e.getLine(n)).match(/^\s*$/)){if(!h.match(this.importRegex))break;c=n}}if(c>l){var u=e.getLine(c).length;return new o(l,r,c,u)}}}.call(r.prototype)})),ace.define("ace/mode/java",["require","exports","module","ace/lib/oop","ace/mode/javascript","ace/mode/java_highlight_rules","ace/mode/folding/java"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./javascript").Mode,o=e("./java_highlight_rules").JavaHighlightRules,r=e("./folding/java").FoldMode,a=function(){s.call(this),this.HighlightRules=o,this.foldingRules=new r};i.inherits(a,s),function(){this.createWorker=function(e){return null},this.$id="ace/mode/java",this.snippetFileId="ace/snippets/java"}.call(a.prototype),t.Mode=a})),ace.require(["ace/mode/java"],(function(t){e&&(e.exports=t)}))},964:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(e){var t="[_:a-zA-Z-][-_:.a-zA-Z0-9-]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+t+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:t},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+t+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+t+":)?"+t+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:t},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===o&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(s.prototype),i.inherits(o,s),t.XmlHighlightRules=o})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";function i(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var s=e("../../lib/oop"),o=e("../behaviour").Behaviour,r=e("../../token_iterator").TokenIterator,a=(e("../../lib/lang"),function(){this.add("string_dquotes","insertion",(function(e,t,n,s,o){if('"'==o||"'"==o){var a=o,l=s.doc.getTextRange(n.getSelectionRange());if(""!==l&&"'"!==l&&'"'!=l&&n.getWrapBehavioursEnabled())return{text:a+l+a,selection:!1};var c=n.getCursorPosition(),h=s.doc.getLine(c.row).substring(c.column,c.column+1),u=new r(s,c.row,c.column),d=u.getCurrentToken();if(h==a&&(i(d,"attribute-value")||i(d,"string")))return{text:"",selection:[1,1]};if(d||(d=u.stepBackward()),!d)return;for(;i(d,"tag-whitespace")||i(d,"whitespace");)d=u.stepBackward();var p=!h||h.match(/\s/);if(i(d,"attribute-equals")&&(p||">"==h)||i(d,"decl-attribute-equals")&&(p||"?"==h))return{text:a+a,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&('"'==o||"'"==o)&&i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==o)return s.end.column++,s})),this.add("autoclosing","insertion",(function(e,t,n,s,o){if(">"==o){var a=n.getSelectionRange().start,l=new r(s,a.row,a.column),c=l.getCurrentToken()||l.stepBackward();if(!c||!(i(c,"tag-name")||i(c,"tag-whitespace")||i(c,"attribute-name")||i(c,"attribute-equals")||i(c,"attribute-value")))return;if(i(c,"reference.attribute-value"))return;if(i(c,"attribute-value")){var h=l.getCurrentTokenColumn()+c.value.length;if(a.column<h)return;if(a.column==h){var u=l.stepForward();if(u&&i(u,"attribute-value"))return;l.stepBackward()}}if(/^\s*>/.test(s.getLine(a.row).slice(a.column)))return;for(;!i(c,"tag-name");)if("<"==(c=l.stepBackward()).value){c=l.stepForward();break}var d=l.getCurrentTokenRow(),p=l.getCurrentTokenColumn();if(i(l.stepBackward(),"end-tag-open"))return;var f=c.value;if(d==a.row&&(f=f.substring(0,a.column-p)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,i,s){if("\n"==s){var o=n.getCursorPosition(),a=i.getLine(o.row),l=new r(i,o.row,o.column),c=l.getCurrentToken();if(c&&-1!==c.type.indexOf("tag-close")){if("/>"==c.value)return;for(;c&&-1===c.type.indexOf("tag-name");)c=l.stepBackward();if(!c)return;var h=c.value,u=l.getCurrentTokenRow();if(!(c=l.stepBackward())||-1!==c.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[h]){var d=i.getTokenAt(o.row,o.column+1),p=(a=i.getLine(u),this.$getIndent(a)),f=p+i.getTabString();return d&&"</"===d.value?{text:"\n"+f+"\n"+p,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))});s.inherits(a,o),t.XmlBehaviour=a})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";function i(e,t){return e.type.lastIndexOf(t+".xml")>-1}var s=e("../../lib/oop"),o=e("../../range").Range,r=e("./fold_mode").FoldMode,a=t.FoldMode=function(e,t){r.call(this),this.voidElements=e||{},this.optionalEndTags=s.mixin({},this.voidElements),t&&s.mixin(this.optionalEndTags,t)};s.inherits(a,r);var l=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};(function(){this.getFoldWidget=function(e,t,n){var i=this._getFirstTagInLine(e,n);return i?i.closing||!i.tagName&&i.selfClosing?"markbeginend"===t?"end":"":!i.tagName||i.selfClosing||this.voidElements.hasOwnProperty(i.tagName.toLowerCase())||this._findEndTagInLine(e,n,i.tagName,i.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),s=new l,o=0;o<n.length;o++){var r=n[o];if(i(r,"tag-open")){if(s.end.column=s.start.column+r.value.length,s.closing=i(r,"end-tag-open"),!(r=n[++o]))return null;for(s.tagName=r.value,s.end.column+=r.value.length,o++;o<n.length;o++)if(r=n[o],s.end.column+=r.value.length,i(r,"tag-close")){s.selfClosing="/>"==r.value;break}return s}if(i(r,"tag-close"))return s.selfClosing="/>"==r.value,s;s.start.column+=r.value.length}return null},this._findEndTagInLine=function(e,t,n,s){for(var o=e.getTokens(t),r=0,a=0;a<o.length;a++){var l=o[a];if(!((r+=l.value.length)<s)&&i(l,"end-tag-open")&&(l=o[a+1])&&l.value==n)return!0}return!1},this.getFoldWidgetRange=function(e,t,n){var i=e.getMatchingTags({row:n,column:0});return i?new o(i.openTag.end.row,i.openTag.end.column,i.closeTag.start.row,i.closeTag.start.column):this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}}).call(a.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/lang"),o=e("./text").Mode,r=e("./xml_highlight_rules").XmlHighlightRules,a=e("./behaviour/xml").XmlBehaviour,l=e("./folding/xml").FoldMode,c=e("../worker/worker_client").WorkerClient,h=function(){this.HighlightRules=r,this.$behaviour=new a,this.foldingRules=new l};i.inherits(h,o),function(){this.voidElements=s.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new c(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(h.prototype),t.Mode=h})),ace.require(["ace/mode/xml"],(function(t){e&&(e.exports=t)}))},405:(e,t,n)=>{e=n.nmd(e),ace.define("ace/mode/yaml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){this.$rules={start:[{token:"comment",regex:"#.*$"},{token:"list.markup",regex:/^(?:-{3}|\.{3})\s*(?=#|$)/},{token:"list.markup",regex:/^\s*[\-?](?:$|\s)/},{token:"constant",regex:"!![\\w//]+"},{token:"constant.language",regex:"[&\\*][a-zA-Z0-9-_]+"},{token:["meta.tag","keyword"],regex:/^(\s*\w[^\s:]*?)(:(?=\s|$))/},{token:["meta.tag","keyword"],regex:/(\w[^\s:]*?)(\s*:(?=\s|$))/},{token:"keyword.operator",regex:"<<\\w*:\\w*"},{token:"keyword.operator",regex:"-\\s*(?=[{])"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:/[|>][-+\d]*(?:$|\s+(?:$|#))/,onMatch:function(e,t,n,i){i=i.replace(/ #.*/,"");var s=/^ *((:\s*)?-(\s*[^|>])?)?/.exec(i)[0].replace(/\S\s*$/,"").length,o=parseInt(/\d+[\s+-]*$/.exec(i));return o?(s+=o-1,this.next="mlString"):this.next="mlStringPre",n.length?(n[0]=this.next,n[1]=s):(n.push(this.next),n.push(s)),this.token},next:"mlString"},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"constant.numeric",regex:/(\b|[+\-\.])[\d_]+(?:(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)(?=[^\d-\w]|$)$/},{token:"constant.numeric",regex:/[+\-]?\.inf\b|NaN\b|0x[\dA-Fa-f_]+|0b[10_]+/},{token:"constant.language.boolean",regex:"\\b(?:true|false|TRUE|FALSE|True|False|yes|no)\\b"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:/[^\s,:\[\]\{\}]+/}],mlStringPre:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(e,t,n){return n[1]>=e.length?(this.next="start",n.shift(),n.shift()):(n[1]=e.length-1,this.next=n[0]="mlString"),this.token},next:"mlString"},{defaultToken:"string"}],mlString:[{token:"indent",regex:/^ *$/},{token:"indent",regex:/^ */,onMatch:function(e,t,n){return n[1]>=e.length?(this.next="start",n.splice(0)):this.next="mlString",this.token},next:"mlString"},{token:"string",regex:".+"}]},this.normalizeRules()};i.inherits(o,s),t.YamlHighlightRules=o})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range,s=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var s=n[1].length,o=e.findMatchingBracket({row:t,column:s});if(!o||o.row==t)return 0;var r=this.$getIndent(e.getLine(o.row));e.replace(new i(t,0,t,s-1),r)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(s.prototype),t.MatchingBraceOutdent=s})),ace.define("ace/mode/folding/coffee",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),s=e("./fold_mode").FoldMode,o=e("../../range").Range,r=t.FoldMode=function(){};i.inherits(r,s),function(){this.getFoldWidgetRange=function(e,t,n){var i=this.indentationBlock(e,n);if(i)return i;var s=/\S/,r=e.getLine(n),a=r.search(s);if(-1!=a&&"#"==r[a]){for(var l=r.length,c=e.getLength(),h=n,u=n;++n<c;){var d=(r=e.getLine(n)).search(s);if(-1!=d){if("#"!=r[d])break;u=n}}if(u>h){var p=e.getLine(u).length;return new o(h,l,u,p)}}},this.getFoldWidget=function(e,t,n){var i=e.getLine(n),s=i.search(/\S/),o=e.getLine(n+1),r=e.getLine(n-1),a=r.search(/\S/),l=o.search(/\S/);if(-1==s)return e.foldWidgets[n-1]=-1!=a&&a<l?"start":"","";if(-1==a){if(s==l&&"#"==i[s]&&"#"==o[s])return e.foldWidgets[n-1]="",e.foldWidgets[n+1]="","start"}else if(a==s&&"#"==i[s]&&"#"==r[s]&&-1==e.getLine(n-2).search(/\S/))return e.foldWidgets[n-1]="start",e.foldWidgets[n+1]="","";return e.foldWidgets[n-1]=-1!=a&&a<s?"start":"",s<l?"start":""}}.call(r.prototype)})),ace.define("ace/mode/yaml",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/yaml_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/coffee","ace/worker/worker_client"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("./text").Mode,o=e("./yaml_highlight_rules").YamlHighlightRules,r=e("./matching_brace_outdent").MatchingBraceOutdent,a=e("./folding/coffee").FoldMode,l=e("../worker/worker_client").WorkerClient,c=function(){this.HighlightRules=o,this.$outdent=new r,this.foldingRules=new a,this.$behaviour=this.$defaultBehaviour};i.inherits(c,s),function(){this.lineCommentStart=["#"],this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/yaml_worker","YamlWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/yaml"}.call(c.prototype),t.Mode=c})),ace.require(["ace/mode/yaml"],(function(t){e&&(e.exports=t)}))},399:(e,t,n)=>{e=n.nmd(e),ace.define("ace/theme/eclipse.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-eclipse .ace_gutter {\n  background: #ebebeb;\n  border-right: 1px solid rgb(159, 159, 159);\n  color: rgb(136, 136, 136);\n}\n\n.ace-eclipse .ace_print-margin {\n  width: 1px;\n  background: #ebebeb;\n}\n\n.ace-eclipse {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-eclipse .ace_fold {\n    background-color: rgb(60, 76, 114);\n}\n\n.ace-eclipse .ace_cursor {\n  color: black;\n}\n\n.ace-eclipse .ace_storage,\n.ace-eclipse .ace_keyword,\n.ace-eclipse .ace_variable {\n  color: rgb(127, 0, 85);\n}\n\n.ace-eclipse .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-eclipse .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-eclipse .ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-eclipse .ace_string {\n  color: rgb(42, 0, 255);\n}\n\n.ace-eclipse .ace_comment {\n  color: rgb(113, 150, 130);\n}\n\n.ace-eclipse .ace_comment.ace_doc {\n  color: rgb(63, 95, 191);\n}\n\n.ace-eclipse .ace_comment.ace_doc.ace_tag {\n  color: rgb(127, 159, 191);\n}\n\n.ace-eclipse .ace_constant.ace_numeric {\n  color: darkblue;\n}\n\n.ace-eclipse .ace_tag {\n  color: rgb(25, 118, 116);\n}\n\n.ace-eclipse .ace_type {\n  color: rgb(127, 0, 127);\n}\n\n.ace-eclipse .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-eclipse .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n\n.ace-eclipse .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-eclipse .ace_meta.ace_tag {\n  color:rgb(25, 118, 116);\n}\n\n.ace-eclipse .ace_invisible {\n  color: #ddd;\n}\n\n.ace-eclipse .ace_entity.ace_other.ace_attribute-name {\n  color:rgb(127, 0, 127);\n}\n.ace-eclipse .ace_marker-layer .ace_step {\n  background: rgb(255, 255, 0);\n}\n\n.ace-eclipse .ace_active-line {\n  background: rgb(232, 242, 254);\n}\n\n.ace-eclipse .ace_gutter-active-line {\n  background-color : #DADADA;\n}\n\n.ace-eclipse .ace_marker-layer .ace_selected-word {\n  border: 1px solid rgb(181, 213, 255);\n}\n\n.ace-eclipse .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-eclipse .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n} \n'})),ace.define("ace/theme/eclipse",["require","exports","module","ace/theme/eclipse.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssText=e("./eclipse.css"),t.cssClass="ace-eclipse",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/eclipse"],(function(t){e&&(e.exports=t)}))},239:(e,t,n)=>{e=n.nmd(e),function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};t.modules={},t.payloads={};var n,i,s=function(e,t,n){if("string"==typeof t){var i=a(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var s=[],r=0,l=t.length;r<l;++r){var c=a(e,t[r]);if(null==c&&o.original)return;s.push(c)}return n&&n.apply(null,s)||!0}},o=function(e,t){var n=s("",e,t);return null==n&&o.original?o.original.apply(this,arguments):n},r=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return r(e,n[0])+"!"+r(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},a=function(e,n){n=r(e,n);var i=t.modules[n];if(!i){if("function"==typeof(i=t.payloads[n])){var o={},a={id:n,uri:"",exports:o,packaged:!0};o=i((function(e,t){return s(n,e,t)}),o,a)||a.exports,t.modules[n]=o,delete t.payloads[n]}i=t.modules[n]=o||i}return i};i=e,(n="ace")&&(e[n]||(e[n]={}),i=e[n]),i.define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.require&&i.require.packaged||(o.original=i.require,i.require=o,i.require.packaged=!0)}(),ace.define("ace/lib/es6-shim",["require","exports","module"],(function(e,t,n){function i(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||i(String.prototype,"startsWith",(function(e,t){return t=t||0,this.lastIndexOf(e,t)===t})),String.prototype.endsWith||i(String.prototype,"endsWith",(function(e,t){var n=this;(void 0===t||t>n.length)&&(t=n.length),t-=e.length;var i=n.indexOf(e,t);return-1!==i&&i===t})),String.prototype.repeat||i(String.prototype,"repeat",(function(e){for(var t="",n=this;e>0;)1&e&&(t+=n),(e>>=1)&&(n+=n);return t})),String.prototype.includes||i(String.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Object.assign||(Object.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];null!=i&&Object.keys(i).forEach((function(e){t[e]=i[e]}))}return t}),Object.values||(Object.values=function(e){return Object.keys(e).map((function(t){return e[t]}))}),Array.prototype.find||i(Array.prototype,"find",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var s=this[i];if(e.call(n,s,i,this))return s}})),Array.prototype.findIndex||i(Array.prototype,"findIndex",(function(e){for(var t=this.length,n=arguments[1],i=0;i<t;i++){var s=this[i];if(e.call(n,s,i,this))return i}})),Array.prototype.includes||i(Array.prototype,"includes",(function(e,t){return-1!=this.indexOf(e,t)})),Array.prototype.fill||i(Array.prototype,"fill",(function(e){for(var t=this,n=t.length>>>0,i=arguments[1],s=i>>0,o=s<0?Math.max(n+s,0):Math.min(s,n),r=arguments[2],a=void 0===r?n:r>>0,l=a<0?Math.max(n+a,0):Math.min(a,n);o<l;)t[o]=e,o++;return t})),Array.of||i(Array,"of",(function(){return Array.prototype.slice.call(arguments)}))})),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],(function(e,t,n){"use strict";e("./es6-shim")})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,s=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(s,"")},t.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&"object"==typeof e[n]?t[n]=this.copyObject(e[n]):t[n]=e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(var i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t=Object.create(null);for(var n in e)t[n]=e[n];return t},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){var t=null,n=function(){t=null,e()},i=function(e){return i.cancel(),t=setTimeout(n,e||0),i};return i.schedule=i,i.call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(t),t=null,i},i.isPending=function(){return t},i},t.delayedCall=function(e,t){var n=null,i=function(){n=null,e()},s=function(e){null==n&&(n=setTimeout(i,e||t))};return s.delay=function(e){n&&clearTimeout(n),n=setTimeout(i,e||t)},s.schedule=s,s.call=function(){this.cancel(),e()},s.cancel=function(){n&&clearTimeout(n),n=null},s.isPending=function(){return n},s}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},s=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",r=i.appName||"";t.isWin="win"==s,t.isMac="mac"==s,t.isLinux="linux"==s,t.isIE="Microsoft Internet Explorer"==r||r.indexOf("MSAppHost")>=0?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=o.indexOf("AdobeAIR")>=0,t.isAndroid=o.indexOf("Android")>=0,t.isChromeOS=o.indexOf(" CrOS ")>=0,t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i,s=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var s=document.createTextNode(t);return n&&n.appendChild(s),s}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],r=0;r<t.length;r++){var a=e(t[r],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),r=h;r<t.length;r++)e(t[r],l,i);return 2==h&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):"style"===e?"string"==typeof t&&(l.style.cssText=t):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return e||(e=document),e.head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var s=n.indexOf(t);if(-1==s)break;i=!1,n.splice(s,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.removeElementById=function(e,t){(t=t||document).getElementById(e)&&t.getElementById(e).remove()};var o=[];function r(){var e=o;o=null,e&&e.forEach((function(e){a(e[0],e[1])}))}function a(e,n,s){if("undefined"!=typeof document){if(o)if(s)r();else if(!1===s)return o.push([e,n]);if(!i){var a=s;s&&s.getRootNode&&(a=s.getRootNode())&&a!=s||(a=document);var l=a.ownerDocument||a;if(n&&t.hasCssString(n,a))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var c=t.createElement("style");c.appendChild(l.createTextNode(e)),n&&(c.id=n),a==l&&(a=t.getDocumentHead(l)),a.insertBefore(c,a.firstChild)}}}if(t.useStrictCSP=function(e){i=e,0==e?r():o||(o=[])},t.importCssString=a,t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),s=i.style;s.position="absolute",s.left="-10000px",s.overflow="hidden",s.width="200px",s.minWidth="0px",s.height="150px",s.display="block",i.appendChild(n);var o=e&&e.documentElement||document&&document.documentElement;if(!o)return 0;o.appendChild(i);var r=n.offsetWidth;s.overflow="scroll";var a=n.offsetWidth;return r===a&&(a=i.clientWidth),o.removeChild(i),r-a},t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!s.isWin||"undefined"!=typeof window&&window.devicePixelRatio>=1.5,s.isChromeOS&&(t.HI_DPI=!1),"undefined"!=typeof document){var l=document.createElement("div");t.HI_DPI&&void 0!==l.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),s.isEdge||void 0===l.style.animationName||(t.HAS_CSS_ANIMATION=!0),l=null}t.HAS_CSS_TRANSFORMS?t.translate=function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:t.translate=function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),s=document.createElement("script");s.src=e,n.appendChild(s),s.onload=s.onreadystatechange=function(e,n){!n&&s.readyState&&"loaded"!=s.readyState&&"complete"!=s.readyState||(s=s.onload=s.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";var i={},s=function(){this.propagationStopped=!0},o=function(){this.defaultPrevented=!0};i._emit=i._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],i=this._defaultHandlers[e];if(n.length||i){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=s),t.preventDefault||(t.preventDefault=o),n=n.slice();for(var r=0;r<n.length&&(n[r](t,this),!t.propagationStopped);r++);return i&&!t.defaultPrevented?i(t,this):void 0}},i._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},i.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},i.setDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[e]){var i=n[e],s=n._disabled_[e];s||(n._disabled_[e]=s=[]),s.push(i);var o=s.indexOf(t);-1!=o&&s.splice(o,1)}n[e]=t},i.removeDefaultHandler=function(e,t){var n=this._defaultHandlers;if(n){var i=n._disabled_[e];if(n[e]==t)i&&this.setDefaultHandler(e,i.pop());else if(i){var s=i.indexOf(t);-1!=s&&i.splice(s,1)}}},i.on=i.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return i||(i=this._eventRegistry[e]=[]),-1==i.indexOf(t)&&i[n?"unshift":"push"](t),t},i.off=i.removeListener=i.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1)}},i.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=i})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),s=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t={};if(e)Array.isArray(e)||(t=e,e=Object.keys(t));else{var n=this.$options;e=Object.keys(n).filter((function(e){return!n[e].hidden}))}return e.forEach((function(e){t[e]=this.getOption(e)}),this),t},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return r('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:r('misspelled option "'+e+'"')}};function r(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}var l=function(){this.$defaultOptions={}};(function(){i.implement(this,s),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),e.$options[i.name]=i,"initialValue"in i&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=r,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/theme/textmate.css",["require","exports","module"],(function(e,t,n){n.exports='.ace-tm .ace_gutter {\n  background: #f0f0f0;\n  color: #333;\n}\n\n.ace-tm .ace_print-margin {\n  width: 1px;\n  background: #e8e8e8;\n}\n\n.ace-tm .ace_fold {\n    background-color: #6B72E6;\n}\n\n.ace-tm {\n  background-color: #FFFFFF;\n  color: black;\n}\n\n.ace-tm .ace_cursor {\n  color: black;\n}\n        \n.ace-tm .ace_invisible {\n  color: rgb(191, 191, 191);\n}\n\n.ace-tm .ace_storage,\n.ace-tm .ace_keyword {\n  color: blue;\n}\n\n.ace-tm .ace_constant {\n  color: rgb(197, 6, 11);\n}\n\n.ace-tm .ace_constant.ace_buildin {\n  color: rgb(88, 72, 246);\n}\n\n.ace-tm .ace_constant.ace_language {\n  color: rgb(88, 92, 246);\n}\n\n.ace-tm .ace_constant.ace_library {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_invalid {\n  background-color: rgba(255, 0, 0, 0.1);\n  color: red;\n}\n\n.ace-tm .ace_support.ace_function {\n  color: rgb(60, 76, 114);\n}\n\n.ace-tm .ace_support.ace_constant {\n  color: rgb(6, 150, 14);\n}\n\n.ace-tm .ace_support.ace_type,\n.ace-tm .ace_support.ace_class {\n  color: rgb(109, 121, 222);\n}\n\n.ace-tm .ace_keyword.ace_operator {\n  color: rgb(104, 118, 135);\n}\n\n.ace-tm .ace_string {\n  color: rgb(3, 106, 7);\n}\n\n.ace-tm .ace_comment {\n  color: rgb(76, 136, 107);\n}\n\n.ace-tm .ace_comment.ace_doc {\n  color: rgb(0, 102, 255);\n}\n\n.ace-tm .ace_comment.ace_doc.ace_tag {\n  color: rgb(128, 159, 191);\n}\n\n.ace-tm .ace_constant.ace_numeric {\n  color: rgb(0, 0, 205);\n}\n\n.ace-tm .ace_variable {\n  color: rgb(49, 132, 149);\n}\n\n.ace-tm .ace_xml-pe {\n  color: rgb(104, 104, 91);\n}\n\n.ace-tm .ace_entity.ace_name.ace_function {\n  color: #0000A2;\n}\n\n\n.ace-tm .ace_heading {\n  color: rgb(12, 7, 255);\n}\n\n.ace-tm .ace_list {\n  color:rgb(185, 6, 144);\n}\n\n.ace-tm .ace_meta.ace_tag {\n  color:rgb(0, 22, 142);\n}\n\n.ace-tm .ace_string.ace_regex {\n  color: rgb(255, 0, 0)\n}\n\n.ace-tm .ace_marker-layer .ace_selection {\n  background: rgb(181, 213, 255);\n}\n.ace-tm.ace_multiselect .ace_selection.ace_start {\n  box-shadow: 0 0 3px 0px white;\n}\n.ace-tm .ace_marker-layer .ace_step {\n  background: rgb(252, 255, 0);\n}\n\n.ace-tm .ace_marker-layer .ace_stack {\n  background: rgb(164, 229, 101);\n}\n\n.ace-tm .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid rgb(192, 192, 192);\n}\n\n.ace-tm .ace_marker-layer .ace_active-line {\n  background: rgba(0, 0, 0, 0.07);\n}\n\n.ace-tm .ace_gutter-active-line {\n    background-color : #dcdcdc;\n}\n\n.ace-tm .ace_marker-layer .ace_selected-word {\n  background: rgb(250, 250, 255);\n  border: 1px solid rgb(200, 200, 250);\n}\n\n.ace-tm .ace_indent-guide {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;\n}\n\n.ace-tm .ace_indent-guide-active {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;\n}\n'})),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate.css","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText=e("./textmate.css"),t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],(function(e,t,n){var i=e("./lib/lang"),s=(e("./lib/oop"),e("./lib/net")),o=e("./lib/dom"),r=e("./lib/app_config").AppConfig;n.exports=t=new r;var a={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};t.get=function(e){if(!a.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return a[e]},t.set=function(e,t){if(a.hasOwnProperty(e))a[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e);"useStrictCSP"==e&&o.useStrictCSP(t)},t.all=function(){return i.copyObject(a)},t.$modes={},t.moduleUrl=function(e,t){if(a.$moduleUrls[e])return a.$moduleUrls[e];var n=e.split("/"),i="snippets"==(t=t||n[n.length-2]||"")?"/":"-",s=n[n.length-1];if("worker"==t&&"-"==i){var o=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g");s=s.replace(o,"")}(!s||s==t)&&n.length>1&&(s=n[n.length-2]);var r=a[t+"Path"];return null==r?r=a.basePath:"/"==i&&(t=i=""),r&&"/"!=r.slice(-1)&&(r+="/"),r+t+i+s+this.get("suffix")},t.setModuleUrl=function(e,t){return a.$moduleUrls[e]=t};var l=function(t,n){return"ace/theme/textmate"==t?n(null,e("./theme/textmate")):console.error("loader is not configured")};t.setLoader=function(e){l=e},t.$loading={},t.loadModule=function(n,i){var o,r;Array.isArray(n)&&(r=n[0],n=n[1]);try{o=e(n)}catch(e){}if(o&&!t.$loading[n])return i&&i(o);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(t.$loading[n].length>1)){var a=function(){l(n,(function(e,i){t._emit("load.module",{name:n,module:i});var s=t.$loading[n];t.$loading[n]=null,s.forEach((function(e){e&&e(i)}))}))};if(!t.get("packaged"))return a();s.loadScript(t.moduleUrl(n,r),a),c()}};var c=function(){a.basePath||a.workerPath||a.modePath||a.themePath||Object.keys(a.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};t.version="1.14.0"})),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var s=e("./config");s.setLoader((function(t,n){e([t],(function(e){n(null,e)}))}));var o=function(){return this||"undefined"!=typeof window&&window}();function r(t){if(o&&o.document){s.set("packaged",t||e.packaged||i.packaged||o.define&&n.amdD.packaged);for(var r,a={},l="",c=document.currentScript||document._currentScript,h=(c&&c.ownerDocument||document).getElementsByTagName("script"),u=0;u<h.length;u++){var d=h[u],p=d.src||d.getAttribute("src");if(p){for(var f=d.attributes,g=0,m=f.length;g<m;g++){var v=f[g];0===v.name.indexOf("data-ace-")&&(a[(r=v.name.replace(/^data-ace-/,""),r.replace(/-(.)/g,(function(e,t){return t.toUpperCase()})))]=v.value)}var w=p.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);w&&(l=w[1])}}for(var b in l&&(a.base=a.base||l,a.packaged=!0),a.basePath=a.base,a.workerPath=a.workerPath||a.base,a.modePath=a.modePath||a.base,a.themePath=a.themePath||a.base,delete a.base,a)void 0!==a[b]&&s.set(b,a[b])}}i.exports=function(t){s.init=r,t.require=e,t.define=n.amdD},r(!0)})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),s=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.PRINTABLE_KEYS[173]="-",n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,s),t.keyCodeToString=function(e){var t=s[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,s=e("./keys"),o=e("./useragent"),r=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},u=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function s(e){t&&t(e),n&&n(e),u(i,"mousemove",t),u(i,"mouseup",s),u(i,"dragstart",s)}return h(i,"mousemove",t),h(i,"mouseup",s),h(i,"dragstart",s),s},t.addMouseWheelListener=function(e,t,n){h(e,"wheel",(function(e){var n=e.deltaX||0,i=e.deltaY||0;switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.15*n,e.wheelY=.15*i;break;case e.DOM_DELTA_LINE:e.wheelX=15*n,e.wheelY=15*i;break;case e.DOM_DELTA_PAGE:e.wheelX=150*n,e.wheelY=150*i}t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,s,r){var a,l,c,u=0,d={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){if(0!==t.getButton(e)?u=0:e.detail>1?++u>4&&(u=1):u=1,o.isIE){var r=Math.abs(e.clientX-a)>5||Math.abs(e.clientY-l)>5;c&&!r||(u=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[u-1]||600),1==u&&(a=e.clientX,l=e.clientY)}if(e._clicks=u,i[s]("mousedown",e),u>4)u=0;else if(u>1)return i[s](d[u],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){h(e,"mousedown",p,r)}))};var d=function(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)};function p(e,t,n){var i=d(t);if(!o.isMac&&r){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(i|=8),r.altGr){if(3==(3&i))return;r.altGr=0}if(18===n||17===n){var l="location"in t?t.location:t.keyLocation;17===n&&1===l?1==r[n]&&(a=t.timeStamp):18===n&&3===i&&2===l&&t.timeStamp-a<50&&(r.altGr=!0)}}if(n in s.MODIFIER_KEYS&&(n=-1),i||13!==n||3!==(l="location"in t?t.location:t.keyLocation)||(e(t,i,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&i){if(e(t,i,n),t.defaultPrevented)return;i&=-9}return!!(i||n in s.FUNCTION_KEYS||n in s.PRINTABLE_KEYS)&&e(t,i,n)}}function f(){r=Object.create(null)}if(t.getModifierString=function(e){return s.KEY_MODS[d(e)]},t.addCommandKeyListener=function(e,n,i){if(o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)){var s=null;h(e,"keydown",(function(e){s=e.keyCode}),i),h(e,"keypress",(function(e){return p(n,e,s)}),i)}else{var a=null;h(e,"keydown",(function(e){r[e.keyCode]=(r[e.keyCode]||0)+1;var t=p(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),h(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),h(e,"keyup",(function(e){r[e.keyCode]=null}),i),r||(f(),h(window,"focus",f))}},"object"==typeof window&&window.postMessage&&!o.isOldIE){var g=1;t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+g++,s=function(o){o.data==i&&(t.stopPropagation(o),u(n,"message",s),e())};h(n,"message",s),n.postMessage(i,"*")}}t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame?t.nextFrame=t.nextFrame.bind(window):t.nextFrame=function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";var i=function(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}};(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t,n=e.end,i=e.start;return 1==(t=this.compare(n.row,n.column))?1==(t=this.compare(i.row,i.column))?2:0==t?1:0:-1==t?-2:-1==(t=this.compare(i.row,i.column))?-1:1==t?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row===e?t<=this.end.column?0:1:0:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){if(this.end.row>t)var n={row:t+1,column:0};else this.end.row<e&&(n={row:e,column:0});if(this.start.row>t)var s={row:t+1,column:0};else this.start.row<e&&(s={row:e,column:0});return i.fromPoints(s||this.start,n||this.end)},this.extend=function(e,t){var n=this.compare(e,t);if(0==n)return this;if(-1==n)var s={row:e,column:t};else var o={row:e,column:t};return i.fromPoints(s||this.start,o||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new i(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new i(this.start.row,0,this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=e("../lib/dom"),r=e("../lib/lang"),a=e("../clipboard"),l=s.isChrome<18,c=s.isIE,h=s.isChrome>63,u=400,d=e("../lib/keys"),p=d.KEY_MODS,f=s.isIOS,g=f?/\s/:/\n/,m=s.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var v=!1,w=!1,b=!1,y=!1,C="";m||(n.style.fontSize="1px");var x=!1,k=!1,S="",_=0,A=0,T=0;try{var E=document.activeElement===n}catch(e){}this.setAriaOptions=function(e){e.activeDescendant?(n.setAttribute("aria-haspopup","true"),n.setAttribute("aria-autocomplete","list"),n.setAttribute("aria-activedescendant",e.activeDescendant)):(n.setAttribute("aria-haspopup","false"),n.setAttribute("aria-autocomplete","both"),n.removeAttribute("aria-activedescendant")),e.role&&n.setAttribute("role",e.role)},this.setAriaOptions({role:"textbox"}),i.addListener(n,"blur",(function(e){k||(t.onBlur(e),E=!1)}),t),i.addListener(n,"focus",(function(e){if(!k){if(E=!0,s.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),s.isEdge?setTimeout($):$()}}),t),this.$focusScroll=!1,this.focus=function(){if(C||h||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var s=n.parentElement;s&&1==s.nodeType;)i.push(s),s.setAttribute("ace_nocontext",!0),s=!s.parentElement&&s.getRootNode?s.getRootNode().host:s.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return E},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;if("insertstring"!=i){var s=i&&(e.docChanged||e.selectionChanged);b&&s&&(S=n.value="",H()),$()}}));var $=f?function(e){if(E&&(!v||e)&&!y){e||(e="");var i="\n ab"+e+"cde fg\n";i!=n.value&&(n.value=S=i);var s=4+(e.length||(t.selection.isEmpty()?0:1));4==_&&A==s||n.setSelectionRange(4,s),_=4,A=s}}:function(){if(!b&&!y&&(E||M)){b=!0;var e=0,i=0,s="";if(t.session){var o=t.selection,r=o.getRange(),a=o.cursor.row;if(e=r.start.column,i=r.end.column,s=t.session.getLine(a),r.start.row!=a){var l=t.session.getLine(a-1);e=r.start.row<a-1?0:e,i+=l.length+1,s=l+"\n"+s}else if(r.end.row!=a){var c=t.session.getLine(a+1);i=r.end.row>a+1?c.length:i,i+=s.length+1,s=s+"\n"+c}else m&&a>0&&(s="\n"+s,i+=1,e+=1);s.length>u&&(e<u&&i<u?s=s.slice(0,u):(s="\n",e==i?e=i=0:(e=0,i=1)))}var h=s+"\n\n";if(h!=S&&(n.value=S=h,_=A=h.length),M&&(_=n.selectionStart,A=n.selectionEnd),A!=i||_!=e||n.selectionEnd!=A)try{n.setSelectionRange(e,i),_=e,A=i}catch(e){}b=!1}};this.resetSelection=$,E&&t.onFocus();var L=null;this.setInputHandler=function(e){L=e},this.getInputHandler=function(){return L};var M=!1,R=function(e,i){if(M&&(M=!1),w)return $(),e&&t.onPaste(e),w=!1,"";for(var o=n.selectionStart,r=n.selectionEnd,a=_,l=S.length-A,c=e,h=e.length-o,u=e.length-r,d=0;a>0&&S[d]==e[d];)d++,a--;for(c=c.slice(d),d=1;l>0&&S.length-d>_-1&&S[S.length-d]==e[e.length-d];)d++,l--;h-=d-1,u-=d-1;var p=c.length-d+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!(i||c||h||a||l||u))return"";y=!0;var f=!1;return s.isAndroid&&". "==c&&(c="  ",f=!0),c&&!a&&!l&&!h&&!u||x?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:h,restoreEnd:u}),y=!1,S=e,_=o,A=r,T=u,f?"\n":c},I=function(e){if(b)return N();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,s=R(i,!0);(i.length>500||g.test(s)||m&&_<1&&_==A)&&$()},O=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var s=c||n?"Text":"text/plain";try{return t?!1!==i.setData(s,t):i.getData(s)}catch(e){if(!n)return O(e,t,!0)}}},D=function(e,s){var o=t.getCopyText();if(!o)return i.preventDefault(e);O(e,o)?(f&&($(o),v=o,setTimeout((function(){v=!1}),10)),s?t.onCut():t.onCopy(),i.preventDefault(e)):(v=!0,n.value=o,n.select(),setTimeout((function(){v=!1,$(),s?t.onCut():t.onCopy()})))},P=function(e){D(e,!0)},B=function(e){D(e,!1)},F=function(e){var o=O(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),s.isIE&&setTimeout($),i.preventDefault(e)):(n.value="",w=!0))};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){b||(v?v=!1:function(e){return 0===e.selectionStart&&e.selectionEnd>=S.length&&e.value===S&&S&&e.selectionEnd!==A}(n)?(t.selectAll(),$()):m&&n.selectionStart!=_&&$())}),t),i.addListener(n,"input",I,t),i.addListener(n,"cut",P,t),i.addListener(n,"copy",B,t),i.addListener(n,"paste",F,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!s.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:B(e);break;case 86:F(e);break;case 88:P(e)}}),t);var N=function(){if(b&&t.onCompositionUpdate&&!t.$readOnly){if(x)return z();if(b.useTextareaForIME)t.onCompositionUpdate(n.value);else{var e=n.value;R(e),b.markerRange&&(b.context&&(b.markerRange.start.column=b.selectionStart=b.context.compositionStartOffset),b.markerRange.end.column=b.markerRange.start.column+A-b.selectionStart+T)}}},H=function(e){t.onCompositionEnd&&!t.$readOnly&&(b=!1,t.onCompositionEnd(),t.off("mousedown",z),e&&I())};function z(){k=!0,n.blur(),n.focus(),k=!1}var W,V=r.delayedCall(N,50).schedule.bind(null,null);function U(){clearTimeout(W),W=setTimeout((function(){C&&(n.style.cssText=C,C=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}i.addListener(n,"compositionstart",(function(e){if(!b&&t.onCompositionStart&&!t.$readOnly&&(b={},!x)){e.data&&(b.useTextareaForIME=!1),setTimeout(N,0),t._signal("compositionStart"),t.on("mousedown",z);var i=t.getSelectionRange();i.end.row=i.start.row,i.end.column=i.start.column,b.markerRange=i,b.selectionStart=_,t.onCompositionStart(b),b.useTextareaForIME?(S=n.value="",_=0,A=0):(n.msGetInputContext&&(b.context=n.msGetInputContext()),n.getInputContext&&(b.context=n.getInputContext()))}}),t),i.addListener(n,"compositionupdate",N,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(b||(S=n.value),_=A=-1,$()),V()}),t),i.addListener(n,"keydown",V,t),i.addListener(n,"compositionend",H,t),this.getElement=function(){return n},this.setCommandMode=function(e){x=e,n.readOnly=!1},this.setReadOnly=function(e){x||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){M=!0,$(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,r){C||(C=n.style.cssText),n.style.cssText=(r?"z-index:100000;":"")+(s.isIE?"opacity:0.1;":"")+"text-indent: -"+(_+A)*t.renderer.characterWidth*.5+"px;";var a=t.container.getBoundingClientRect(),l=o.computedStyle(t.container),c=a.top+(parseInt(l.borderTopWidth)||0),h=a.left+(parseInt(a.borderLeftWidth)||0),u=a.bottom-c-n.clientHeight-2,d=function(e){o.translate(n,e.clientX-h-2,Math.min(e.clientY-c-2,u))};d(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(W),s.isWin&&i.capture(t.container,d,U))},this.onContextMenuClose=U;var G=function(e){t.textInput.onContextMenu(e),U()};i.addListener(n,"mouseup",G,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),U()}),t),i.addListener(t.renderer.scroller,"contextmenu",G,t),i.addListener(n,"contextmenu",G,t),f&&function(e,t,n){var i=null,s=!1;n.addEventListener("keydown",(function(e){i&&clearTimeout(i),s=!0}),!0),n.addEventListener("keyup",(function(e){i=setTimeout((function(){s=!1}),100)}),!0);var o=function(e){if(document.activeElement===n&&!(s||b||t.$mouseHandler.isMousePressed||v)){var i=n.selectionStart,o=n.selectionEnd,r=null,a=0;if(0==i?r=d.up:1==i?r=d.home:o>A&&"\n"==S[o]?r=d.end:i<_&&" "==S[i-1]?(r=d.left,a=p.option):i<_||i==_&&A!=_&&i==o?r=d.left:o>A&&S.slice(0,o).split("\n").length>2?r=d.down:o>A&&" "==S[o-1]?(r=d.right,a=p.option):(o>A||o==A&&A!=_&&i==o)&&(r=d.right),i!==o&&(a|=p.shift),r){if(!t.onCommandKey({},a,r)&&t.commands){r=d.keyCodeToString(r);var l=t.commands.findKeyCommand(a,r);l&&t.execCommand(l)}_=i,A=o,$("")}}};document.addEventListener("selectionchange",o),t.on("destroy",(function(){document.removeEventListener("selectionchange",o)}))}(0,t,n),this.destroy=function(){n.parentElement&&n.parentElement.removeChild(n)}},t.$setUserAgentForTests=function(e,t){m=e,f=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function s(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){if(e.start.row==e.end.row)var n=2*t.column-e.start.column-e.end.column;else if(e.start.row!=e.end.row-1||e.start.column||e.end.column)n=2*t.row-e.start.row-e.end.row;else n=t.column-4;return n<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var s=this.editor,o=e.getButton();return 0!==o?((s.getSelectionRange().isEmpty()||1==o)&&s.selection.moveToPosition(n),void(2==o&&(s.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||s.isFocused()||(s.focus(),!this.$focusTimeout||this.$clickSelection||s.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,e.domEvent._clicks>1),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t=this.editor,n=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var i=this.$clickSelection.comparePoint(n);if(-1==i)e=this.$clickSelection.end;else if(1==i)e=this.$clickSelection.start;else{var s=o(this.$clickSelection,n);n=s.cursor,e=s.anchor}t.selection.setSelectionAnchor(e.row,e.column)}t.selection.selectToPosition(n),t.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n=this.editor,i=n.renderer.screenToTextCoordinates(this.x,this.y),s=n.selection[e](i.row,i.column);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(s.start),a=this.$clickSelection.comparePoint(s.end);if(-1==r&&a<=0)t=this.$clickSelection.end,s.end.row==i.row&&s.end.column==i.column||(i=s.start);else if(1==a&&r>=0)t=this.$clickSelection.start,s.start.row==i.row&&s.start.column==i.column||(i=s.end);else if(-1==r&&1==a)i=s.end,t=s.start;else{var l=o(this.$clickSelection,i);i=l.cursor,t=l.anchor}n.selection.setSelectionAnchor(t.row,t.column)}n.selection.selectToPosition(i),n.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n,i,s=(e=this.mousedownEvent.x,t=this.mousedownEvent.y,n=this.x,i=this.y,Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))),o=Date.now();(s>0||o-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,s=i-n.t,o=s?e.wheelX/s:n.vx,r=s?e.wheelY/s:n.vy;s<550&&(o=(o+n.vx)/2,r=(r+n.vy)/2);var a=Math.abs(o/r),l=!1;return a>=1&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(r)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=r,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(s.prototype),t.DefaultHandlers=s})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom"),s="ace_tooltip";function o(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className=s,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=s,this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(o.prototype),t.Tooltip=o})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event"),r=e("../tooltip").Tooltip;function a(e){r.call(this,e)}s.inherits(a,r),function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,s=this.getWidth(),o=this.getHeight();(e+=15)+s>n&&(e-=e+s-n),(t+=15)+o>i&&(t-=20+o),r.prototype.setPosition.call(this,e,t)}}.call(a.prototype),t.GutterHandler=function(e){var t,n,s,r=e.editor,l=r.renderer.$gutterLayer,c=new a(r.container);function h(){t&&(t=clearTimeout(t)),s&&(c.hide(),s=null,r._signal("hideGutterTooltip",c),r.off("mousewheel",h))}function u(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(r.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=r.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return r.selectAll(),t.preventDefault();e.$clickSelection=r.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){var a=o.domEvent.target||o.domEvent.srcElement;if(i.hasCssClass(a,"ace_fold-widget"))return h();s&&e.$tooltipFollowsMouse&&u(o),n=o,t||(t=setTimeout((function(){t=null,n&&!e.isMousePressed?function(){var t=n.getDocumentPosition().row,i=l.$annotations[t];if(!i)return h();if(t==r.session.getLength()){var o=r.renderer.pixelToScreenCoordinates(0,n.y).row,a=n.$pos;if(o>r.session.documentToScreenRow(a.row,a.column))return h()}if(s!=i){s=i.text.join("<br/>"),c.setHtml(s);var d=i.className;if(d&&c.setClassName(d.trim()),c.show(),r._signal("showGutterTooltip",c),r.on("mousewheel",h),e.$tooltipFollowsMouse)u(n);else{var p=n.domEvent.target.getBoundingClientRect(),f=c.getElement().style;f.left=p.right+"px",f.top=p.bottom+"px"}}}():h()}),50))})),o.addListener(r.renderer.$gutter,"mouseout",(function(e){n=null,s&&!t&&(t=setTimeout((function(){t=null,h()}),50))}),r),r.on("changeSession",h)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e=this.editor.getSelectionRange();if(e.isEmpty())this.$inSelection=!1;else{var t=this.getDocumentPosition();this.$inSelection=e.contains(t.row,t.column)}return this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=s.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=e("../lib/event"),o=e("../lib/useragent");function r(e){var t=e.editor,n=i.createElement("div");n.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",n.textContent="",["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var r,l,c,h,u,d,p,f,g,m,v,w=t.container,b=0;function y(){var e=d;(function(e,n){var i=Date.now(),s=!n||e.row!=n.row,o=!n||e.column!=n.column;!m||s||o?(t.moveCursorToPosition(e),m=i,v={x:l,y:c}):a(v.x,v.y,l,c)>5?m=null:i-m>=200&&(t.renderer.scrollCursorIntoView(),m=null)})(d=t.renderer.screenToTextCoordinates(l,c),e),function(e,n){var i=Date.now(),s=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,r=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-r.left,right:r.right-l},y:{top:c-r.top,bottom:r.bottom-c}},h=Math.min(a.x.left,a.x.right),u=Math.min(a.y.top,a.y.bottom),d={row:e.row,column:e.column};h/o<=2&&(d.column+=a.x.left<a.x.right?-3:2),u/s<=1&&(d.row+=a.y.top<a.y.bottom?-1:1);var p=e.row!=d.row,f=e.column!=d.column,m=!n||e.row!=n.row;p||f&&!m?g?i-g>=200&&t.renderer.scrollCursorIntoView(d):g=i:g=null}(d,e)}function C(){u=t.selection.toOrientedRange(),r=t.session.addMarker(u,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),y(),h=setInterval(y,20),b=0,s.addListener(document,"mousemove",S)}function x(){clearInterval(h),t.session.removeMarker(r),r=null,t.selection.fromOrientedRange(u),t.isFocused()&&!f&&t.$resetCursorStyle(),u=null,d=null,b=0,g=null,m=null,s.removeListener(document,"mousemove",S)}this.onDragStart=function(e){if(this.cancelDrag||!w.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}u=t.getSelectionRange();var s=e.dataTransfer;s.effectAllowed=t.getReadOnly()?"copy":"copyMove",t.container.appendChild(n),s.setDragImage&&s.setDragImage(n,0,0),setTimeout((function(){t.container.removeChild(n)})),s.clearData(),s.setData("Text",t.session.getTextRange()),f=!0,this.setState("drag")},this.onDragEnd=function(e){if(w.draggable=!1,f=!1,this.setState(null),!t.getReadOnly()){var n=e.dataTransfer.dropEffect;p||"move"!=n||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&_(e.dataTransfer))return l=e.clientX,c=e.clientY,r||C(),b++,e.dataTransfer.dropEffect=p=A(e),s.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&_(e.dataTransfer))return l=e.clientX,c=e.clientY,r||(C(),b++),null!==k&&(k=null),e.dataTransfer.dropEffect=p=A(e),s.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&r)return x(),p=null,s.preventDefault(e)},this.onDrop=function(e){if(d){var n=e.dataTransfer;if(f)switch(p){case"move":u=u.contains(d.row,d.column)?{start:d,end:d}:t.moveText(u,d);break;case"copy":u=t.moveText(u,d,!0)}else{var i=n.getData("Text");u={start:d,end:t.session.insert(d,i)},t.focus(),p=null}return x(),s.preventDefault(e)}},s.addListener(w,"dragstart",this.onDragStart.bind(e),t),s.addListener(w,"dragend",this.onDragEnd.bind(e),t),s.addListener(w,"dragenter",this.onDragEnter.bind(e),t),s.addListener(w,"dragover",this.onDragOver.bind(e),t),s.addListener(w,"dragleave",this.onDragLeave.bind(e),t),s.addListener(w,"drop",this.onDrop.bind(e),t);var k=null;function S(){null==k&&(k=setTimeout((function(){null!=k&&r&&x()}),20))}function _(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function A(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var s="none";return n&&t.indexOf(i)>=0?s="copy":["move","copymove","linkmove","all","uninitialized"].indexOf(i)>=0?s="move":t.indexOf(i)>=0&&(s="copy"),s}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging");var t=o.isWin?"default":"move";e.renderer.setCursorStyle(t),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>3&&t.dragDrop(),"dragWait"===this.state&&a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)>0&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var s=e.domEvent.target||e.domEvent.srcElement;"unselectable"in s&&(s.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(r.prototype),t.DragdropHandler=r})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,s=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,r,a,l,c,h,u,d,p,f="scroll",g=0,m=0,v=0,w=0;function b(){var e,n,i;p||(e=window.navigator&&window.navigator.clipboard,n=!1,i=function(i){var s,r,a=i.target.getAttribute("action");if("more"==a||!n)return n=!n,s=t.getCopyText(),r=t.session.getUndoManager().hasUndo(),void p.replaceChild(o.buildDom(n?["span",!s&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],s&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],s&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],e&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],r&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Palette"]]:["span"]),p.firstChild);"paste"==a?e.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(e?e.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),p.firstChild.style.display="none",n=!1,"openCommandPallete"!=a&&t.focus()},p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){f="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(e){e.stopPropagation(),e.preventDefault(),i(e)},onclick:i},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container));var s=t.selection.cursor,r=t.renderer.textToScreenCoordinates(s.row,s.column),a=t.renderer.textToScreenCoordinates(0,0).pageX,l=t.renderer.scrollLeft,c=t.container.getBoundingClientRect();p.style.top=r.pageY-c.top-3+"px",r.pageX-c.left<c.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=a+l-c.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",y)}function y(e){p&&(p.style.display="none"),t.off("input",y)}function C(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(u.row,u.column);!e.isEmpty()&&n||(t.selection.moveToPosition(u),t.selection.selectWord()),f="wait",b()}s.addListener(e,"contextmenu",(function(e){d&&t.textInput.getElement().focus()}),t),s.addListener(e,"touchstart",(function(e){var s=e.touches;if(c||s.length>1)return clearTimeout(c),c=null,a=-1,void(f="zoom");d=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var b=s[0],y=b.clientX,x=b.clientY;Math.abs(n-y)+Math.abs(r-x)>o&&(a=-1),n=e.clientX=y,r=e.clientY=x,v=w=0;var k=new i(e,t);if(u=k.getDocumentPosition(),p-a<500&&1==s.length&&!g)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(u);var e=m>=2?t.selection.getLineRange(u.row):t.session.getBracketRange(u);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),f="wait"}();else{m=0;var S=t.selection.cursor,_=t.selection.isEmpty()?S:t.selection.anchor,A=t.renderer.$cursorLayer.getPixelPosition(S,!0),T=t.renderer.$cursorLayer.getPixelPosition(_,!0),E=t.renderer.scroller.getBoundingClientRect(),$=t.renderer.layerConfig.offset,L=t.renderer.scrollLeft,M=function(e,t){return(e/=h)*e+(t=t/o-.75)*t};if(e.clientX<E.left)return void(f="zoom");var R=M(e.clientX-E.left-A.left+L,e.clientY-E.top-A.top+$),I=M(e.clientX-E.left-T.left+L,e.clientY-E.top-T.top+$);R<3.5&&I<3.5&&(f=R>I?"cursor":"anchor"),f=I<3.5?"anchor":R<3.5?"cursor":"scroll",c=setTimeout(C,450)}a=p}),t),s.addListener(e,"touchend",(function(e){d=t.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==f?(f="",g=0):c?(t.selection.moveToPosition(u),g=0,b()):"scroll"==f?(g+=60,h=setInterval((function(){g--<=0&&(clearInterval(h),h=null),Math.abs(v)<.01&&(v=0),Math.abs(w)<.01&&(w=0),g<20&&(v*=.9),g<20&&(w*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*w),e==t.session.getScrollTop()&&(g=0)}),10),y()):b(),clearTimeout(c),c=null}),t),s.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var s=e.touches;if(!(s.length>1||"zoom"==f)){var o=s[0],a=n-o.clientX,h=r-o.clientY;if("wait"==f){if(!(a*a+h*h>4))return e.preventDefault();f="cursor"}n=o.clientX,r=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var u=e.timeStamp,d=u-l;if(l=u,"scroll"==f){var p=new i(e,t);p.speed=1,p.wheelX=a,p.wheelY=h,10*Math.abs(a)<Math.abs(h)&&(a=0),10*Math.abs(h)<Math.abs(a)&&(h=0),0!=d&&(v=a/d,w=h/d),t._emit("mousewheel",p),p.propagationStopped||(v=w=0)}else{var g=new i(e,t).getDocumentPosition();"cursor"==f?t.selection.moveCursorToPosition(g):"anchor"==f&&t.selection.setSelectionAnchor(g.row,g.column),t.renderer.scrollCursorIntoView(g),e.preventDefault()}}}),t)}})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/event"),s=e("../lib/useragent"),o=e("./default_handlers").DefaultHandlers,r=e("./default_gutter_handler").GutterHandler,a=e("./mouse_event").MouseEvent,l=e("./dragdrop_handler").DragdropHandler,c=e("./touch_handler").addTouchListeners,h=e("../config"),u=function(e){var t=this;this.editor=e,new o(this),new r(this),new l(this);var n=function(t){(!document.hasFocus||!document.hasFocus()||!e.isFocused()&&document.activeElement==(e.textInput&&e.textInput.getElement()))&&window.focus(),e.focus(),setTimeout((function(){e.isFocused()||e.focus()}))},a=e.renderer.getMouseEventTarget();i.addListener(a,"click",this.onMouseEvent.bind(this,"click"),e),i.addListener(a,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),i.addMultiMouseDownListener([a,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),i.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),c(e.container,e);var h=e.renderer.$gutter;i.addListener(h,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),i.addListener(h,"click",this.onMouseEvent.bind(this,"gutterclick"),e),i.addListener(h,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),i.addListener(h,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),i.addListener(a,"mousedown",n,e),i.addListener(h,"mousedown",n,e),s.isIE&&e.renderer.scrollBarV&&(i.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),i.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){if(!t.state&&!t.$dragDelay&&t.$dragEnabled){var i=e.renderer.screenToTextCoordinates(n.x,n.y),s=e.session.selection.getRange(),o=e.renderer;!s.isEmpty()&&s.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle("")}}),e)};(function(){this.onMouseEvent=function(e,t){this.editor.session&&this.editor._emit(e,new a(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new a(t,this.editor))},this.onMouseWheel=function(e,t){var n=new a(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,o=this.editor.renderer;o.$isMousePressed=!0;var r=this,l=function(e){if(e){if(s.isWebKit&&!e.which&&r.releaseMouse)return r.releaseMouse();r.x=e.clientX,r.y=e.clientY,t&&t(e),r.mouseEvent=new a(e,r.editor),r.$mouseMoved=!0}},c=function(e){n.off("beforeEndOperation",u),clearInterval(d),n.session&&h(),r[r.state+"End"]&&r[r.state+"End"](e),r.state="",r.isMousePressed=o.$isMousePressed=!1,o.$keepTextAreaAtCursor&&o.$moveTextAreaToCursor(),r.$onCaptureMouseMove=r.releaseMouse=null,e&&r.onMouseEvent("mouseup",e),n.endOperation()},h=function(){r[r.state]&&r[r.state](),r.$mouseMoved=!1};if(s.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){c(e)}));var u=function(e){r.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(r[r.state+"End"]&&r[r.state+"End"](),r.state="",r.releaseMouse())};n.on("beforeEndOperation",u),n.startOperation({command:{name:"mouse"}}),r.$onCaptureMouseMove=l,r.releaseMouse=i.capture(this.editor.container,l,c);var d=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&i.stopEvent(t.domEvent))}.bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(u.prototype),h.defineOptions(u.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:s.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=u})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),s=e.session,o=s.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?s.removeFold(o):s.expandFold(o),t.stop());var r=t.domEvent&&t.domEvent.target;r&&i.hasCssClass(r,"ace_inline_button")&&i.hasCssClass(r,"ace_toggle_wrap")&&(s.setOption("wrap",!s.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session;i.foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop()}})),e.on("gutterdblclick",(function(t){if("foldWidgets"==e.renderer.$gutterLayer.getRegion(t)){var n=t.getDocumentPosition().row,i=e.session,s=i.getParentFoldRangeData(n,!0),o=s.range||s.firstRange;if(o){n=o.start.row;var r=i.getFoldAt(n,i.getLine(n).length,1);r?i.removeFold(r):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))}t.stop()}}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";var i=e("../lib/keys"),s=e("../lib/event"),o=function(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)};(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){if(e){"function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e);var n=this.$handlers.indexOf(e);-1!=n&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor)}},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var o,r=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((o=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&o.command&&((r="null"==o.command||a.exec(o.command,this.$editor,o.args,i))&&i&&-1!=e&&1!=o.passEvent&&1!=o.command.passEvent&&s.stopEvent(i),r)););return r||-1!=e||(o={command:"insertstring"},r=a.exec("insertstring",this.$editor,t)),r&&this.$editor._signal&&this.$editor._signal("keyboardActivity",o),r},this.onCommandKey=function(e,t,n){var s=i.keyCodeToString(n);return this.$callKeyboardHandlers(t,s,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(o.prototype),t.KeyBinding=o})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,s=0,o=!1,r=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=11,u=18,d=[u,u,u,u,u,u,u,u,u,6,5,6,8,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,5,5,5,6,8,4,4,h,h,h,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,u,u,u,u,u,u,5,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,u,9,4,h,h,h,h,4,4,4,4,0,4,4,u,4,4,h,h,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,u,u,u,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,h,h,h,h,h,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function f(e,t,n){if(!(s<e))if(1!=e||1!=i||r)for(var o,a,l,c,h=n.length,u=0;u<h;){if(t[u]>=e){for(o=u+1;o<h&&t[o]>=e;)o++;for(a=u,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;u=o}u++}else n.reverse()}function g(e,t,n,s){var l,c,d,p,f=t[s];switch(f){case 0:case 1:o=!1;case 4:case 3:return f;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return s<1||s+1>=t.length||2!=(l=n[s-1])&&3!=l||2!=(c=t[s+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=s>0?n[s-1]:5)&&s+1<t.length&&2==t[s+1]?2:4;case h:if(s>0&&2==n[s-1])return 2;if(o)return 4;for(p=s+1,d=t.length;p<d&&t[p]==h;)p++;return p<d&&2==t[p]?2:4;case 12:for(d=t.length,p=s+1;p<d&&12==t[p];)p++;if(p<d){var g=e[s],m=g>=1425&&g<=2303||64286==g;if(l=t[p],m&&(1==l||7==l))return 1}return s<1||5==(l=t[s-1])?4:n[s-1];case 5:return o=!1,r=!0,i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case u:return 4}}function m(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?t>191?0:d[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?h:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?p[255&t]:254==n&&t>=65136?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="",t.doBidiReorder=function(e,n,h){if(e.length<2)return{};var d=e.split(""),p=new Array(d.length),v=new Array(d.length),w=[];i=h?1:0,function(e,t,n,h){var u=i?c:l,d=null,p=null,f=null,v=0,w=null,b=-1,y=null,C=null,x=[];if(!h)for(y=0,h=[];y<n;y++)h[y]=m(e[y]);for(s=i,o=!1,r=!1,a=!1,C=0;C<n;C++){if(d=v,x[C]=p=g(e,h,x,C),w=240&(v=u[d][p]),v&=15,t[C]=f=u[v][5],w>0)if(16==w){for(y=b;y<C;y++)t[y]=1;b=-1}else b=-1;if(u[v][6])-1==b&&(b=C);else if(b>-1){for(y=b;y<C;y++)t[y]=f;b=-1}5==h[C]&&(t[C]=0),s|=f}if(a)for(y=0;y<n;y++)if(6==h[y]){t[y]=i;for(var k=y-1;k>=0&&8==h[k];k--)t[k]=i}}(d,w,d.length,n);for(var b=0;b<p.length;p[b]=b,b++);for(f(2,w,p),f(1,w,p),b=0;b<p.length-1;b++)3===n[b]?w[b]=t.AN:1===w[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===u)?w[b]=t.ON_R:b>0&&""===d[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(d[b])&&(w[b-1]=w[b]=t.R_H,b++);for(d[d.length-1]===t.DOT&&(w[d.length-1]=t.B),""===d[0]&&(w[0]=t.RLE),b=0;b<p.length;b++)v[b]=w[p[b]];return{logicalFromVisual:p,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=m(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("./lib/bidiutil"),s=e("./lib/lang"),o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,r=function(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=i,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=o.test(e.getValue())};(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&o.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e=0,t=this.session.$screenRowCache;if(t.length){var n=this.session.$getRowCacheIndex(t,this.currentRow);n>=0&&(e=this.session.$docRowCache[n])}return e},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);this.currentRow-e>0&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n=e===this.session.getLength()-1?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var o=this.session.$wrapData[e];o&&(void 0===t&&(t=this.getSplitIndex()),t>0&&o.length?(this.wrapIndent=o.indent,this.wrapOffset=this.wrapIndent*this.charWidths[i.L],this.line=t<o.length?this.line.substring(o[t-1],o[t]):this.line.substring(o[o.length-1])):this.line=this.line.substring(0,o[t]),t==o.length&&(this.line+=this.showInvisibles?n:i.DOT))}else this.line+=this.showInvisibles?n:i.DOT;var r,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(r="\t"===e?a.getScreenTabSize(t+l):2,l+=r-1,s.stringRepeat(i.DOT,r)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==i.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];i.hasBidiCharacters(this.line,e)||this.isRtlDir?this.bidiMap=i.doBidiReorder(this.line,e,this.isRtlDir):this.bidiMap={}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){if(this.characterWidth!==e.$characterSize.width){this.fontMetrics=e;var t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("");this.charWidths[i.L]=this.charWidths[i.EN]=this.charWidths[i.ON_R]=t,this.charWidths[i.R]=this.charWidths[i.AN]=n,this.charWidths[i.R_H]=.45*n,this.charWidths[i.B]=this.charWidths[i.RLE]=0,this.currentRow=null}},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=e>t?this.session.getOverwrite()?e:e-1:t,s=i.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&e<=t&&o[s]%2!=0&&s++;for(var a=0;a<s;a++)r+=this.charWidths[o[a]];return!this.session.getOverwrite()&&e>t&&o[s]%2==0&&(r+=this.charWidths[o[s]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},this.getSelections=function(e,t){var n,i=this.bidiMap,s=i.bidiLevels,o=[],r=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,u=0;this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var d,p=0;p<s.length;p++)d=i.logicalFromVisual[p],n=s[p],(c=d>=a&&d<l)&&!h?u=r:!c&&h&&o.push({left:u,width:r-u}),r+=this.charWidths[n],h=c;if(c&&p===s.length&&o.push({left:u,width:r-u}),this.isRtlDir)for(var f=0;f<o.length;f++)o[f].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,s=this.bidiMap.bidiLevels,o=this.charWidths[s[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);e>n+o/2;){if(n+=o,i===s.length-1){o=0;break}o=this.charWidths[s[++i]]}return i>0&&s[i-1]%2!=0&&s[i]%2==0?(e<n&&i--,t=this.bidiMap.logicalFromVisual[i]):i>0&&s[i-1]%2==0&&s[i]%2!=0?t=1+(e>n?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===s.length-1&&0===o&&s[i-1]%2==0||!this.isRtlDir&&0===i&&s[i]%2!=0?t=1+this.bidiMap.logicalFromVisual[i]:(i>0&&s[i-1]%2!=0&&0!==o&&i--,t=this.bidiMap.logicalFromVisual[i]),0===t&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(r.prototype),t.BidiHandler=r})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/lang"),o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=function(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))};(function(){i.implement(this,o),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?r.fromPoints(t,t):this.isBackwards()?r.fromPoints(t,e):r.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){if(!this.$silent){var s=this.$isEmpty,o=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!r.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||s!=this.$isEmpty||o)&&this._emit("changeSelection")}},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){if(void 0===t){var n=e||this.lead;e=n.row,t=n.column}return this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n,i="number"==typeof e?e:this.lead.row,s=this.session.getFoldLine(i);return s?(i=s.start.row,n=s.end.row):n=i,!0===t?new r(i,0,n,this.session.getLine(n).length):new r(i,0,n+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,s=e.column+t;return n<0&&(i=e.column-t,s=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,s).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,-1))this.moveCursorTo(e.start.row,e.start.column);else if(0===t.column)t.row>0&&this.moveCursorTo(t.row-1,this.doc.getLine(t.row-1).length);else{var n=this.session.getTabSize();this.wouldMoveIntoSoftTab(t,n,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-n):this.moveCursorBy(0,-1)}},this.moveCursorRight=function(){var e,t=this.lead.getPosition();if(e=this.session.getFoldAt(t.row,t.column,1))this.moveCursorTo(e.end.row,e.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var n=this.session.getTabSize();t=this.lead,this.wouldMoveIntoSoftTab(t,n,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,n):this.moveCursorBy(0,1)}},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),s=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);s[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=s[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e=this.lead,t=this.session.getDocumentLastRowColumnPosition(e.row,e.column);if(this.lead.column==t.column){var n=this.session.getLine(t.row);if(t.column==n.length){var i=n.search(/\s+$/);i>0&&(t.column=i)}}this.moveCursorTo(t.row,t.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var s=this.session.getFoldAt(e,t,1);if(s)this.moveCursorTo(s.end.row,s.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var o=s.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(o)&&(n-=this.session.nonTokenRe.lastIndex,o=o.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(t>0&&this.moveCursorWordLeft());this.session.tokenRe.exec(o)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,s=this.session.tokenRe;if(s.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(s.lastIndex=0;(t=e[n])&&!s.test(t);)if(s.lastIndex=0,n++,i.test(t)){if(n>2){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(n>2)break}}return s.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),s=this.session.getFoldAt(e,t,1);if(s)return this.moveCursorTo(s.end.row,s.end.column);if(t==n.length){var o=this.doc.getLength();do{e++,i=this.doc.getLine(e)}while(e<o&&/^\s*$/.test(i));/^\s+/.test(i)||(i=""),t=0}var r=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+r)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){do{t--,i=this.doc.getLine(t)}while(t>0&&/^\s*$/.test(i));n=i.length,/\s+$/.test(i)||(i="")}var o=s.stringReverse(i),r=this.$shortWordEndIndex(o);return this.moveCursorTo(t,n-r)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i=this.session.documentToScreenPosition(this.lead.row,this.lead.column);if(0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(i.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(i.column),i.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=i.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?i.column=this.$desiredColumn:this.$desiredColumn=i.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var s=this.session.lineWidgets[this.lead.row];e<0?e-=s.rowsAbove||0:e>0&&(e+=s.rowCount-(s.rowsAbove||0))}var o=this.session.screenToDocumentPosition(i.row+e,i.column,n);0!==e&&0===t&&o.row===this.lead.row&&(o.column,this.lead.column),this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var s=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(s.charAt(t))&&s.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?t-=1:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach()},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return r.fromPoints(t,n)}catch(e){return r.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){if(this.rangeCount)var e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t}));else(e=this.getRange()).isBackwards=this.isBackwards();return e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&e.length>1){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=r.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(a.prototype),t.Selection=a})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";var i=e("./config"),s=2e3,o=function(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],s=0,o=this.matchMappings[t]={defaultToken:"text"},r="g",a=[],l=0;l<n.length;l++){var c=n[l];if(c.defaultToken&&(o.defaultToken=c.defaultToken),c.caseInsensitive&&-1===r.indexOf("i")&&(r+="i"),c.unicode&&-1===r.indexOf("u")&&(r+="u"),null!=c.regex){c.regex instanceof RegExp&&(c.regex=c.regex.toString().slice(1,-1));var h=c.regex,u=new RegExp("(?:("+h+")|(.))").exec("a").length-2;Array.isArray(c.token)?1==c.token.length||1==u?c.token=c.token[0]:u-1!=c.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:c,groupCount:u-1}),c.token=c.token[0]):(c.tokenArray=c.token,c.token=null,c.onMatch=this.$arrayTokens):"function"!=typeof c.token||c.onMatch||(c.onMatch=u>1?this.$applyToken:c.token),u>1&&(/\\\d/.test(c.regex)?h=c.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+s+1)})):(u=1,h=this.removeCapturingGroups(c.regex)),c.splitRegex||"string"==typeof c.token||a.push(c)),o[s]=l,s+=u,i.push(h),c.onMatch||(c.onMatch=null)}}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,r)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",r)}};(function(){this.$setMaxTokenCount=function(e){s=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],s=0,o=n.length;s<o;s++)t[s]&&(i[i.length]={type:n[s],value:t[s]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,s=0,o=i.length;s<o;s++)t[s+1]&&(n[n.length]={type:i[s],value:t[s+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){if(-1!=e.indexOf("(?=")){var n=0,i=!1,s={};e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,r,a,l){return i?i="]"!=a:a?i=!0:r?(n==s.stack&&(s.end=l+1,s.stack=-1),n--):o&&(n++,1!=o.length&&(s.stack=n,s.start=l)),e})),null!=s.end&&/^\)*$/.test(e.substr(s.end))&&(e=e.substring(0,s.start)+e.substr(s.end))}return"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){if(t&&"string"!=typeof t){var n=t.slice(0);"#tmp"===(t=n[0])&&(n.shift(),t=n.shift())}else n=[];var i=t||"start",o=this.states[i];o||(i="start",o=this.states[i]);var r=this.matchMappings[i],a=this.regExps[i];a.lastIndex=0;for(var l,c=[],h=0,u=0,d={type:null,value:""};l=a.exec(e);){var p=r.defaultToken,f=null,g=l[0],m=a.lastIndex;if(m-g.length>h){var v=e.substring(h,m-g.length);d.type==p?d.value+=v:(d.type&&c.push(d),d={type:p,value:v})}for(var w=0;w<l.length-2;w++)if(void 0!==l[w+1]){p=(f=o[r[w]]).onMatch?f.onMatch(g,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(o=this.states[i])||(this.reportError("state doesn't exist",i),i="start",o=this.states[i]),r=this.matchMappings[i],h=m,(a=this.regExps[i]).lastIndex=m),f.consumeLineEnd&&(h=m);break}if(g)if("string"==typeof p)f&&!1===f.merge||d.type!==p?(d.type&&c.push(d),d={type:p,value:g}):d.value+=g;else if(p)for(d.type&&c.push(d),d={type:null,value:""},w=0;w<p.length;w++)c.push(p[w]);if(h==e.length)break;if(h=m,u++>s){for(u>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)d.type&&c.push(d),d={value:e.substring(h,h+=500),type:"overflow"};i="start",n=[];break}}return d.type&&c.push(d),n.length>1&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=i.reportError}).call(o.prototype),t.Tokenizer=o})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";var i=e("../lib/lang"),s=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}};(function(){this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],s=0;s<i.length;s++){var o=i[s];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,s,o){var r="function"==typeof e?(new e).getRules():e;if(s)for(var a=0;a<s.length;a++)s[a]=t+s[a];else for(var l in s=[],r)s.push(t+l);if(this.addRules(r,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<s.length;a++)c.apply(this.$rules[s[a]],i.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds};var e=function(e,t){return("start"!=e||t.length)&&t.unshift(this.nextState,e),this.nextState},t=function(e,t){return t.shift(),t.shift()||"start"};this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function s(o){var r=i[o];r.processed=!0;for(var a=0;a<r.length;a++){var l=r[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h=l.next||l.push;if(h&&Array.isArray(h)){var u=l.stateName;u||("string"!=typeof(u=l.token)&&(u=u[0]||""),i[u]&&(u+=n++)),i[u]=h,l.next=u,s(u)}else"pop"==h&&(l.next=t);if(l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var d in l.rules)i[d]?i[d].push&&i[d].push.apply(i[d],l.rules[d]):i[d]=l.rules[d];var p="string"==typeof l?l:l.include;if(p&&(c=Array.isArray(p)?p.map((function(e){return i[e]})):i[p]),c){var f=[a,1].concat(c);l.noEscape&&(f=f.filter((function(e){return!e.next}))),r.splice.apply(r,f),a--}l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var s=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),r=o.length;r--;){var a=o[r];this.$keywordList.push(a),n&&(a=a.toLowerCase()),s[a]=t}}),this),e=null,n?function(e){return s[e.toLowerCase()]||t}:function(e){return s[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(s.prototype),t.TextHighlightRules=s})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";var i=function(){this.$behaviours={}};(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){if("function"==typeof e)var n=(new e).getBehaviours(t);else n=e.getBehaviours(t);this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range,s=function(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1};(function(){this.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e||(e=this.$session.getLength()),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;t>0;)n+=e[t-=1].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new i(this.$row,t,this.$row,t+e.value.length)}}).call(s.prototype),t.TokenIterator=s})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var i,s=e("../../lib/oop"),o=e("../behaviour").Behaviour,r=e("../../token_iterator").TokenIterator,a=e("../../lib/lang"),l=["text","paren.rparen","rparen","paren","punctuation.operator"],c=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],h={},u={'"':'"',"'":"'"},d=function(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,h.rangeCount!=e.multiSelect.rangeCount&&(h={rangeCount:e.multiSelect.rangeCount})),h[t])return i=h[t];i=h[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},p=function(e,t,n,i){var s=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,s,e.end.column+(s?0:1)]}},f=function(e){this.add("braces","insertion",(function(t,n,s,o,r){var l=s.getCursorPosition(),c=o.doc.getLine(l.row);if("{"==r){d(s);var h=s.getSelectionRange(),u=o.doc.getTextRange(h);if(""!==u&&"{"!==u&&s.getWrapBehavioursEnabled())return p(h,u,"{","}");if(f.isSaneInsertion(s,o))return/[\]\}\)]/.test(c[l.column])||s.inMultiSelectMode||e&&e.braces?(f.recordAutoInsert(s,o,"}"),{text:"{}",selection:[1,1]}):(f.recordMaybeInsert(s,o,"{"),{text:"{",selection:[1,1]})}else if("}"==r){if(d(s),"}"==c.substring(l.column,l.column+1)&&null!==o.$findOpeningBracket("}",{column:l.column+1,row:l.row})&&f.isAutoInsertedClosing(l,c,r))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==r||"\r\n"==r){d(s);var g="";if(f.isMaybeInsertedClosing(l,c)&&(g=a.stringRepeat("}",i.maybeInsertedBrackets),f.clearMaybeInsertedClosing()),"}"===c.substring(l.column,l.column+1)){var m=o.findMatchingBracket({row:l.row,column:l.column+1},"}");if(!m)return null;var v=this.$getIndent(o.getLine(m.row))}else{if(!g)return void f.clearMaybeInsertedClosing();v=this.$getIndent(c)}var w=v+o.getTabString();return{text:"\n"+w+"\n"+v+g,selection:[1,w.length,1,w.length]}}f.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,s,o){var r=s.doc.getTextRange(o);if(!o.isMultiLine()&&"{"==r){if(d(n),"}"==s.doc.getLine(o.start.row).substring(o.end.column,o.end.column+1))return o.end.column++,o;i.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,i,s){if("("==s){d(n);var o=n.getSelectionRange(),r=i.doc.getTextRange(o);if(""!==r&&n.getWrapBehavioursEnabled())return p(o,r,"(",")");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,")"),{text:"()",selection:[1,1]}}else if(")"==s){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if(")"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket(")",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&"("==o&&(d(n),")"==i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("brackets","insertion",(function(e,t,n,i,s){if("["==s){d(n);var o=n.getSelectionRange(),r=i.doc.getTextRange(o);if(""!==r&&n.getWrapBehavioursEnabled())return p(o,r,"[","]");if(f.isSaneInsertion(n,i))return f.recordAutoInsert(n,i,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){d(n);var a=n.getCursorPosition(),l=i.doc.getLine(a.row);if("]"==l.substring(a.column,a.column+1)&&null!==i.$findOpeningBracket("]",{column:a.column+1,row:a.row})&&f.isAutoInsertedClosing(a,l,s))return f.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,i,s){var o=i.doc.getTextRange(s);if(!s.isMultiLine()&&"["==o&&(d(n),"]"==i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)))return s.end.column++,s})),this.add("string_dquotes","insertion",(function(e,t,n,i,s){var o=i.$mode.$quotes||u;if(1==s.length&&o[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;d(n);var r=s,a=n.getSelectionRange(),l=i.doc.getTextRange(a);if(!(""===l||1==l.length&&o[l])&&n.getWrapBehavioursEnabled())return p(a,l,r,r);if(!l){var c=n.getCursorPosition(),h=i.doc.getLine(c.row),f=h.substring(c.column-1,c.column),g=h.substring(c.column,c.column+1),m=i.getTokenAt(c.row,c.column),v=i.getTokenAt(c.row,c.column+1);if("\\"==f&&m&&/escape/.test(m.type))return null;var w,b=m&&/string|escape/.test(m.type),y=!v||/string|escape/.test(v.type);if(g==r)(w=b!==y)&&/string\.end/.test(v.type)&&(w=!1);else{if(b&&!y)return null;if(b&&y)return null;var C=i.$mode.tokenRe;C.lastIndex=0;var x=C.test(f);C.lastIndex=0;var k=C.test(f);if(x||k)return null;if(g&&!/[\s;,.})\]\\]/.test(g))return null;var S=h[c.column-2];if(f==r&&(S==r||C.test(S)))return null;w=!0}return{text:w?r+r:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,i,s){var o=i.$mode.$quotes||u,r=i.doc.getTextRange(s);if(!s.isMultiLine()&&o.hasOwnProperty(r)&&(d(n),i.doc.getLine(s.start.row).substring(s.start.column+1,s.start.column+2)==r))return s.end.column++,s}))};f.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new r(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",l)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var s=new r(t,n.row,n.column+1);if(!this.$matchTokenType(s.getCurrentToken()||"text",l))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",c)},f.$matchTokenType=function(e,t){return t.indexOf(e.type||e)>-1},f.recordAutoInsert=function(e,t,n){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isAutoInsertedClosing(s,o,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=s.row,i.autoInsertedLineEnd=n+o.substr(s.column),i.autoInsertedBrackets++},f.recordMaybeInsert=function(e,t,n){var s=e.getCursorPosition(),o=t.doc.getLine(s.row);this.isMaybeInsertedClosing(s,o)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=s.row,i.maybeInsertedLineStart=o.substr(0,s.column)+n,i.maybeInsertedLineEnd=o.substr(s.column),i.maybeInsertedBrackets++},f.isAutoInsertedClosing=function(e,t,n){return i.autoInsertedBrackets>0&&e.row===i.autoInsertedRow&&n===i.autoInsertedLineEnd[0]&&t.substr(e.column)===i.autoInsertedLineEnd},f.isMaybeInsertedClosing=function(e,t){return i.maybeInsertedBrackets>0&&e.row===i.maybeInsertedRow&&t.substr(e.column)===i.maybeInsertedLineEnd&&t.substr(0,e.column)==i.maybeInsertedLineStart},f.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},f.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},s.inherits(f,o),t.CstyleBehaviour=f})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],s=0,o=[],r=0;r<i.length;r+=2)o.push(s+=i[r]),i[r+1]&&o.push(45,s+=i[r+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../config"),s=e("../tokenizer").Tokenizer,o=e("./text_highlight_rules").TextHighlightRules,r=e("./behaviour/cstyle").CstyleBehaviour,a=e("../unicode"),l=e("../lib/lang"),c=e("../token_iterator").TokenIterator,h=e("../range").Range,u=function(){this.HighlightRules=o};(function(){this.$defaultBehaviour=new r,this.tokenRe=new RegExp("^["+a.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+a.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new s(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var s=t.doc,o=!0,r=!0,a=1/0,c=t.getTabSize(),h=!1;if(this.lineCommentStart){Array.isArray(this.lineCommentStart)?(g=this.lineCommentStart.map(l.escapeRegExp).join("|"),p=this.lineCommentStart[0]):(g=l.escapeRegExp(this.lineCommentStart),p=this.lineCommentStart),g=new RegExp("^(\\s*)(?:"+g+") ?"),h=t.getUseSoftTabs(),w=function(e,t){var n=e.match(g);if(n){var i=n[1].length,o=n[0].length;d(e,i,o)||" "!=n[0][o-1]||o--,s.removeInLine(t,i,o)}};var u=p+" ",d=(v=function(e,t){o&&!/\S/.test(e)||(d(e,a,a)?s.insertInLine({row:t,column:a},u):s.insertInLine({row:t,column:a},p))},b=function(e,t){return g.test(e)},function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%c!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return c>2?i%c!=c-1:i%c==0})}else{if(!this.blockComment)return!1;var p=this.blockComment.start,f=this.blockComment.end,g=new RegExp("^(\\s*)(?:"+l.escapeRegExp(p)+")"),m=new RegExp("(?:"+l.escapeRegExp(f)+")\\s*$"),v=function(e,t){b(e,t)||o&&!/\S/.test(e)||(s.insertInLine({row:t,column:e.length},f),s.insertInLine({row:t,column:a},p))},w=function(e,t){var n;(n=e.match(m))&&s.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(g))&&s.removeInLine(t,n[1].length,n[0].length)},b=function(e,n){if(g.test(e))return!0;for(var i=t.getTokens(n),s=0;s<i.length;s++)if("comment"===i[s].type)return!0}}function y(e){for(var t=n;t<=i;t++)e(s.getLine(t),t)}var C=1/0;y((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),r&&!b(e,t)&&(r=!1)):C>e.length&&(C=e.length)})),a==1/0&&(a=C,o=!1,r=!1),h&&a%c!=0&&(a=Math.floor(a/c)*c),y(r?w:v)},this.toggleBlockComment=function(e,t,n,i){var s=this.blockComment;if(s){!s.start&&s[0]&&(s=s[0]);var o,r,a=(g=new c(t,i.row,i.column)).getCurrentToken(),l=(t.selection,t.selection.toOrientedRange());if(a&&/comment/.test(a.type)){for(var u,d;a&&/comment/.test(a.type);){if(-1!=(m=a.value.indexOf(s.start))){var p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m;u=new h(p,f,p,f+s.start.length);break}a=g.stepBackward()}var g;for(a=(g=new c(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){var m;if(-1!=(m=a.value.indexOf(s.end))){p=g.getCurrentTokenRow(),f=g.getCurrentTokenColumn()+m,d=new h(p,f,p,f+s.end.length);break}a=g.stepForward()}d&&t.remove(d),u&&(t.remove(u),o=u.start.row,r=-s.start.length)}else r=s.start.length,o=n.start.row,t.insert(n.end,s.end),t.insert(n.start,s.start);l.start.row==o&&(l.start.column+=r),l.end.row==o&&(l.end.column+=r),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e)if(e[t]){var n=e[t],s=n.prototype.$id,o=i.$modes[s];o||(i.$modes[s]=o=new n),i.$modes[t]||(i.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o}var r=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<r.length;t++)!function(e){var n=r[t],i=e[n];e[r[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])){var s=i[2][i[2].length-1];if(r=this.$modes[s])return r[e].apply(r,[i[1]].concat([].slice.call(t,1)))}i=i[0]||"start"}for(var o=0;o<this.$embeds.length;o++)if(this.$modes[this.$embeds[o]]){var r,a=i.split(this.$embeds[o]);if(!a[0]&&a[1])return t[0]=a[1],(r=this.$modes[this.$embeds[o]])[e].apply(r,t)}var l=n.apply(this,t);return n?l:void 0},this.transformAction=function(e,t,n,i,s){if(this.$behaviour){var o=this.$behaviour.getBehaviours();for(var r in o)if(o[r][t]){var a=o[r][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(var i in t)for(var s=t[i],o=0,r=s.length;o<r;o++)if("string"==typeof s[o].token)/keyword|support|storage/.test(s[o].token)&&n.push(s[o].regex);else if("object"==typeof s[o].token)for(var a=0,l=s[o].token.length;a<l;a++)/keyword|support|storage/.test(s[o].token[a])&&(i=s[o].regex.match(/\(.+?\)/g)[a],n.push(i.substr(1,i.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(u.prototype),t.Mode=u})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i=t.start.row,s=t.start.column,o=e[i]||"";switch(t.action){case"insert":if(1===t.lines.length)e[i]=o.substring(0,s)+t.lines[0]+o.substring(s);else{var r=[i,1].concat(t.lines);e.splice.apply(e,r),e[i]=o.substring(0,s)+e[i],e[i+t.lines.length-1]+=o.substring(s)}break;case"remove":var a=t.end.column,l=t.end.row;i===l?e[i]=o.substring(0,s)+o.substring(a):e.splice(i,l-i+1,o.substring(0,s)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){var i=n?e.column<=t.column:e.column<t.column;return e.row<t.row||e.row==t.row&&i}i.implement(this,s),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){if(!(t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row)){var n=function(t,n,i){var s="insert"==t.action,o=(s?1:-1)*(t.end.row-t.start.row),r=(s?1:-1)*(t.end.column-t.start.column),a=t.start,l=s?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?r:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight);this.setPosition(n.row,n.column,!0)}},this.setPosition=function(e,t,n){var i;if(i=n?{row:e,column:t}:this.$clipPositionToDocument(e,t),this.row!=i.row||this.column!=i.column){var s={row:this.row,column:this.column};this.row=i.row,this.column=i.column,this._signal("change",{old:s,value:i})}},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./apply_delta").applyDelta,o=e("./lib/event_emitter").EventEmitter,r=e("./range").Range,a=e("./anchor").Anchor,l=function(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)};(function(){i.implement(this,o),this.setValue=function(e){var t=this.getLength()-1;this.remove(new r(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e||"")},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new a(this,e,t)},0==="aaa".split(/a/).length?this.$split=function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t;if(e.start.row===e.end.row)t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)];else{(t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column);var n=t.length-1;e.end.row-e.start.row==n&&(t[n]=t[n].substring(0,e.end.column))}return t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:e>=n&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=0;(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),n=0):(t=[""].concat(t),e--,n=this.$lines[e].length),this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),s=this.clippedPos(e,n);return this.applyDelta({start:i,end:s,action:"remove",lines:this.getLinesForRange({start:i,end:s})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&e>0,i=t<this.getLength()-1,s=n?e-1:e,o=n?this.getLine(s).length:0,a=i?t+1:t,l=i?0:this.getLine(a).length,c=new r(s,o,a,l),h=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&e>=0&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof r||(e=r.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;t>=0;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!r.comparePoints(e.start,e.end))||(n&&e.lines.length>2e4?this.$splitAndapplyLargeDelta(e,2e4):(s(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,s=e.start.row,o=e.start.column,r=0,a=0;r<i;r=a){a+=t-1;var l=n.slice(r,a);l.push(""),this.applyDelta({start:this.pos(s+r,o),end:this.pos(s+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(r),e.start.row=s+r,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=t||0,o=n.length;s<o;s++)if((e-=n[s].length+i)<0)return{row:s,column:e+n[s].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,s=0,o=Math.min(e.row,n.length),r=t||0;r<o;++r)s+=n[r].length+i;return s+e.column}}).call(l.prototype),t.Document=l})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/event_emitter").EventEmitter,o=function(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,s=n.doc,o=t;n.lines[t];)t++;var r=s.getLength(),a=0;for(n.running=!1;t<r;){n.$tokenizeRow(t),i=t;do{t++}while(n.lines[t]);if(++a%5==0&&new Date-e>20){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}};(function(){i.implement(this,s),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){var n={first:e,last:t};this._signal("update",{data:n})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.lines[t]=null;else if("remove"==e.action)this.lines.splice(t,n+1,null),this.states.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.lines.splice.apply(this.lines,i),this.states.splice.apply(this.states,i)}this.currentLine=Math.min(t,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.states[e-1],i=this.tokenizer.getLineTokens(t,n,e);return this.states[e]+""!=i.state+""?(this.states[e]=i.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=i.tokens},this.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()}}).call(o.prototype),t.BackgroundTokenizer=o})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),s=(e("./lib/oop"),e("./range").Range),o=function(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"};(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,o){if(this.regExp)for(var r=o.firstRow,a=o.lastRow,l={},c=r;c<=a;c++){var h=this.cache[c];null==h&&((h=i.getMatchOffsets(n.getLine(c),this.regExp)).length>this.MAX_RANGES&&(h=h.slice(0,this.MAX_RANGES)),h=h.map((function(e){return new s(c,e.offset,c,e.offset+e.length)})),this.cache[c]=h.length?h:"");for(var u=h.length;u--;){var d=h[u].toScreenRange(n),p=d.toString();l[p]||(l[p]=!0,t.drawSingleLineMarker(e,d,this.clazz,o))}}}}).call(o.prototype),t.SearchHighlight=o})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function s(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),this.range.compareEnd(e.start.row,e.start.column)>0?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,s,o=0,r=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<r.length;l++){if(-1==(s=(i=r[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===s)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,s=0;s<this.folds.length;s++){if(-1==(i=(n=this.folds[s]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,s,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var r=(s=this.folds).indexOf(i);for(0===r&&(this.start.column+=n);r<s.length;r++){if((i=s[r]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=n.fold,o=this.folds,r=this.foldData,a=o.indexOf(i),l=o[a-1];this.end.row=l.end.row,this.end.column=l.end.column;var c=new s(r,o=o.splice(a,o.length-a));return r.splice(r.indexOf(this)+1,0,c),c},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(s.prototype),t.FoldLine=s})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("./range").Range.comparePoints,s=function(){this.ranges=[],this.$bias=1};(function(){this.comparePoints=i,this.pointIndex=function(e,t,n){for(var s=this.ranges,o=n||0;o<s.length;o++){var r=s[o],a=i(e,r.end);if(!(a>0)){var l=i(e,r.start);return 0===a?t&&0!==l?-o-2:o:l>0||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,s=(n=n.sort((function(e,t){return i(e.start,t.start)})))[0],o=1;o<n.length;o++){e=s,s=n[o];var r=i(e.end,s.start);r<0||(0!=r||e.isEmpty()||s.isEmpty())&&(i(e.end,s.end)<0&&(e.end.row=s.end.row,e.end.column=s.end.column),n.splice(o,1),t.push(s),s=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return this.pointIndex({row:e,column:t})>=0},this.containsPoint=function(e){return this.pointIndex(e)>=0},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(t>=0)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var s=this.pointIndex({row:t,column:0},i);s<0&&(s=-s-1);for(var o=[],r=i;r<s;r++)o.push(n[r]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,s=n.row,o=this.ranges,r=0,a=o.length;r<a&&!((h=o[r]).end.row>=i);r++);if("insert"==e.action){for(var l=s-i,c=-t.column+n.column;r<a&&!((h=o[r]).start.row>i);r++)if(h.start.row==i&&h.start.column>=t.column&&(h.start.column==t.column&&this.$bias<=0||(h.start.column+=c,h.start.row+=l)),h.end.row==i&&h.end.column>=t.column){if(h.end.column==t.column&&this.$bias<0)continue;h.end.column==t.column&&c>0&&r<a-1&&h.end.column>h.start.column&&h.end.column==o[r+1].start.column&&(h.end.column-=c),h.end.column+=c,h.end.row+=l}}else for(l=i-s,c=t.column-n.column;r<a&&!((h=o[r]).start.row>s);r++)h.end.row<s&&(i<h.end.row||i==h.end.row&&t.column<h.end.column)?(h.end.row=i,h.end.column=t.column):h.end.row==s?h.end.column<=n.column?(l||h.end.column>t.column)&&(h.end.column=t.column,h.end.row=t.row):(h.end.column+=c,h.end.row+=l):h.end.row>s&&(h.end.row+=l),h.start.row<s&&(i<h.start.row||i==h.start.row&&t.column<h.start.column)?(h.start.row=i,h.start.column=t.column):h.start.row==s?h.start.column<=n.column?(l||h.start.column>t.column)&&(h.start.column=t.column,h.start.row=t.row):(h.start.column+=c,h.start.row+=l):h.start.row>s&&(h.start.row+=l);if(0!=l&&r<a)for(;r<a;r++){var h;(h=o[r]).start.row+=l,h.end.row+=l}}}).call(s.prototype),t.RangeList=s})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,s=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function r(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}s.inherits(o,i),function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;t=e,n=this.start,r(t.start,n),r(t.end,n);for(var i=e.start.row,s=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,s));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,s=e.range.end.column;var h=o;for(a=-1;h<this.subFolds.length&&1==(a=this.subFolds[h].range.compare(i,s));h++);0==a&&h++;for(var u=this.subFolds.splice(o,h-o,e),d=0==a?u.length-1:u.length,p=c;p<d;p++)e.addSubFold(u[p]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return function(e,t){a(e.start,t),a(e.end,t)}(e,this.start)}}.call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,s=e("./fold_line").FoldLine,o=e("./fold").Fold,r=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var s=i.folds,o=0;o<s.length;o++){var r=s[o].range;if(r.contains(e,t)){if(1==n&&r.isEnd(e,t)&&!r.isEmpty())continue;if(-1==n&&r.isStart(e,t)&&!r.isEmpty())continue;return s[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,s=[];t.column+=1,n.column-=1;for(var o=0;o<i.length;o++){var r=i[o].range.compareRange(e);if(2!=r){if(-2==r)break;for(var a=i[o].folds,l=0;l<a.length;l++){var c=a[l];if(-2==(r=c.range.compareRange(e)))break;if(2!=r){if(42==r)break;s.push(c)}}}}return t.column-=1,n.column+=1,s},this.getFoldsInRangeList=function(e){if(Array.isArray(e)){var t=[];e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)}else t=this.getFoldsInRange(e);return t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var s,o,r={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){s=this.getLine(o.start.row).substring(r.end.column,o.start.column);break}if(0===l)return null;r=o}return s||(s=this.getLine(o.start.row).substring(r.end.column)),-1==n?s.substring(0,t-r.end.column):1==n?s.substring(t-r.end.column):s},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var s=n[i];if(s.start.row<=e&&s.end.row>=e)return s;if(s.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var s=n[i];if(s.end.row>=e)return s}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,s=0;s<n.length;s++){var o=n[s],r=o.end.row,a=o.start.row;if(r>=t){a<t&&(a>=e?i-=t-a:i=0);break}r>=e&&(i-=a>=e?r-a:r-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,r=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,h=n.end.column,u=this.getFoldAt(a,l,1),d=this.getFoldAt(c,h,-1);if(u&&d==u)return u.addSubFold(n);u&&!u.range.isStart(a,l)&&this.removeFold(u),d&&!d.range.isEnd(c,h)&&this.removeFold(d);var p=this.getFoldsInRange(n.range);p.length>0&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var f=0;f<i.length;f++){var g=i[f];if(c==g.start.row){g.addFold(n),r=!0;break}if(a==g.end.row){if(g.addFold(n),r=!0,!n.sameRow){var m=i[f+1];if(m&&m.start.row==c){g.merge(m);break}}break}if(c<=g.start.row)break}return r||(g=this.$addFoldLine(new s(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(g.start.row,g.start.row):this.$updateRowLengthCache(g.start.row,g.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t=e.foldLine,n=t.start.row,i=t.end.row,s=this.$foldData,o=t.folds;if(1==o.length)s.splice(s.indexOf(t),1);else if(t.range.isEnd(e.end.row,e.end.column))o.pop(),t.end.row=o[o.length-1].end.row,t.end.column=o[o.length-1].end.column;else if(t.range.isStart(e.start.row,e.start.column))o.shift(),t.start.row=o[0].start.row,t.start.column=o[0].start.column;else if(e.sameRow)o.splice(o.indexOf(e),1);else{var r=t.split(e.start.row,e.start.column);(o=r.folds).shift(),r.start.row=o[0].start.row,r.start.column=o[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(n,i):this.$updateRowLengthCache(n,i)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),e.collapseChildren>0&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,s;if(null==e)n=new i(0,0,this.getLength(),0),null==t&&(t=!0);else if("number"==typeof e)n=new i(e,0,e,this.getLine(e).length);else if("row"in e)n=i.fromPoints(e,e);else{if(Array.isArray(e))return s=[],e.forEach((function(e){s=s.concat(this.unfold(e))}),this),s;n=e}for(var o=s=this.getFoldsInRangeList(n);1==s.length&&i.comparePoints(s[0].start,n.start)<0&&i.comparePoints(s[0].end,n.end)>0;)this.expandFolds(s),s=this.getFoldsInRangeList(n);if(0!=t?this.removeFolds(s):this.expandFolds(s),o.length)return o},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,s){null==i&&(i=e.start.row),null==s&&(s=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,r="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<s)return;a=Math.max(s,a)}r+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),r},this.getDisplayLine=function(e,t,n,i){var s,o=this.getFoldLine(e);return o?this.getFoldDisplayLine(o,e,t,n,i):(s=this.doc.getLine(e)).substring(i||0,t||s.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new s(e,n)}))},this.toggleFold=function(e){var t,n,i=this.selection.getRange();if(i.isEmpty()){var s=i.start;if(t=this.getFoldAt(s.row,s.column))return void this.expandFold(t);(n=this.findMatchingBracket(s))?1==i.comparePoint(n)?i.end=n:(i.start=n,i.start.column++,i.end.column--):(n=this.findMatchingBracket({row:s.row,column:s.column+1}))?(1==i.comparePoint(n)?i.end=n:i.start=n,i.start.column++):i=this.getCommentFoldRange(s.row,s.column)||i}else{var o=this.getFoldsInRange(i);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(t=o[0])}if(t||(t=this.getFoldAt(i.start.row,i.start.column)),t&&t.range.toString()==i.toString())this.expandFold(t);else{var r="...";if(!i.isMultiLine()){if((r=this.getTextRange(i)).length<4)return;r=r.trim().substring(0,2)+".."}this.addFold(r,i)}},this.getCommentFoldRange=function(e,t,n){var s=new r(this,e,t),o=s.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){do{o=s.stepBackward()}while(o&&l.test(o.type)&&!/^comment.end/.test(o.type));o=s.stepForward()}if(c.start.row=s.getCurrentTokenRow(),c.start.column=s.getCurrentTokenColumn()+(/^comment.start/.test(o.type)?o.value.length:2),s=new r(this,e,t),-1!=n){var h=-1;do{if(o=s.stepForward(),-1==h){var u=this.getState(s.$row);l.test(u)||(h=s.$row)}else if(s.$row>h)break}while(o&&l.test(o.type)&&!/^comment.start/.test(o.type));o=s.stepBackward()}else o=s.getCurrentToken();return c.end.row=s.getCurrentTokenRow(),c.end.column=s.getCurrentTokenColumn(),/^comment.end/.test(o.type)||(c.end.column+=o.value.length-2),c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var s=this.foldWidgets;if(s){t=t||this.getLength();for(var o=e=e||0;o<t;o++)if(null==s[o]&&(s[o]=this.getFoldWidget(o)),"start"==s[o]&&(!i||i(o))){var r=this.getFoldWidgetRange(o);r&&r.isMultiLine()&&r.end.row<=t&&r.start.row>=e&&(o=r.end.row,r.collapseChildren=n,this.addFold("...",r))}}},this.foldToLevel=function(e){for(this.foldAll();e-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var s=n[i];if("text"!=s.type||!/^\s+$/.test(s.value))return!!/comment/.test(s.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=e){this.$foldStyle=e,"manual"==e&&this.unfold();var t=this.$foldMode;this.$setFolding(null),this.$setFolding(t)}},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i,s=e-1;s>=0;){var o=n[s];if(null==o&&(o=n[s]=this.getFoldWidget(s)),"start"==o){var r=this.getFoldWidgetRange(s);if(i||(i=r),r&&r.end.row>=e)break}s--}return{range:-1!==s&&r,firstRange:i}},this.onFoldWidgetClick=function(e,t){var n={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};if(!this.$toggleFoldWidget(e,n)){var i=t.target||t.srcElement;i&&/ace_fold-widget/.test(i.className)&&(i.className+=" ace_invalid")}},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),s="end"===n?-1:1,o=this.getFoldAt(e,-1===s?0:i.length,s);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var r=this.getFoldWidgetRange(e,!0);if(r&&!r.isMultiLine()&&(o=this.getFoldAt(r.start.row,r.start.column,1))&&r.isEqual(o.range))return this.removeFold(o),o;if(t.siblings){var a=this.getParentFoldRangeData(e);if(a.range)var l=a.range.start.row+1,c=a.range.end.row;this.foldAll(l,c,t.all?1e4:0)}else t.children?(c=r?r.end.row:this.getLength(),this.foldAll(e+1,c,t.all?1e4:0)):r&&(t.all&&(r.collapseChildren=1e4),this.addFold("...",r));return r}},this.toggleFoldWidget=function(e){var t=this.selection.getCursor().row;t=this.getRowFoldStart(t);var n=this.$toggleFoldWidget(t,{});if(!n){var i=this.getParentFoldRangeData(t,!0);if(n=i.range||i.firstRange){t=n.start.row;var s=this.getFoldAt(t,this.getLine(t).length,1);s?this.removeFold(s):this.addFold("...",n)}}},this.updateFoldWidgets=function(e){var t=e.start.row,n=e.end.row-t;if(0===n)this.foldWidgets[t]=null;else if("remove"==e.action)this.foldWidgets.splice(t,n+1,null);else{var i=Array(n+1);i.unshift(t,1),this.foldWidgets.splice.apply(this.foldWidgets,i)}},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,s=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n=this.getLine(e.row),i=!0,o=n.charAt(e.column-1),r=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(r||(o=n.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(/([\(\[\{])|([\)\]\}])/),i=!1),!r)return null;if(r[1]){if(!(a=this.$findClosingBracket(r[1],e)))return null;t=s.fromPoints(e,a),i||(t.end.column++,t.start.column--),t.cursor=t.end}else{var a;if(!(a=this.$findOpeningBracket(r[2],e)))return null;t=s.fromPoints(a,e),i||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e,t){var n=this.getLine(e.row),i=/([\(\[\{])|([\)\]\}])/,o=!t&&n.charAt(e.column-1),r=o&&o.match(i);if(r||(o=(void 0===t||t)&&n.charAt(e.column),e={row:e.row,column:e.column+1},r=o&&o.match(i)),!r)return null;var a=new s(e.row,e.column-1,e.row,e.column),l=r[1]?this.$findClosingBracket(r[1],e):this.$findOpeningBracket(r[2],e);return l?[a,new s(l.row,l.column,l.row,l.column+1)]:[a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var s=this.$brackets[e],o=1,r=new i(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn()-2,c=a.value;;){for(;l>=0;){var h=c.charAt(l);if(h==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else h==e&&(o+=1);l-=1}do{a=r.stepBackward()}while(a&&!n.test(a.type));if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var s=this.$brackets[e],o=1,r=new i(this,t.row,t.column),a=r.getCurrentToken();if(a||(a=r.stepForward()),a){n||(n=new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+"));for(var l=t.column-r.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;l<h;){var u=c.charAt(l);if(u==s){if(0==(o-=1))return{row:r.getCurrentTokenRow(),column:l+r.getCurrentTokenColumn()}}else u==e&&(o+=1);l+=1}do{a=r.stepForward()}while(a&&!n.test(a.type));if(null==a)break;l=0}return null}},this.getMatchingTags=function(e){var t=new i(this,e.row,e.column),n=this.$findTagName(t);if(n)return"<"===t.stepBackward().value?this.$findClosingTag(t,n):this.$findOpeningTag(t,n)},this.$findTagName=function(e){var t=e.getCurrentToken(),n=!1,i=!1;if(t&&-1===t.type.indexOf("tag-name"))do{(t=i?e.stepBackward():e.stepForward())&&("/>"===t.value?i=!0:-1!==t.type.indexOf("tag-name")&&(n=!0))}while(t&&!n);return t},this.$findClosingTag=function(e,t){var n,i=t.value,o=t.value,r=0,a=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);t=e.stepForward();var l=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length),c=!1;do{if(n=t,t=e.stepForward()){if(">"===t.value&&!c){var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);c=!0}if(-1!==t.type.indexOf("tag-name")){if(o===(i=t.value))if("<"===n.value)r++;else if("</"===n.value&&--r<0){e.stepBackward();var u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2);t=e.stepForward();var d=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if(!(t=e.stepForward())||">"!==t.value)return;var p=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else o===i&&"/>"===t.value&&--r<0&&(p=d=u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+2),h=new s(l.end.row,l.end.column,l.end.row,l.end.column+1))}}while(t&&r>=0);if(a&&h&&u&&p&&l&&d)return{openTag:new s(a.start.row,a.start.column,h.end.row,h.end.column),closeTag:new s(u.start.row,u.start.column,p.end.row,p.end.column),openTagName:l,closeTagName:d}},this.$findOpeningTag=function(e,t){var n=e.getCurrentToken(),i=t.value,o=0,r=e.getCurrentTokenRow(),a=e.getCurrentTokenColumn(),l=a+2,c=new s(r,a,r,l);e.stepForward();var h=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+t.value.length);if((t=e.stepForward())&&">"===t.value){var u=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);e.stepBackward(),e.stepBackward();do{if(t=n,r=e.getCurrentTokenRow(),l=(a=e.getCurrentTokenColumn())+t.value.length,n=e.stepBackward(),t)if(-1!==t.type.indexOf("tag-name")){if(i===t.value)if("<"===n.value){if(++o>0){var d=new s(r,a,r,l),p=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1);do{t=e.stepForward()}while(t&&">"!==t.value);var f=new s(e.getCurrentTokenRow(),e.getCurrentTokenColumn(),e.getCurrentTokenRow(),e.getCurrentTokenColumn()+1)}}else"</"===n.value&&o--}else if("/>"===t.value){for(var g=0,m=n;m;){if(-1!==m.type.indexOf("tag-name")&&m.value===i){o--;break}if("<"===m.value)break;m=e.stepBackward(),g++}for(var v=0;v<g;v++)e.stepForward()}}while(n&&o<=0);return p&&f&&c&&u&&d&&h?{openTag:new s(p.start.row,p.start.column,f.end.row,f.end.column),closeTag:new s(c.start.row,c.start.column,u.end.row,u.end.column),openTagName:d,closeTagName:h}:void 0}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/lang"),o=e("./bidihandler").BidiHandler,r=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,u=e("./document").Document,d=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,f=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++f.$uid,this.$foldData.toString=function(){return this.join("\n")},this.bgTokenizer=new d((new c).getTokenizer(),this);var n=this;this.bgTokenizer.on("update",(function(e){n._signal("tokenizerUpdate",e)})),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new u(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),r.resetOptions(this),this.setMode(t),r._signal("session",this),this.destroyed=!1};f.$uid=0,function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.off("change",this.$onChange),this.doc=e,e.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;t>n&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var s=n+i>>1,o=e[s];if(t>o)n=s+1;else{if(!(t<o))return s;i=s-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},this.onChangeFold=function(e){var t=e.data;this.$resetRowCache(t.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),s=0;if(null==t){var o=i.length-1;s=this.getLine(e).length}else for(o=0;o<i.length&&!((s+=i[o].value.length)>=t);o++);return(n=i[o])?(n.index=o,n.start=s-n.value.length,n):null},this.setUndoManager=function(e){if(this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e){var t=this;e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=s.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?s.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var s=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:s};return i?(this.$frontMarkers[s]=o,this._signal("changeFrontMarker")):(this.$backMarkers[s]=o,this._signal("changeBackMarker")),s},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){if(!this.$searchHighlight){var t=new p(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(t)}this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n||(n="ace_step");var s=new h(e,0,t,1/0);return s.id=this.addMarker(s,n,"fullLine",i),s},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n=this.getLine(e),i=!1;if(t>0&&(i=!!n.charAt(t-1).match(this.tokenRe)),i||(i=!!n.charAt(t).match(this.tokenRe)),i)var s=this.tokenRe;else s=/^\s+$/.test(n.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(o>0){do{o--}while(o>=0&&n.charAt(o).match(s));o++}for(var r=t;r<n.length&&n.charAt(r).match(s);)r++;return new h(e,o,e,r)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){var t=e.data;this.bgTokenizer.start(t.first),this._signal("tokenizerUpdate",e)},this.$modes=r.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=n.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,r.loadModule(["mode",i],function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||(this.$modes[i]=e,e.$id=i),this.$onChangeMode(e)),t&&t()}.bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){if(t||(this.$modeId=e.$id),this.$mode!==e){var n=this.$mode;this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker();var i=e.getTokenizer();if(void 0!==i.on){var s=this.onReloadTokenizer.bind(this);i.on("update",s)}this.bgTokenizer.setTokenizer(i),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e}))}},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){r.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,s=0,o=this.$foldData[s],r=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(l>r){if((l=o.end.row+1)>=a)break;r=(o=this.$foldData[s++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,s,o=0;o<e.length;o++){var r=e[o];r.start&&(i?n(r)?(s=r.start,-1==i.compare(s.row,s.column)&&i.setStart(s),s=r.end,1==i.compare(s.row,s.column)&&i.setEnd(s)):(s=r.start,-1==i.compare(s.row,s.column)&&(i=h.fromPoints(r.start,r.start))):i=n(r)?h.fromPoints(r.start,r.end):h.fromPoints(r.start,r.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i=this.getTextRange(e),s=this.getFoldsInRange(e),o=h.fromPoints(t,t);if(!n){this.remove(e);var r=e.start.row-e.end.row;(c=r?-e.end.column:e.start.column-e.end.column)&&(o.start.row==e.end.row&&o.start.column>e.end.column&&(o.start.column+=c),o.end.row==e.end.row&&o.end.column>e.end.column&&(o.end.column+=c)),r&&o.start.row>=e.end.row&&(o.start.row+=r,o.end.row+=r)}if(o.end=this.insert(o.start,i),s.length){var a=e.start,l=o.start,c=(r=l.row-a.row,l.column-a.column);this.addFolds(s.map((function(e){return(e=e.clone()).start.row==a.row&&(e.start.column+=c),e.end.row==a.row&&(e.end.column+=c),e.start.row+=r,e.end.row+=r,e})))}return o},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),s=t.start.row;s<=t.end.row;++s){var o=this.getLine(s);n.start.row=s,n.end.row=s;for(var r=0;r<i&&" "==o.charAt(r);++r);r<i&&"\t"==o.charAt(r)?(n.start.column=r,n.end.column=r+1):(n.start.column=0,n.end.column=r),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((s=this.getRowFoldStart(e+n))<0)return 0;var i=s-e}else if(n>0){var s;if((s=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=s-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new h(e,0,t,Number.MAX_VALUE),r=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),r.length&&this.addFolds(r),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){if(t=Math.max(0,t),e<0)e=0,t=0;else{var n=this.doc.getLength();e>=n?(e=n-1,t=this.doc.getLine(n-1).length):t=Math.min(this.doc.getLine(e).length,t)}return{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){if(e!=this.$useWrapMode){if(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e){var t=this.getLength();this.$wrapData=Array(t),this.$updateWrapData(0,t-1)}this._signal("changeWrapMode")}},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&i>1&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t=this.$useWrapMode,n=e.action,i=e.start,s=e.end,o=i.row,r=s.row,a=r-o,l=null;if(this.$updating=!0,0!=a)if("remove"===n){this[t?"$wrapData":"$rowLengthCache"].splice(o,a);var c=this.$foldData;l=this.getFoldsInRange(e),this.removeFolds(l);var h=0;if(g=this.getFoldLine(s.row)){g.addRemoveChars(s.row,s.column,i.column-s.column),g.shiftRow(-a);var u=this.getFoldLine(o);u&&u!==g&&(u.merge(g),g=u),h=c.indexOf(g)+1}for(;h<c.length;h++)(g=c[h]).start.row>=s.row&&g.shiftRow(-a);r=o}else{var d=Array(a);d.unshift(o,0);var p=t?this.$wrapData:this.$rowLengthCache;if(p.splice.apply(p,d),c=this.$foldData,h=0,g=this.getFoldLine(o)){var f=g.range.compareInside(i.row,i.column);0==f?(g=g.split(i.row,i.column))&&(g.shiftRow(a),g.addRemoveChars(r,0,s.column-i.column)):-1==f&&(g.addRemoveChars(o,0,s.column-i.column),g.shiftRow(a)),h=c.indexOf(g)+1}for(;h<c.length;h++){var g;(g=c[h]).start.row>=o&&g.shiftRow(a)}}else a=Math.abs(e.start.column-e.end.column),"remove"===n&&(l=this.getFoldsInRange(e),this.removeFolds(l),a=-a),(g=this.getFoldLine(o))&&g.addRemoveChars(o,i.column,a);return t&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,t?this.$updateWrapData(o,r):this.$updateRowLengthCache(o,r),l},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(n,i){var s,o,r=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,h=n;for(i=Math.min(i,r.length-1);h<=i;)(o=this.getFoldLine(h,o))?(s=[],o.walk(function(n,i,o,a){var l;if(null!=n){(l=this.$getDisplayTokens(n,s.length))[0]=e;for(var c=1;c<l.length;c++)l[c]=t}else l=this.$getDisplayTokens(r[i].substring(a,o),s.length);s=s.concat(l)}.bind(this),o.end.row,r[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(s,c,a),h=o.end.row+1):(s=this.$getDisplayTokens(r[h]),l[h]=this.$computeWrapSplits(s,c,a),h++)};var e=3,t=4;function n(e){return!(e<4352)&&(e>=4352&&e<=4447||e>=4515&&e<=4519||e>=4602&&e<=4607||e>=9001&&e<=9002||e>=11904&&e<=11929||e>=11931&&e<=12019||e>=12032&&e<=12245||e>=12272&&e<=12283||e>=12288&&e<=12350||e>=12353&&e<=12438||e>=12441&&e<=12543||e>=12549&&e<=12589||e>=12593&&e<=12686||e>=12688&&e<=12730||e>=12736&&e<=12771||e>=12784&&e<=12830||e>=12832&&e<=12871||e>=12880&&e<=13054||e>=13056&&e<=19903||e>=19968&&e<=42124||e>=42128&&e<=42182||e>=43360&&e<=43388||e>=44032&&e<=55203||e>=55216&&e<=55238||e>=55243&&e<=55291||e>=63744&&e<=64255||e>=65040&&e<=65049||e>=65072&&e<=65106||e>=65108&&e<=65126||e>=65128&&e<=65131||e>=65281&&e<=65376||e>=65504&&e<=65510)}this.$computeWrapSplits=function(n,i,s){if(0==n.length)return[];var o=[],r=n.length,a=0,l=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,u=i<=Math.max(2*s,8)||!1===h?0:Math.floor(i/2);function d(e){for(var t=e-a,i=a;i<e;i++){var r=n[i];12!==r&&2!==r||(t-=1)}o.length||(p=function(){var e=0;if(0===u)return e;if(h)for(var t=0;t<n.length;t++){var i=n[t];if(10==i)e+=1;else{if(11!=i){if(12==i)continue;break}e+=s}}return c&&!1!==h&&(e+=s),Math.min(e,u)}(),o.indent=p),l+=t,o.push(l),a=e}for(var p=0;r-a>i-p;){var f=a+i-p;if(n[f-1]>=10&&n[f]>=10)d(f);else if(n[f]!=e&&n[f]!=t){for(var g=Math.max(f-(i-(i>>2)),a-1);f>g&&n[f]<e;)f--;if(c){for(;f>g&&n[f]<e;)f--;for(;f>g&&9==n[f];)f--}else for(;f>g&&n[f]<10;)f--;f>g?d(++f):(2==n[f=a+i]&&f--,d(f-p))}else{for(;f!=a-1&&n[f]!=e;f--);if(f>a){d(f);continue}for(f=a+i;f<n.length&&n[f]==t;f++);if(f==n.length)break;d(f)}}return o},this.$getDisplayTokens=function(e,t){var i,s=[];t=t||0;for(var o=0;o<e.length;o++){var r=e.charCodeAt(o);if(9==r){i=this.getScreenTabSize(s.length+t),s.push(11);for(var a=1;a<i;a++)s.push(12)}else 32==r?s.push(10):r>39&&r<48||r>57&&r<64?s.push(9):r>=4352&&n(r)?s.push(1,2):s.push(1)}return s},this.$getStringScreenWidth=function(e,t,i){if(0==t)return[0,0];var s,o;for(null==t&&(t=1/0),i=i||0,o=0;o<e.length&&(9==(s=e.charCodeAt(o))?i+=this.getScreenTabSize(i):s>=4352&&n(s)?i+=2:i+=1,!(i>t));o++);return[i,o]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,s,o=0,r=0,a=0,l=0,c=this.$screenRowCache,h=this.$getRowCacheIndex(c,e),u=c.length;if(u&&h>=0){a=c[h],o=this.$docRowCache[h];var d=e>c[u-1]}else d=!u;for(var p=this.getLength()-1,f=this.getNextFoldLine(o),g=f?f.start.row:1/0;a<=e&&!(a+(l=this.getRowLength(o))>e||o>=p);)a+=l,++o>g&&(o=f.end.row+1,g=(f=this.getNextFoldLine(o,f))?f.start.row:1/0),d&&(this.$docRowCache.push(o),this.$screenRowCache.push(a));if(f&&f.start.row<=o)i=this.getFoldDisplayLine(f),o=f.start.row;else{if(a+l<=e||o>p)return{row:p,column:this.getLine(p).length};i=this.getLine(o),f=null}var m=0,v=Math.floor(e-a);if(this.$useWrapMode){var w=this.$wrapData[o];w&&(s=w[v],v>0&&w.length&&(m=w.indent,r=w[v-1]||w[w.length-1],i=i.substring(r)))}return void 0!==n&&this.$bidiHandler.isBidiRow(a+v,o,v)&&(t=this.$bidiHandler.offsetToCol(n)),r+=this.$getStringScreenWidth(i,t-m)[1],this.$useWrapMode&&r>=s&&(r=s-1),f?f.idxToPosition(r):{row:o,column:r}},this.documentToScreenPosition=function(e,t){if(void 0===t)var n=this.$clipPositionToDocument(e.row,e.column);else n=this.$clipPositionToDocument(e,t);e=n.row,t=n.column;var i,s=0,o=null;(i=this.getFoldAt(e,t,1))&&(e=i.start.row,t=i.start.column);var r,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;if(h&&c>=0){a=l[c],s=this.$screenRowCache[c];var u=e>l[h-1]}else u=!h;for(var d=this.getNextFoldLine(a),p=d?d.start.row:1/0;a<e;){if(a>=p){if((r=d.end.row+1)>e)break;p=(d=this.getNextFoldLine(r,d))?d.start.row:1/0}else r=a+1;s+=this.getRowLength(a),a=r,u&&(this.$docRowCache.push(a),this.$screenRowCache.push(s))}var f="";d&&a>=p?(f=this.getFoldDisplayLine(d,e,t),o=d.start.row):(f=this.getLine(e).substring(0,t),o=e);var g=0;if(this.$useWrapMode){var m=this.$wrapData[o];if(m){for(var v=0;f.length>=m[v];)s++,v++;f=f.substring(m[v-1]||0,f.length),g=v>0?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(s+=this.lineWidgets[a].rowsAbove),{row:s,column:g+this.$getStringScreenWidth(f)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,s=(a=0,(t=this.$foldData[a++])?t.start.row:1/0);i<n;){var o=this.$wrapData[i];e+=o?o.length+1:1,++i>s&&(i=t.end.row+1,s=(t=this.$foldData[a++])?t.start.row:1/0)}else{e=this.getLength();for(var r=this.$foldData,a=0;a<r.length;a++)e-=(t=r[a]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var s,o;for(n||(n=1/0),i=i||0,o=0;o<t.length&&!((i+="\t"===(s=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(s))>n);o++);return[i,o]})},this.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection.detach()},this.isFullWidth=n}.call(f.prototype),e("./edit_session/folding").Folding.call(f.prototype),e("./edit_session/bracket_match").BracketMatch.call(f.prototype),r.defineOptions(f.prototype,"session",{wrap:{set:function(e){if(e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e)if(this.$wrap=e,e){var t="number"==typeof e?e:null;this.setWrapLimitRange(t,t),this.setUseWrapMode(!0)}else this.setUseWrapMode(!1)},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){(e=parseInt(e))>0&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=f})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";var i=e("./lib/lang"),s=e("./lib/oop"),o=e("./range").Range,r=function(){this.$options={}};(function(){this.set=function(e){return s.mixin(this.$options,e),this},this.getOptions=function(){return i.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,s,r){return i=new o(e,n,s,r),!(n==r&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,s=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),r=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,h=s.length-c;e:for(var u=a.offset||0;u<=h;u++){for(var d=0;d<c;d++)if(-1==s[u+d].search(a[d]))continue e;var p=s[u],f=s[u+c-1],g=p.length-p.match(a[0])[0].length,m=f.match(a[c-1])[0].length;l&&l.end.row===u&&l.end.column>g||(r.push(l=new o(u,g,u+c-1,m)),c>2&&(u=u+c-2))}}else for(var v=0;v<s.length;v++){var w=i.getMatchOffsets(s[v],a);for(d=0;d<w.length;d++){var b=w[d];r.push(new o(v,b.offset,v,b.offset+b.length))}}if(n){var y=n.start.column,C=n.end.column;for(v=0,d=r.length-1;v<d&&r[v].start.column<y&&0==r[v].start.row;)v++;for(var x=n.end.row-n.start.row;v<d&&r[d].end.column>C&&r[d].end.row==x;)d--;for(r=r.slice(v,d+1),v=0,d=r.length;v<d;v++)r[v].start.row+=n.start.row,r[v].end.row+=n.start.row}return r},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var s=i.exec(e);if(!s||s[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var r=e[o];r&&r.toLowerCase()!=r?t[o]=t[o].toUpperCase():t[o]=t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n=e.needle;if(!e.needle)return e.re=!1;e.regExp||(n=i.escapeRegExp(n)),e.wholeWord&&(n=function(e,t){function n(e){return/\w/.test(e)||t.regExp?"\\b":""}return n(e[0])+e+n(e[e.length-1])}(n,e));var s=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(n),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(n,s);try{var o=new RegExp(n,s)}catch(e){o=!1}return e.re=o},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],s=0;s<n.length;s++)try{i.push(new RegExp(n[s],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,s=0!=t.skipCurrent,o=t.range,r=t.start;r||(r=o?o[i?"end":"start"]:e.selection.getRange()),r.start&&(r=r[s!=i?"end":"start"]);var a=o?o.start.row:0,l=o?o.end.row:e.getLength()-1;if(i)var c=function(e){var n=r.row;if(!u(n,r.column,e)){for(n--;n>=a;n--)if(u(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=l,a=r.row;n>=a;n--)if(u(n,Number.MAX_VALUE,e))return}};else c=function(e){var n=r.row;if(!u(n,r.column,e)){for(n+=1;n<=l;n++)if(u(n,0,e))return;if(0!=t.wrap)for(n=a,l=r.row;n<=l;n++)if(u(n,0,e))return}};if(t.$isMultiLine)var h=n.length,u=function(t,s,o){var r=i?t-h+1:t;if(!(r<0||r+h>e.getLength())){var a=e.getLine(r),l=a.search(n[0]);if(!(!i&&l<s||-1===l)){for(var c=1;c<h;c++)if(-1==(a=e.getLine(r+c)).search(n[c]))return;var u=a.match(n[h-1])[0].length;if(!(i&&u>s))return!!o(r,l,r+h-1,u)||void 0}}};else u=i?function(t,i,s){var o,r=e.getLine(t),a=[],l=0;for(n.lastIndex=0;o=n.exec(r);){var c=o[0].length;if(l=o.index,!c){if(l>=r.length)break;n.lastIndex=l+=1}if(o.index+c>i)break;a.push(o.index,c)}for(var h=a.length-1;h>=0;h-=2){var u=a[h-1];if(s(t,u,t,u+(c=a[h])))return!0}}:function(t,i,s){var o,r,a=e.getLine(t);for(n.lastIndex=i;r=n.exec(a);){var l=r[0].length;if(s(t,o=r.index,t,o+l))return!0;if(!l&&(n.lastIndex=o+=1,o>=a.length))return!1}};return{forEach:c}}}).call(r.prototype),t.Search=r})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),s=e("../lib/useragent"),o=i.KEY_MODS;function r(e,t){this.platform=t||(s.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){r.call(this,e,t),this.$singleCommand=!1}a.prototype=r.prototype,function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),this.commands[e.name]=e,e.bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i=this.commandKeyBinding;for(var s in i){var o=i[s];if(o==e)delete i[s];else if(Array.isArray(o)){var r=o.indexOf(e);-1!=r&&(o.splice(r,1),1==o.length&&(i[s]=o[0]))}}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i="";if(-1!=e.indexOf(" ")){var s=e.split(/\s+/);e=s.pop(),s.forEach((function(e){var t=this.parseKeys(e),n=o[t.hashId]+t.key;i+=(i?" ":"")+n,this._addCommandToBinding(i,"chainKeys")}),this),i+=" "}var r=this.parseKeys(e),a=o[r.hashId]+r.key;this._addCommandToBinding(i+a,t,n)}),this)},this._addCommandToBinding=function(t,n,i){var s,o=this.commandKeyBinding;if(n)if(!o[t]||this.$singleCommand)o[t]=n;else{Array.isArray(o[t])?-1!=(s=o[t].indexOf(n))&&o[t].splice(s,1):o[t]=[o[t]],"number"!=typeof i&&(i=e(n));var r=o[t];for(s=0;s<r.length&&!(e(r[s])>i);s++);r.splice(s,0,n)}else delete o[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),s=i[n];if(i.FUNCTION_KEYS[s])n=i.FUNCTION_KEYS[s].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,r=t.length;r--;){var a=i.KEY_MODS[t[r]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[r]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){var n=o[e]+t;return this.commandKeyBinding[n]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var s=o[t]+n,r=this.commandKeyBinding[s];return e.$keyChain&&(e.$keyChain+=" "+s,r=this.commandKeyBinding[e.$keyChain]||r),!r||"chainKeys"!=r&&"chainKeys"!=r[r.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||i>0)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-s.length-1)),{command:r}):(e.$keyChain=e.$keyChain||s,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}.call(r.prototype),t.HashHandler=r,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../keyboard/hash_handler").MultiHashHandler,o=e("../lib/event_emitter").EventEmitter,r=function(e,t){s.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.args?e.command.exec(e.editor,e.args,e.event,!1):e.command.exec(e.editor,{},e.event,!0)}))};i.inherits(r,s),function(){i.implement(this,o),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var s={editor:t,command:e,args:n};return s.returnValue=this._emit("exec",s),this._signal("afterExec",s),!1!==s.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=function(e){this.macro.push([e.command,e.args])}.bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}.call(r.prototype),t.CommandManager=r})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),s=e("../config"),o=e("../range").Range;function r(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:r("Ctrl-,","Command-,"),exec:function(e){s.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:r("Alt-E","F4"),exec:function(e){s.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:r("Alt-Shift-E","Shift-F4"),exec:function(e){s.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:r("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:r(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:r("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:r("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:r("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:r("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:r("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:r(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:r("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:r("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:r("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:r("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:r("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:r("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:r("Ctrl-F","Command-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:r("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:r("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:r("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:r("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:r("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:r("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:r("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:r("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:r("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:r("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:r("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:r("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:r("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:r("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:r("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:r("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:r("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:r("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:r("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:r("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:r(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:r("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:r(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:r("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:r("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:r("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:r("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:r("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:r("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:r("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:r(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:r("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:r("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:r("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:r("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:r("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:r("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:r("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:r("Ctrl-H","Command-Option-F"),exec:function(e){s.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:r("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:r("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:r("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:r("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:r("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:r("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:r("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:r("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:r("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:r("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:r("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:r("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:r("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:r("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:r("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:r("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:r("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:r("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:r("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:r(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:r("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:r("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:r("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:r(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:r("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:r("Ctrl+F3","F3"),exec:function(e){e.openLink()}},{name:"joinlines",description:"Join lines",bindKey:r(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),s=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),r=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=s.row+1;c++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),l+=h}s.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,s.row+2,0),l),a>0?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(r=e.session.doc.getLine(n.row).length>r?r+1:r,e.selection.moveCursorTo(n.row,r))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:r(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,s=[];i.length<1&&(i=[e.selection.getRange()]);for(var r=0;r<i.length;r++)r==i.length-1&&(i[r].end.row===t&&i[r].end.column===n||s.push(new o(i[r].end.row,i[r].end.column,t,n))),0===r?0===i[r].start.row&&0===i[r].start.column||s.push(new o(0,0,i[r].start.row,i[r].start.column)):s.push(new o(i[r-1].end.row,i[r-1].end.column,i[r].start.row,i[r].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),r=0;r<s.length;r++)e.selection.addRange(s[r],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command palette",bindKey:r("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:r(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],i=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},s=e("./lib/oop"),o=e("./lib/dom"),r=e("./lib/lang"),a=e("./lib/useragent"),l=e("./keyboard/textinput").TextInput,c=e("./mouse/mouse_handler").MouseHandler,h=e("./mouse/fold_handler").FoldHandler,u=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,p=e("./search").Search,f=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,m=e("./commands/command_manager").CommandManager,v=e("./commands/default_commands").commands,w=e("./config"),b=e("./token_iterator").TokenIterator,y=e("./clipboard"),C=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++C.$uid,this.commands=new m(a.isMac?"mac":"win",v),"object"==typeof document&&(this.textInput=new l(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new c(this),new h(this)),this.keyBinding=new u(this),this.$search=(new p).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=r.delayedCall(function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}.bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),w.resetOptions(this),n&&this.setOptions(n),w._signal("editor",this)};C.$uid=0,function(){s.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=r.delayedCall(this.endOperation.bind(this,!0)),this.on("change",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}.bind(this),!0),this.on("changeSelection",function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}.bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),s=this.renderer.layerConfig;(i.start.row>=s.lastRow||i.end.row<=s.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){if(this.$mergeUndoDeltas){var t=this.prevOp,n=this.$mergeableCommands,i=t.command&&e.command.name==t.command.name;if("insertstring"==e.command.name){var s=e.args;void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(s)||/\s/.test(t.args)),this.mergeNextCommand=!0}else i=i&&-1!==n.indexOf(e.command.name);"always"!=this.$mergeUndoDeltas&&Date.now()-this.sequenceStartTime>2e3&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now())}},this.setKeyboardHandler=function(e,t){if(e&&"string"==typeof e&&"ace"!=e){this.$keybindingId=e;var n=this;w.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t()},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){if(this.session!=e){this.curOp&&this.endOperation(),this.curOp={};var t=this.session;if(t){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange);var n=this.session.getSelection();n.off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)}this.session=e,e?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&!e.destroyed&&e.bgTokenizer.scheduleStart()}},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||o.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){if(!this.$highlightPending){var e=this;this.$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t=e.session;if(t&&!t.destroyed){t.$bracketHighlight&&(t.$bracketHighlight.markerIds.forEach((function(e){t.removeMarker(e)})),t.$bracketHighlight=null);var n=e.getCursorPosition(),i=e.getKeyboardHandler(),s=i&&i.$getDirectionForHighlight&&i.$getDirectionForHighlight(e),o=t.getMatchingBracketRanges(n,s);if(!o){var r=new b(t,n.row,n.column).getCurrentToken();if(r&&/\b(?:tag-open|tag-name)/.test(r.type)){var a=t.getMatchingTags(n);a&&(o=[a.openTagName,a.closeTagName])}}if(!o&&t.$mode.getMatching&&(o=t.$mode.getMatching(e.session)),o){var l="ace_bracket";Array.isArray(o)?1==o.length&&(l="ace_error_bracket"):o=[o],2==o.length&&(0==f.comparePoints(o[0].end,o[1].start)?o=[f.fromPoints(o[0].start,o[1].end)]:0==f.comparePoints(o[0].start,o[1].end)&&(o=[f.fromPoints(o[1].start,o[0].end)])),t.$bracketHighlight={ranges:o,markerIds:o.map((function(e){return t.addMarker(e,l,"text")}))},e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}else e.getHighlightIndentGuides()&&e.renderer.$textLayer.$highlightIndentGuide()}}),50)}},this.focus=function(){this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){var t=this.session.$useWrapMode,n=e.start.row==e.end.row?e.end.row:1/0;this.renderer.updateLines(e.start.row,n,t),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t=this.getSession();if(this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||this.renderer.$minLines>1||(e=!1)),t.$highlightLineMarker&&!e)t.removeMarker(t.$highlightLineMarker.id),t.$highlightLineMarker=null;else if(!t.$highlightLineMarker&&e){var n=new f(e.row,e.column,e.row,1/0);n.id=t.addMarker(n,"ace_active-line","screenLine"),t.$highlightLineMarker=n}else e&&(t.$highlightLineMarker.start.row=e.row,t.$highlightLineMarker.end.row=e.row,t.$highlightLineMarker.start.column=e.column,t._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t=this.session;if(t.$selectionMarker&&t.removeMarker(t.$selectionMarker),t.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var n=this.selection.getRange(),i=this.getSelectionStyle();t.$selectionMarker=t.addMarker(n,"ace_selection",i)}var s=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(s),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,s=e.getLine(t.start.row),o=s.substring(n,i);if(!(o.length>5e3)&&/[\w\d]/.test(o)){var r=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=s.substring(n-1,i+1);if(r.test(a))return r}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),s=0;s<i.length;s++){var o=i[s];s&&i[s-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var r={text:e};return this._signal("copy",r),y.lineMode=!!n&&r.text,r.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){var n={text:e,event:t};this.commands.exec("paste",this,n)},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t===y.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var s=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges,r=!(2!=s.length||s[0]&&s[1]);if(s.length!=o.length||r)return this.commands.exec("insertstring",this,t);for(var a=o.length;a--;){var l=o[a];l.isEmpty()||i.remove(l),i.insert(l.start,s[a])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n=this.session,i=n.getMode(),s=this.getCursorPosition();if(this.getBehavioursEnabled()&&!t){var o=i.transformAction(n.getState(s.row),"insertion",this,n,e);o&&(e!==o.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=o.text)}if("\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty())this.session.getOverwrite()&&-1==e.indexOf("\n")&&((r=new f.fromPoints(s,s)).end.column+=e.length,this.session.remove(r));else{var r=this.getSelectionRange();s=this.session.remove(r),this.clearSelection()}if("\n"==e||"\r\n"==e){var a=n.getLine(s.row);if(s.column>a.search(/\S|$/)){var l=a.substr(s.column).search(/\S|$/);n.doc.removeInLine(s.row,s.column,s.column+l)}}this.clearSelection();var c=s.column,h=n.getState(s.row),u=(a=n.getLine(s.row),i.checkOutdent(h,a,e));if(n.insert(s,e),o&&o.selection&&(2==o.selection.length?this.selection.setSelectionRange(new f(s.row,c+o.selection[0],s.row,c+o.selection[1])):this.selection.setSelectionRange(new f(s.row+o.selection[0],o.selection[1],s.row+o.selection[2],o.selection[3]))),this.$enableAutoIndent){if(n.getDocument().isNewLine(e)){var d=i.getNextLineIndent(h,a.slice(0,s.column),n.getTabString());n.insert({row:s.row+1,column:0},d)}u&&i.autoOutdent(h,n,s.row)}},this.autoIndent=function(){var e,t,n=this.session,i=n.getMode();if(this.selection.isEmpty())e=0,t=n.doc.getLength()-1;else{var s=this.getSelectionRange();e=s.start.row,t=s.end.row}for(var o,r,a,l="",c="",h="",u=n.getTabString(),d=e;d<=t;d++)d>0&&(l=n.getState(d-1),c=n.getLine(d-1),h=i.getNextLineIndent(l,c,u)),o=n.getLine(d),h!==(r=i.$getIndent(o))&&(r.length>0&&(a=new f(d,0,d,r.length),n.remove(a)),h.length>0&&n.insert({row:d,column:0},h)),i.autoOutdent(l,n,d)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setHighlightIndentGuides=function(e){this.renderer.setHighlightIndentGuides(e)},this.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t=this.getSelectionRange();if(this.getBehavioursEnabled()){var n=this.session,i=n.getState(t.start.row),s=n.getMode().transformAction(i,"deletion",this,n,t);if(0===t.end.column){var o=n.getTextRange(t);if("\n"==o[o.length-1]){var r=n.getLine(t.end.row);/^\s+$/.test(r)&&(t.end.column=r.length)}}s&&(t=s)}this.session.remove(t),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){if(this.selection.isEmpty()){var e=this.getCursorPosition(),t=e.column;if(0!==t){var n,i,s=this.session.getLine(e.row);t<s.length?(n=s.charAt(t)+s.charAt(t-1),i=new f(e.row,t-1,e.row,t+1)):(n=s.charAt(t-1)+s.charAt(t-2),i=new f(e.row,t-2,e.row,t)),this.session.replace(i,n),this.session.selection.moveToPosition(i.end)}}},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return h=this.$getSelectedRows(),void e.indentRows(h.first,h.last,"\t")}var i=e.getLine(t.start.row),s=t.start,o=e.getTabSize(),a=e.documentToScreenColumn(s.row,s.column);if(this.session.getUseSoftTabs())var l=o-a%o,c=r.stringRepeat(" ",l);else{for(l=a%o;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var s=new f(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);s.start.row=i,s.end.row=i,s.end.column=o.length,t.replace(s,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var s=n.exec(i);if(s.index<=t&&s.index+s[0].length>=t)return{value:s[0],start:s.index,end:s.index+s[0].length}}return null},this.modifyNumber=function(e){var t=this.selection.getCursor().row,n=this.selection.getCursor().column,i=new f(t,n-1,t,n),s=this.session.getTextRange(i);if(!isNaN(parseFloat(s))&&isFinite(s)){var o=this.getNumberAt(t,n);if(o){var r=o.value.indexOf(".")>=0?o.start+o.value.indexOf(".")+1:o.end,a=o.start+o.value.length-r,l=parseFloat(o.value);l*=Math.pow(10,a),r!==o.end&&n<r?e*=Math.pow(10,o.end-n-1):e*=Math.pow(10,o.end-n),l+=e;var c=(l/=Math.pow(10,a)).toFixed(a),h=new f(t,o.start,t,o.end);this.session.replace(h,c),this.moveCursorTo(t,Math.max(o.start+1,n+c.length-o.value.length))}}else this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,s=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),o=t-i-1;o<0&&(o=0);var a=0,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&s.forEach((function(t,s){l=a+t.length,o>=a&&o<=l&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,a+i),c.selection.selectTo(e,l+i)),a=l}));for(var h,u=this.$toggleWordPairs,d=0;d<u.length;d++)for(var p=u[d],f=0;f<=1;f++){var g=+!f,m=n.match(new RegExp("^\\s?_?("+r.escapeRegExp(p[f])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+r.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=n.replace(new RegExp(r.escapeRegExp(p[f]),"i"),(function(e){var t=p[g];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[g].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(h),h="")}},this.findLinkAt=function(e,t){var n,s,o=this.session.getLine(e).split(/((?:https?|ftp):\/\/[\S]+)/),r=t;r<0&&(r=0);var a,l=0,c=0;try{for(var h=i(o),u=h.next();!u.done;u=h.next()){var d=u.value;if(c=l+d.length,r>=l&&r<=c&&d.match(/((?:https?|ftp):\/\/[\S]+)/)){a=d.replace(/[\s:.,'";}\]]+$/,"");break}l=c}}catch(e){n={error:e}}finally{try{u&&!u.done&&(s=h.return)&&s.call(h)}finally{if(n)throw n.error}}return a},this.openLink=function(){var e=this.selection.getCursor(),t=this.findLinkAt(e.row,e.column);return t&&window.open(t,"_blank"),null!=t},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e=this.selection,t=this.session,n=e.getRange(),i=e.isBackwards();if(n.isEmpty()){var s=n.start.row;t.duplicateLines(s,s)}else{var o=i?n.start:n.end,r=t.insert(o,t.getTextRange(n),!1);n.start=o,n.end=r,e.setSelectionRange(n,i)}},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n,i,s=this.selection;if(!s.inMultiSelectMode||this.inVirtualSelectionMode){var o=s.toOrientedRange();n=this.$getSelectedRows(o),i=this.session.$moveLines(n.first,n.last,t?0:e),t&&-1==e&&(i=0),o.moveBy(i,0),s.fromOrientedRange(o)}else{var r=s.rangeList.ranges;s.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=r.length,h=0;h<c;h++){var u=h;r[h].moveBy(a,0);for(var d=(n=this.$getSelectedRows(r[h])).first,p=n.last;++h<c;){l&&r[h].moveBy(l,0);var f=this.$getSelectedRows(r[h]);if(t&&f.first!=p)break;if(!t&&f.first>p+1)break;p=f.last}for(h--,a=this.session.$moveLines(d,p,t?0:e),t&&-1==e&&(u=h+1);u<=h;)r[u].moveBy(a,0),u++;t||(a=0),l+=a}s.fromOrientedRange(s.ranges[0]),s.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,s=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(s,0)})):!1===t&&(this.selection.moveCursorBy(s,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,s*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new b(this.session,n.row,n.column),s=i.getCurrentToken(),o=0;s&&-1!==s.type.indexOf("tag-name")&&(s=i.stepBackward());var r=s||i.stepForward();if(r){var a,l,c=!1,h={},u=n.column-r.start,d={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(r.value.match(/[{}()\[\]]/g)){for(;u<r.value.length&&!c;u++)if(d[r.value[u]])switch(l=d[r.value[u]]+"."+r.type.replace("rparen","lparen"),isNaN(h[l])&&(h[l]=0),r.value[u]){case"(":case"[":case"{":h[l]++;break;case")":case"]":case"}":h[l]--,-1===h[l]&&(a="bracket",c=!0)}}else-1!==r.type.indexOf("tag-name")&&(isNaN(h[r.value])&&(h[r.value]=0),"<"===s.value&&o>1?h[r.value]++:"</"===s.value&&h[r.value]--,-1===h[r.value]&&(a="tag",c=!0));c||(s=r,o++,r=i.stepForward(),u=0)}while(r&&!c);if(a){var p,g;if("bracket"===a)(p=this.session.getBracketRange(n))||(g=(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+u-1)).start,(t||g.row===n.row&&Math.abs(g.column-n.column)<2)&&(p=this.session.getBracketRange(g)));else if("tag"===a){if(!r||-1===r.type.indexOf("tag-name"))return;if(0===(p=new f(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column)){var m=this.session.getMatchingTags(n);m&&(m.openTag.contains(n.row,n.column)?g=(p=m.closeTag).start:(p=m.openTag,g=m.closeTag.start.row===n.row&&m.closeTag.start.column===n.column?p.end:p.start))}g=g||p.start}(g=p&&p.cursor||g)&&(e?p&&t?this.selection.setRange(p):p&&p.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(g.row,g.column):this.selection.moveTo(g.row,g.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n?(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end),i):i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var s=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;o>=0;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(s),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t||(t={}),"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&s.mixin(t,e);var i=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(i)||this.$search.$options.needle)||(i=this.session.getWordRange(i.start.row,i.start.column),e=this.session.getTextRange(i)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:i});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?i.start=i.end:i.end=i.start,void this.selection.setRange(i))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){if(e){var t,n=this,i=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var s=this.$scrollAnchor;s.style.cssText="position:absolute",this.container.insertBefore(s,this.container.firstChild);var o=this.on("changeSelection",(function(){i=!0})),r=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){if(i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())){var e=n.renderer,o=e.$cursorLayer.$pixelPos,r=e.layerConfig,a=o.top-r.offset;null!=(i=o.top>=0&&a+t.top<0||!(o.top<r.height&&o.top+t.top+r.lineHeight>window.innerHeight)&&null)&&(s.style.top=a+"px",s.style.left=o.left+"px",s.style.height=r.lineHeight+"px",s.scrollIntoView(i)),i=t=null}}));this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",r))}}},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,o.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;w.loadModule("./ext/prompt",(function(s){s.prompt(i,e,t,n)}))}}.call(C.prototype),w.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?x.attach(this):x.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=function(){var e=this.session&&(this.renderer.$composition||this.getValue());if(e&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),o.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(e||this.renderer.placeholderNode)!e&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"");else{this.renderer.on("afterRender",this.$updatePlaceholder),o.addCssClass(this.container,"ace_hasPlaceholder");var t=o.createElement("div");t.className="ace_placeholder",t.textContent=this.$placeholder||"",this.renderer.placeholderNode=t,this.renderer.content.appendChild(this.renderer.placeholderNode)}}.bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=function(){this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()};(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){if(!this.$fromUndo&&e!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),!1===t||!this.lastDeltas){this.lastDeltas=[];var i=this.$undoStack.length;i>this.$undoDepth-1&&this.$undoStack.splice(0,i-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev}"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e)}},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var s=n[i][0];if(s.id<=e)break;s.id<t&&(s.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var s=n[i];if(s.rev<e)return t&&(s=n[i+1]),s}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,s=0,o=n.length;o--;){var r=n[o][0];if(r.id<t&&!i&&(i=o+1),r.id<=e){s=o+1;break}}return n.slice(s,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var s=h(e[n],e[n+1]);e[n]=s[0],e[n+1]=s[1],n++}return!0}}}(n,n.length)){e||(e=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),s=null;return i&&(s=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,s}},this.redo=function(e,t){if(this.lastDeltas=null,e||(e=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);!function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],s=0;s<i.length;s++)g(e,i[s])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this)}var i=this.$redoStack.pop(),s=null;return i&&(s=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,s},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return this.$undoStack.length>0},this.canRedo=function(){return this.$redoStack.length>0},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var s=e("./range").Range,o=s.comparePoints;function r(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}else if(!n&&i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.start,e.start)<=0))return null;d(e,t,1)}else if(!n&&!i)if(o(t.start,e.start)>=0)d(t,e,1);else{if(!(o(t.end,e.start)<=0))return null;d(e,t,-1)}return[t,e]}function h(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}function u(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)o(e.start,t.start)<0?d(t,e,1):d(e,t,1);else if(n&&!i)o(e.start,t.end)>=0?d(e,t,-1):(o(e.start,t.start)<=0||d(e,s.fromPoints(t.start,e.start),-1),d(t,e,1));else if(!n&&i)o(t.start,e.end)>=0?d(t,e,-1):(o(t.start,e.start)<=0||d(t,s.fromPoints(e.start,t.start),-1),d(e,t,1));else if(!n&&!i)if(o(t.start,e.end)>=0)d(t,e,-1);else{var r,a;if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(r=e,e=f(e,t.start)),o(e.end,t.end)>0&&(a=f(e,t.end)),p(t.end,e.start,e.end,-1),a&&!r&&(e.lines=a.lines,e.start=a.start,e.end=a.end,a=e),[t,r,a].filter(Boolean);d(e,t,-1)}return[t,e]}function d(e,t,n){p(e.start,t.start,t.end,n),p(e.end,t.start,t.end,n)}function p(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function f(e,t){var n=e.lines,i=e.end;e.end=r(t);var s=e.end.row-e.start.row,o=n.splice(s,n.length),a=s?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:r(t),end:i,lines:o,action:e.action}}function g(e,t){t=function(e){return{start:r(e.start),end:r(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],s=0;s<i.length;s++){var o=u(i[s],t);t=o[0],2!=o.length&&(o[2]?(i.splice(s+1,1,o[1],o[2]),s++):o[1]||(i.splice(s,1),s--))}i.length||e.splice(n,1)}return e}s.comparePoints,t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=function(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0};(function(){this.moveContainer=function(e){i.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=t.firstRowScreen*t.lineHeight,s=Math.floor(i/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-s*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=i.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,s){var o=this.cellCache.pop();if(!o){var r=i.createElement("div");s&&s(r),this.element.appendChild(r),o={element:r,text:"",row:e}}return o.row=e,o}}).call(s.prototype),t.Lines=s})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/lang"),r=e("../lib/event_emitter").EventEmitter,a=e("./lines").Lines,l=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new a(this.element),this.$lines.$offsetCoefficient=1};function c(e){var t=document.createTextNode("");e.appendChild(t);var n=i.createElement("span");return e.appendChild(n),e}(function(){s.implement(this,r),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,s=this.$annotations[i];s||(s=this.$annotations[i]={text:[]});var r=n.text;r=r?o.escapeHTML(r):n.html||"",-1===s.text.indexOf(r)&&s.text.push(r);var a=n.type,l=n.className;l?s.className=l:"error"==a?s.className=" ace_error":"warning"==a&&" ace_error"!=s.className?s.className=" ace_warning":"info"!=a||s.className||(s.className=" ace_info")}},this.$updateAnnotations=function(e){if(this.$annotations.length){var t=e.start.row,n=e.end.row-t;if(0===n);else if("remove"==e.action)this.$annotations.splice(t,n+1,null);else{var i=new Array(n+1);i.unshift(t,1),this.$annotations.splice.apply(this.$annotations,i)}}},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var s=t.getNextFoldLine(n),o=s?s.start.row:1/0,r=null,a=-1,l=n;;){if(l>o&&(l=s.end.row+1,o=(s=t.getNextFoldLine(l,s))?s.start.row:1/0),l>i){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(r=this.$lines.get(++a))?r.row=l:(r=this.$lines.createCell(l,e,this.session,c),this.$lines.push(r)),this.$renderCell(r,e,s,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,s=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(s=t.getLength()+i-1);var o=n?n.getWidth(t,s,e):s.toString().length*e.characterWidth,r=this.$padding||this.$computePadding();(o+=r.left+r.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var s=this.session.getFoldLine(this.$cursorRow);if(!(n>0&&s&&s.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(i>n)for(s=this.session.getFoldedRowCount(n+1,i);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),n>i&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],s=t,o=this.session.getNextFoldLine(s),r=o?o.start.row:1/0;s>r&&(s=o.end.row+1,r=(o=this.session.getNextFoldLine(s,o))?o.start.row:1/0),!(s>n);){var a=this.$lines.createCell(s,e,this.session,c);this.$renderCell(a,e,o,s),i.push(a),s++}return i},this.$renderCell=function(e,t,n,s){var o=e.element,r=this.session,a=o.childNodes[0],l=o.childNodes[1],c=r.$firstLineNumber,h=r.$breakpoints,u=r.$decorations,d=r.gutterRenderer||this.$renderer,p=this.$showFoldWidgets&&r.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,g="ace_gutter-cell ";if(this.$highlightGutterLine&&(s==this.$cursorRow||n&&s<this.$cursorRow&&s>=f&&this.$cursorRow<=n.end.row)&&(g+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),h[s]&&(g+=h[s]),u[s]&&(g+=u[s]),this.$annotations[s]&&(g+=this.$annotations[s].className),o.className!=g&&(o.className=g),p){var m=p[s];null==m&&(m=p[s]=r.getFoldWidget(s))}if(m){g="ace_fold-widget ace_"+m,"start"==m&&s==f&&s<n.end.row?g+=" ace_closed":g+=" ace_open",l.className!=g&&(l.className=g);var v=t.lineHeight+"px";i.setStyle(l.style,"height",v),i.setStyle(l.style,"display","inline-block")}else l&&i.setStyle(l.style,"display","none");var w=(d?d.getText(r,s):s+c).toString();return w!==a.data&&(a.data=w),i.setStyle(e.element.style,"height",this.$lines.computeLineHeight(s,t,r)+"px"),i.setStyle(e.element.style,"top",this.$lines.computeLineTop(s,t,r)+"px"),e.text=w,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?i.addCssClass(this.element,"ace_folding-enabled"):i.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=i.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(l.prototype),t.Gutter=l})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../range").Range,s=e("../lib/dom"),o=function(e){this.element=s.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)};(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t;for(var n in this.config=e,this.i=0,this.markers){var i=this.markers[n];if(i.range){var s=i.range.clipRows(e.firstRow,e.lastRow);if(!s.isEmpty())if(s=s.toScreenRange(this.session),i.renderer){var o=this.$getTop(s.start.row,e),r=this.$padding+s.start.column*e.characterWidth;i.renderer(t,s,r,o,e)}else"fullLine"==i.type?this.drawFullLineMarker(t,s,i.clazz,e):"screenLine"==i.type?this.drawScreenLineMarker(t,s,i.clazz,e):s.isMultiLine()?"text"==i.type?this.drawTextMarker(t,s,i.clazz,e):this.drawMultiLineMarker(t,s,i.clazz,e):this.drawSingleLineMarker(t,s,i.clazz+" ace_start ace_br15",e)}else i.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,s,o){for(var r=this.session,a=t.start.row,l=t.end.row,c=a,h=0,u=0,d=r.getScreenLastRowColumn(c),p=new i(c,t.start.column,c,u);c<=l;c++)p.start.row=p.end.row=c,p.start.column=c==a?t.start.column:r.getRowWrapIndent(c),p.end.column=d,h=u,u=d,d=c+1<l?r.getScreenLastRowColumn(c+1):c==l?0:t.end.column,this.drawSingleLineMarker(e,p,n+(c==a?" ace_start":"")+" ace_br"+((c==a||c==a+1&&t.start.column?1:0)|(h<u?2:0)|(u>d?4:0)|(c==l?8:0)),s,c==l?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,s){var o=this.$padding,r=i.lineHeight,a=this.$getTop(t.start.row,i),l=o+t.start.column*i.characterWidth;if(s=s||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((c=t.clone()).end.row=c.start.row,c.end.column=this.session.getLine(c.start.row).length,this.drawBidiSingleLineMarker(e,c,n+" ace_br1 ace_start",i,null,s)):this.elt(n+" ace_br1 ace_start","height:"+r+"px;right:0;top:"+a+"px;left:"+l+"px;"+(s||"")),this.session.$bidiHandler.isBidiRow(t.end.row)){var c;(c=t.clone()).start.row=c.end.row,c.start.column=0,this.drawBidiSingleLineMarker(e,c,n+" ace_br12",i,null,s)}else{a=this.$getTop(t.end.row,i);var h=t.end.column*i.characterWidth;this.elt(n+" ace_br12","height:"+r+"px;width:"+h+"px;top:"+a+"px;left:"+o+"px;"+(s||""))}if(!((r=(t.end.row-t.start.row-1)*i.lineHeight)<=0)){a=this.$getTop(t.start.row+1,i);var u=(t.start.column?1:0)|(t.end.column?0:8);this.elt(n+(u?" ace_br"+u:""),"height:"+r+"px;right:0;top:"+a+"px;left:"+o+"px;"+(s||""))}},this.drawSingleLineMarker=function(e,t,n,i,s,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,s,o);var r=i.lineHeight,a=(t.end.column+(s||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i),c=this.$padding+t.start.column*i.characterWidth;this.elt(n,"height:"+r+"px;width:"+a+"px;top:"+l+"px;left:"+c+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,s,o){var r=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+r+"px;width:"+(e.width+(s||0))+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,s){var o=this.$getTop(t.start.row,i),r=i.lineHeight;t.start.row!=t.end.row&&(r+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))},this.drawScreenLineMarker=function(e,t,n,i,s){var o=this.$getTop(t.start.row,i),r=i.lineHeight;this.elt(n,"height:"+r+"px;top:"+o+"px;left:0;right:0;"+(s||""))}}).call(o.prototype),t.Marker=o})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("./lines").Lines,a=e("../lib/event_emitter").EventEmitter,l=function(e){this.dom=s,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new r(this.element)};(function(){i.implement(this,a),this.EOF_CHAR="",this.EOL_CHAR_LF="",this.EOL_CHAR_CRLF="",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="",this.SPACE_CHAR="",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.MAX_CHUNK_LENGTH=250,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",function(e){this._signal("changeCharacterSize",e)}.bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){this.session=e,e&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&(this.showInvisibles=e,"string"==typeof e?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$highlightIndentGuides=!0,this.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides!==e&&(this.$highlightIndentGuides=e,e)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t=this.$tabStrings=[0],n=1;n<e+1;n++)this.showTabs?((i=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",i.textContent=o.stringRepeat(this.TAB_CHAR,n),t.push(i)):t.push(this.dom.createTextNode(o.stringRepeat(" ",n),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var i,s="ace_indent-guide",r=this.showSpaces?" ace_invisible ace_invisible_space":"",a=this.showSpaces?o.stringRepeat(this.SPACE_CHAR,this.tabSize):o.stringRepeat(" ",this.tabSize),l=this.showTabs?" ace_invisible ace_invisible_tab":"",c=this.showTabs?o.stringRepeat(this.TAB_CHAR,this.tabSize):a;(i=this.dom.createElement("span")).className=s+r,i.textContent=a,this.$tabStrings[" "]=i,(i=this.dom.createElement("span")).className=s+l,i.textContent=c,this.$tabStrings["\t"]=i}},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),s=Math.min(n,e.lastRow),o=this.element.childNodes,r=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}r++}for(var l,c=!1,h=(a=i,(l=this.session.getNextFoldLine(a))?l.start.row:1/0);a>h&&(a=l.end.row+1,h=(l=this.session.getNextFoldLine(a,l))?l.start.row:1/0),!(a>s);){var u=o[r++];if(u){this.dom.removeChildren(u),this.$renderLine(u,a,a==h&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px");var d=e.lineHeight*this.session.getRowLength(a)+"px";u.style.height!=d&&(c=!0,u.style.height=d)}a++}if(c)for(;r<this.$lines.cells.length;){var p=this.$lines.cells[r++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow,i=t?t.lastRow:-1;if(!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var s=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);s>0;s--)this.$lines.shift();if(t.lastRow>e.lastRow)for(s=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);s>0;s--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},this.$renderLinesFragment=function(e,t,n){for(var i=[],o=t,r=this.session.getNextFoldLine(o),a=r?r.start.row:1/0;o>a&&(o=r.end.row+1,a=(r=this.session.getNextFoldLine(o,r))?r.start.row:1/0),!(o>n);){var l=this.$lines.createCell(o,e,this.session),c=l.element;this.dom.removeChildren(c),s.setStyle(c.style,"height",this.$lines.computeLineHeight(o,e,this.session)+"px"),s.setStyle(c.style,"top",this.$lines.computeLineTop(o,e,this.session)+"px"),this.$renderLine(c,o,o==a&&r),this.$useLineGroups()?c.className="ace_line_group":(c.className="ace_line",c.setAttribute("role","option")),i.push(l),o++}return i},this.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var t=e.firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderTokenInChunks=function(e,t,n,i){for(var s,o=0;o<i.length;o+=this.MAX_CHUNK_LENGTH){var r=i.substring(o,o+this.MAX_CHUNK_LENGTH),a={type:n.type,value:r};s=this.$renderToken(e,t+o,a,r)}return s},this.$renderToken=function(e,t,n,i){for(var s,r=this,a=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,l=this.dom.createFragment(this.element),c=0;s=a.exec(i);){var h=s[1],u=s[2],d=s[3],p=s[4],f=s[5];if(r.showSpaces||!u){var g=c!=s.index?i.slice(c,s.index):"";if(c=s.index+s[0].length,g&&l.appendChild(this.dom.createTextNode(g,this.element)),h){var m=r.session.getScreenTabSize(t+s.index);l.appendChild(r.$tabStrings[m].cloneNode(!0)),t+=m-1}else u?r.showSpaces?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",v.textContent=o.stringRepeat(r.SPACE_CHAR,u.length),l.appendChild(v)):l.appendChild(this.com.createTextNode(u,this.element)):d?((v=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",v.textContent=o.stringRepeat(r.SPACE_CHAR,d.length),l.appendChild(v)):p?(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className=r.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",v.textContent=r.showSpaces?r.SPACE_CHAR:p,l.appendChild(v)):f&&(t+=1,(v=this.dom.createElement("span")).style.width=2*r.config.characterWidth+"px",v.className="ace_cjk",v.textContent=f,l.appendChild(v))}}l.appendChild(this.dom.createTextNode(c?i.slice(c):i,this.element));var v=this.dom.createElement("span");if(!this.$textToken[n.type]){var w="ace_"+n.type.replace(/\./g," ace_");"fold"==n.type&&(v.style.width=n.value.length*this.config.characterWidth+"px"),v.className=w}return v.appendChild(l),e.appendChild(v),t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||i>=n)return t;if(" "==t[0]){for(var s=(i-=i%this.tabSize)/this.tabSize,o=0;o<s;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}if("\t"==t[0]){for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return this.$highlightIndentGuide(),t.substr(i)}return this.$highlightIndentGuide(),t},this.$highlightIndentGuide=function(){if(this.$highlightIndentGuides&&this.displayIndentGuides){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var t=this.session.selection.getCursor(),n=/^\s*/.exec(this.session.doc.getLine(t.row))[0].length,i=Math.floor(n/this.tabSize);if(this.$highlightIndentGuideMarker={indentLevel:i,start:t.row},this.session.$bracketHighlight)for(var s=this.session.$bracketHighlight.ranges,o=0;o<s.length;o++)if(t.row!==s[o].start.row){this.$highlightIndentGuideMarker.end=s[o].start.row,t.row>s[o].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}if(!this.$highlightIndentGuideMarker.end&&""!==e[t.row]&&t.column===e[t.row].length)for(this.$highlightIndentGuideMarker.dir=1,o=t.row+1;o<e.length;o++){var r=e[o],a=/^\s*/.exec(r)[0].length;if(""!==r&&(this.$highlightIndentGuideMarker.end=o,a<=n))break}this.$renderHighlightIndentGuide()}}},this.$clearActiveIndentGuide=function(){for(var e=this.$lines.cells,t=0;t<e.length;t++){var n=e[t].element.childNodes;if(n.length>0)for(var i=0;i<n.length;i++)if(n[i].classList&&n[i].classList.contains("ace_indent-guide-active")){n[i].classList.remove("ace_indent-guide-active");break}}},this.$setIndentGuideActive=function(e,t){if(""!==this.session.doc.getLine(e.row)){var n=e.element.childNodes;if(n){var i=n[t-1];i&&i.classList&&i.classList.contains("ace_indent-guide")&&i.classList.add("ace_indent-guide-active")}}},this.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var t=this.$highlightIndentGuideMarker.indentLevel;if(0!==t)if(1===this.$highlightIndentGuideMarker.dir)for(var n=0;n<e.length;n++){var i=e[n];if(this.$highlightIndentGuideMarker.end&&i.row>=this.$highlightIndentGuideMarker.start+1){if(i.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}else for(n=e.length-1;n>=0;n--)if(i=e[n],this.$highlightIndentGuideMarker.end&&i.row<this.$highlightIndentGuideMarker.start){if(i.row<=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(i,t)}}},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,s=0,r=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var h=t[c],u=h.value;if(0==c&&this.displayIndentGuides){if(i=u.length,!(u=this.renderIndentGuide(l,u,r)))continue;i-=u.length}if(i+u.length<r)a=this.$renderTokenInChunks(l,a,h,u),i+=u.length;else{for(;i+u.length>=r;)a=this.$renderTokenInChunks(l,a,h,u.substring(0,r-i)),u=u.substring(r-i),i=r,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(o.stringRepeat("",n.indent),this.element)),a=0,r=n[++s]||Number.MAX_VALUE;0!=u.length&&(i+=u.length,a=this.$renderTokenInChunks(l,a,h,u))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){for(var n=0,i=0;i<t.length;i++){var s=t[i],o=s.value;if(0!=i||!this.displayIndentGuides||(o=this.renderIndentGuide(e,o))){if(n+o.length>this.MAX_LINE_LENGTH)return void this.$renderOverflowMessage(e,n,s,o);n=this.$renderTokenInChunks(e,n,s,o)}}},this.$renderOverflowMessage=function(e,t,n,i,s){n&&this.$renderTokenInChunks(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=s?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){if(n||0==n||(n=this.session.getFoldLine(t)),n)var i=this.$getFoldLineTokens(t,n);else i=this.session.getTokens(t);var s=e;if(i.length){var o=this.session.getRowSplitData(t);o&&o.length?(this.$renderWrappedLine(e,i,o),s=e.lastChild):(s=e,this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,i))}else this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s));if(this.showEOL&&s){n&&(t=n.end.row);var r=this.dom.createElement("span");r.className="ace_invisible ace_invisible_eol",r.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(r)}},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],s=n.getTokens(e);return t.walk((function(e,t,o,r,a){null!=e?i.push({type:"fold",value:e}):(a&&(s=n.getTokens(t)),s.length&&function(e,t,n){for(var s=0,o=0;o+e[s].value.length<t;)if(o+=e[s].value.length,++s==e.length)return;for(o!=t&&((r=e[s].value.substring(t-o)).length>n-t&&(r=r.substring(0,n-t)),i.push({type:e[s].type,value:r}),o=t+r.length,s+=1);o<n&&s<e.length;){var r;(r=e[s].value).length+o>n?i.push({type:e[s].type,value:r.substring(0,n-o)}):i.push(e[s]),o+=r.length,s+=1}}(s,r,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(l.prototype),t.Text=l})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=function(e){this.element=i.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),i.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)};(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)i.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout(function(){this.$isAnimating&&i.addCssClass(this.element,"ace_animate-blinking")}.bind(this))},this.$stopCssAnimation=function(){this.$isAnimating=!1,i.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,i.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=i.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(this.cursors.length>1){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,i.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,i.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,i.removeCssClass(this.element,"ace_smooth-blinking")),e(!0),this.isBlinking&&this.blinkInterval&&this.isVisible)if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout(function(){this.$isSmoothBlinking&&i.addCssClass(this.element,"ace_smooth-blinking")}.bind(this))),i.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var t=function(){this.timeoutId=setTimeout((function(){e(!1)}),.6*this.blinkInterval)}.bind(this);this.intervalId=setInterval((function(){e(!0),t()}),this.blinkInterval),t()}else this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e||(e=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return e.top>=0&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,s=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var r=this.getPixelPosition(t[n].cursor,!0);if(!((r.top>e.height+e.offset||r.top<0)&&n>1)){var a=this.cursors[s++]||this.addCursor(),l=a.style;this.drawCursor?this.drawCursor(a,r,e,t[n],this.session):this.isCursorInView(r,e)?(i.setStyle(l,"display","block"),i.translate(a,r.left,r.top),i.setStyle(l,"width",Math.round(e.characterWidth)+"px"),i.setStyle(l,"height",e.lineHeight+"px")):i.setStyle(l,"display","none")}}for(;this.cursors.length>s;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=r,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&(this.overwrite=e,e?i.addCssClass(this.element,"ace_overwrite-cursors"):i.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(s.prototype),t.Cursor=s})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter,a=32768,l=function(e){this.element=s.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addListener(this.element,"scroll",this.onScroll.bind(this)),o.addListener(this.element,"mousedown",o.preventDefault)};(function(){i.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(l.prototype);var c=function(e,t){l.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=s.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0};i.inherits(c,l),function(){this.classSuffix="-v",this.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,1!=this.coeff){var e=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-e)/(this.coeff-e)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){this.scrollHeight=e,e>a?(this.coeff=a/e,e=a):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}.call(c.prototype);var h=function(e,t){l.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"};i.inherits(h,l),function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}.call(h.prototype),t.ScrollBar=c,t.ScrollBarV=c,t.ScrollBarH=h,t.VScrollBar=c,t.HScrollBar=h})),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./lib/event"),r=e("./lib/event_emitter").EventEmitter;s.importCssString(".ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{\n  position: absolute;\n  background: rgba(128, 128, 128, 0.6);\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  border: 1px solid #bbb;\n  border-radius: 2px;\n  z-index: 8;\n}\n.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {\n  position: absolute;\n  z-index: 6;\n  background: none;\n  overflow: hidden!important;\n}\n.ace_editor>.ace_sb-v {\n  z-index: 6;\n  right: 0;\n  top: 0;\n  width: 12px;\n}\n.ace_editor>.ace_sb-v div {\n  z-index: 8;\n  right: 0;\n  width: 100%;\n}\n.ace_editor>.ace_sb-h {\n  bottom: 0;\n  left: 0;\n  height: 12px;\n}\n.ace_editor>.ace_sb-h div {\n  bottom: 0;\n  height: 100%;\n}\n.ace_editor>.ace_sb_grabbed {\n  z-index: 8;\n  background: #000;\n}","ace_scrollbar.css",!1);var a=function(e){this.element=s.createElement("div"),this.element.className="ace_sb"+this.classSuffix,this.inner=s.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,o.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")};(function(){i.implement(this,r),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(a.prototype);var l=function(e,t){a.call(this,e),this.scrollTop=0,this.scrollHeight=0,this.parent=e,this.width=this.VScrollWidth,this.renderer=t,this.inner.style.width=this.element.style.width=(this.width||15)+"px",this.$minWidth=0};i.inherits(l,a),function(){this.classSuffix="-v",i.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientY,s=t.clientY,r=this.thumbTop;o.capture(this.inner,(function(e){i=e.clientY}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollTopFromThumbTop(r+i-s);e!==n.scrollTop&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.height},this.scrollTopFromThumbTop=function(e){var t=e*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return(t>>=0)<0?t=0:t>this.pageHeight-this.viewHeight&&(t=this.pageHeight-this.viewHeight),t},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.height=Math.max(0,e),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},this.setInnerHeight=this.setScrollHeight=function(e,t){(this.pageHeight!==e||t)&&(this.pageHeight=e,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},this.setScrollTop=function(e){this.scrollTop=e,e<0&&(e=0),this.thumbTop=e*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"}}.call(l.prototype);var c=function(e,t){a.call(this,e),this.scrollLeft=0,this.scrollWidth=0,this.height=this.HScrollHeight,this.inner.style.height=this.element.style.height=(this.height||12)+"px",this.renderer=t};i.inherits(c,a),function(){this.classSuffix="-h",i.implement(this,r),this.onMouseDown=function(e,t){if("mousedown"===e&&0===o.getButton(t)&&2!==t.detail){if(t.target===this.inner){var n=this,i=t.clientX,s=t.clientX,r=this.thumbLeft;o.capture(this.inner,(function(e){i=e.clientX}),(function(){clearInterval(a)}));var a=setInterval((function(){if(void 0!==i){var e=n.scrollLeftFromThumbLeft(r+i-s);e!==n.scrollLeft&&n._emit("scroll",{data:e})}}),20);return o.preventDefault(t)}var l=t.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(l)}),o.preventDefault(t)}},this.getHeight=function(){return this.isVisible?this.height:0},this.scrollLeftFromThumbLeft=function(e){var t=e*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return(t>>=0)<0?t=0:t>this.pageWidth-this.viewWidth&&(t=this.pageWidth-this.viewWidth),t},this.setWidth=function(e){this.width=Math.max(0,e),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},this.setInnerWidth=this.setScrollWidth=function(e,t){(this.pageWidth!==e||t)&&(this.pageWidth=e,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},this.setScrollLeft=function(e){this.scrollLeft=e,e<0&&(e=0),this.thumbLeft=e*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"}}.call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";var i=e("./lib/event"),s=function(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(i.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}};(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(i.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(s.prototype),t.RenderLoop=s})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),s=e("../lib/dom"),o=e("../lib/lang"),r=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,h=200,u=t.FontMetrics=function(e,t){this.charCount=t||250,this.el=s.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=s.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=s.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",this.charCount),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){if(void 0===e&&(e=this.$measureSizes()),e&&(this.$characterSize.width!==e.width||this.$characterSize.height!==e.height)){this.$measureNode.style.fontWeight="bold";var t=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e})}},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=r.onIdle((function t(){e.checkForSizeChanges(),r.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t=(e=e||this.$measureNode).getBoundingClientRect(),n={height:t.height,width:t.width/this.charCount};return 0===n.width||0===n.height?null:n},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,this.charCount),this.$main.getBoundingClientRect().width/this.charCount},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){var e=function(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]};this.els=s.buildDom([e(0,0),e(h,0),e(0,h),e(h,h)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(+e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function s(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function r(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e&&(e=o(1/this.$getZoom(this.el),e)),this.els||this.$initTransformMeasureNodes();var a=r(this.els[0]),l=r(this.els[1]),c=r(this.els[2]),u=r(this.els[3]),d=n(i(u,l),i(u,c),i(s(l,c),s(u,a))),p=o(1+d[0],i(l,a)),f=o(1+d[1],i(c,a));if(t){var g=t,m=d[0]*g[0]/h+d[1]*g[1]/h+1,v=s(o(g[0],p),o(g[1],f));return s(o(1/m/h,v),a)}var w=i(e,a),b=n(i(p,o(d[0],w)),i(f,o(d[1],w)),w);return o(h,b)}}).call(u.prototype)})),ace.define("ace/css/editor.css",["require","exports","module"],(function(e,t,n){n.exports='/*\nstyles = []\nfor (var i = 1; i < 16; i++) {\n    styles.push(".ace_br" + i + "{" + (\n        ["top-left", "top-right", "bottom-right", "bottom-left"]\n    ).map(function(x, j) {\n        return i & (1<<j) ? "border-" + x + "-radius: 3px;" : "" \n    }).filter(Boolean).join(" ") + "}")\n}\nstyles.join("\\n")\n*/\n.ace_br1 {border-top-left-radius    : 3px;}\n.ace_br2 {border-top-right-radius   : 3px;}\n.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}\n.ace_br4 {border-bottom-right-radius: 3px;}\n.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}\n.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}\n.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}\n.ace_br8 {border-bottom-left-radius : 3px;}\n.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}\n.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}\n.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}\n.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}\n.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}\n\n\n.ace_editor {\n    position: relative;\n    overflow: hidden;\n    padding: 0;\n    font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;\n    direction: ltr;\n    text-align: left;\n    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n}\n\n.ace_scroller {\n    position: absolute;\n    overflow: hidden;\n    top: 0;\n    bottom: 0;\n    background-color: inherit;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    cursor: text;\n}\n\n.ace_content {\n    position: absolute;\n    box-sizing: border-box;\n    min-width: 100%;\n    contain: style size layout;\n    font-variant-ligatures: no-common-ligatures;\n}\n\n.ace_dragging .ace_scroller:before{\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    background: rgba(250, 250, 250, 0.01);\n    z-index: 1000;\n}\n.ace_dragging.ace_dark .ace_scroller:before{\n    background: rgba(0, 0, 0, 0.01);\n}\n\n.ace_gutter {\n    position: absolute;\n    overflow : hidden;\n    width: auto;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    cursor: default;\n    z-index: 4;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    contain: style size layout;\n}\n\n.ace_gutter-active-line {\n    position: absolute;\n    left: 0;\n    right: 0;\n}\n\n.ace_scroller.ace_scroll-left {\n    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;\n}\n\n.ace_gutter-cell {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    padding-left: 19px;\n    padding-right: 6px;\n    background-repeat: no-repeat;\n}\n\n.ace_gutter-cell.ace_error {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_warning {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");\n    background-position: 2px center;\n}\n\n.ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");\n    background-position: 2px center;\n}\n.ace_dark .ace_gutter-cell.ace_info {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");\n}\n\n.ace_scrollbar {\n    contain: strict;\n    position: absolute;\n    right: 0;\n    bottom: 0;\n    z-index: 6;\n}\n\n.ace_scrollbar-inner {\n    position: absolute;\n    cursor: text;\n    left: 0;\n    top: 0;\n}\n\n.ace_scrollbar-v{\n    overflow-x: hidden;\n    overflow-y: scroll;\n    top: 0;\n}\n\n.ace_scrollbar-h {\n    overflow-x: scroll;\n    overflow-y: hidden;\n    left: 0;\n}\n\n.ace_print-margin {\n    position: absolute;\n    height: 100%;\n}\n\n.ace_text-input {\n    position: absolute;\n    z-index: 0;\n    width: 0.5em;\n    height: 1em;\n    opacity: 0;\n    background: transparent;\n    -moz-appearance: none;\n    appearance: none;\n    border: none;\n    resize: none;\n    outline: none;\n    overflow: hidden;\n    font: inherit;\n    padding: 0 1px;\n    margin: 0 -1px;\n    contain: strict;\n    -ms-user-select: text;\n    -moz-user-select: text;\n    -webkit-user-select: text;\n    user-select: text;\n    /*with `pre-line` chrome inserts &nbsp; instead of space*/\n    white-space: pre!important;\n}\n.ace_text-input.ace_composition {\n    background: transparent;\n    color: inherit;\n    z-index: 1000;\n    opacity: 1;\n}\n.ace_composition_placeholder { color: transparent }\n.ace_composition_marker { \n    border-bottom: 1px solid;\n    position: absolute;\n    border-radius: 0;\n    margin-top: 1px;\n}\n\n[ace_nocontext=true] {\n    transform: none!important;\n    filter: none!important;\n    clip-path: none!important;\n    mask : none!important;\n    contain: none!important;\n    perspective: none!important;\n    mix-blend-mode: initial!important;\n    z-index: auto;\n}\n\n.ace_layer {\n    z-index: 1;\n    position: absolute;\n    overflow: hidden;\n    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/\n    word-wrap: normal;\n    white-space: pre;\n    height: 100%;\n    width: 100%;\n    box-sizing: border-box;\n    /* setting pointer-events: auto; on node under the mouse, which changes\n        during scroll, will break mouse wheel scrolling in Safari */\n    pointer-events: none;\n}\n\n.ace_gutter-layer {\n    position: relative;\n    width: auto;\n    text-align: right;\n    pointer-events: auto;\n    height: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer {\n    font: inherit !important;\n    position: absolute;\n    height: 1000000px;\n    width: 1000000px;\n    contain: style size layout;\n}\n\n.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {\n    contain: style size layout;\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n}\n\n.ace_hidpi .ace_text-layer,\n.ace_hidpi .ace_gutter-layer,\n.ace_hidpi .ace_content,\n.ace_hidpi .ace_gutter {\n    contain: strict;\n    will-change: transform;\n}\n.ace_hidpi .ace_text-layer > .ace_line, \n.ace_hidpi .ace_text-layer > .ace_line_group {\n    contain: strict;\n}\n\n.ace_cjk {\n    display: inline-block;\n    text-align: center;\n}\n\n.ace_cursor-layer {\n    z-index: 4;\n}\n\n.ace_cursor {\n    z-index: 4;\n    position: absolute;\n    box-sizing: border-box;\n    border-left: 2px solid;\n    /* workaround for smooth cursor repaintng whole screen in chrome */\n    transform: translatez(0);\n}\n\n.ace_multiselect .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_slim-cursors .ace_cursor {\n    border-left-width: 1px;\n}\n\n.ace_overwrite-cursors .ace_cursor {\n    border-left-width: 0;\n    border-bottom: 1px solid;\n}\n\n.ace_hidden-cursors .ace_cursor {\n    opacity: 0.2;\n}\n\n.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {\n    opacity: 0;\n}\n\n.ace_smooth-blinking .ace_cursor {\n    transition: opacity 0.18s;\n}\n\n.ace_animate-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: step-end;\n    animation-name: blink-ace-animate;\n    animation-iteration-count: infinite;\n}\n\n.ace_animate-blinking.ace_smooth-blinking .ace_cursor {\n    animation-duration: 1000ms;\n    animation-timing-function: ease-in-out;\n    animation-name: blink-ace-animate-smooth;\n}\n    \n@keyframes blink-ace-animate {\n    from, to { opacity: 1; }\n    60% { opacity: 0; }\n}\n\n@keyframes blink-ace-animate-smooth {\n    from, to { opacity: 1; }\n    45% { opacity: 1; }\n    60% { opacity: 0; }\n    85% { opacity: 0; }\n}\n\n.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {\n    position: absolute;\n    z-index: 3;\n}\n\n.ace_marker-layer .ace_selection {\n    position: absolute;\n    z-index: 5;\n}\n\n.ace_marker-layer .ace_bracket {\n    position: absolute;\n    z-index: 6;\n}\n\n.ace_marker-layer .ace_error_bracket {\n    position: absolute;\n    border-bottom: 1px solid #DE5555;\n    border-radius: 0;\n}\n\n.ace_marker-layer .ace_active-line {\n    position: absolute;\n    z-index: 2;\n}\n\n.ace_marker-layer .ace_selected-word {\n    position: absolute;\n    z-index: 4;\n    box-sizing: border-box;\n}\n\n.ace_line .ace_fold {\n    box-sizing: border-box;\n\n    display: inline-block;\n    height: 11px;\n    margin-top: -2px;\n    vertical-align: middle;\n\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");\n    background-repeat: no-repeat, repeat-x;\n    background-position: center center, top left;\n    color: transparent;\n\n    border: 1px solid black;\n    border-radius: 2px;\n\n    cursor: pointer;\n    pointer-events: auto;\n}\n\n.ace_dark .ace_fold {\n}\n\n.ace_fold:hover{\n    background-image:\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),\n        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");\n}\n\n.ace_tooltip {\n    background-color: #FFF;\n    background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));\n    border: 1px solid gray;\n    border-radius: 1px;\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);\n    color: black;\n    max-width: 100%;\n    padding: 3px 4px;\n    position: fixed;\n    z-index: 999999;\n    box-sizing: border-box;\n    cursor: default;\n    white-space: pre;\n    word-wrap: break-word;\n    line-height: normal;\n    font-style: normal;\n    font-weight: normal;\n    letter-spacing: normal;\n    pointer-events: none;\n}\n\n.ace_folding-enabled > .ace_gutter-cell {\n    padding-right: 13px;\n}\n\n.ace_fold-widget {\n    box-sizing: border-box;\n\n    margin: 0 -12px 0 1px;\n    display: none;\n    width: 11px;\n    vertical-align: top;\n\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");\n    background-repeat: no-repeat;\n    background-position: center;\n\n    border-radius: 3px;\n    \n    border: 1px solid transparent;\n    cursor: pointer;\n}\n\n.ace_folding-enabled .ace_fold-widget {\n    display: inline-block;   \n}\n\n.ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");\n}\n\n.ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");\n}\n\n.ace_fold-widget:hover {\n    border: 1px solid rgba(0, 0, 0, 0.3);\n    background-color: rgba(255, 255, 255, 0.2);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);\n}\n\n.ace_fold-widget:active {\n    border: 1px solid rgba(0, 0, 0, 0.4);\n    background-color: rgba(0, 0, 0, 0.05);\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);\n}\n/**\n * Dark version for fold widgets\n */\n.ace_dark .ace_fold-widget {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");\n}\n.ace_dark .ace_fold-widget.ace_end {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget.ace_closed {\n    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");\n}\n.ace_dark .ace_fold-widget:hover {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n    background-color: rgba(255, 255, 255, 0.1);\n}\n.ace_dark .ace_fold-widget:active {\n    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);\n}\n\n.ace_inline_button {\n    border: 1px solid lightgray;\n    display: inline-block;\n    margin: -1px 8px;\n    padding: 0 5px;\n    pointer-events: auto;\n    cursor: pointer;\n}\n.ace_inline_button:hover {\n    border-color: gray;\n    background: rgba(200,200,200,0.2);\n    display: inline-block;\n    pointer-events: auto;\n}\n\n.ace_fold-widget.ace_invalid {\n    background-color: #FFB4B4;\n    border-color: #DE5555;\n}\n\n.ace_fade-fold-widgets .ace_fold-widget {\n    transition: opacity 0.4s ease 0.05s;\n    opacity: 0;\n}\n\n.ace_fade-fold-widgets:hover .ace_fold-widget {\n    transition: opacity 0.05s ease 0.05s;\n    opacity:1;\n}\n\n.ace_underline {\n    text-decoration: underline;\n}\n\n.ace_bold {\n    font-weight: bold;\n}\n\n.ace_nobold .ace_bold {\n    font-weight: normal;\n}\n\n.ace_italic {\n    font-style: italic;\n}\n\n\n.ace_error-marker {\n    background-color: rgba(255, 0, 0,0.2);\n    position: absolute;\n    z-index: 9;\n}\n\n.ace_highlight-marker {\n    background-color: rgba(255, 255, 0,0.2);\n    position: absolute;\n    z-index: 8;\n}\n\n.ace_mobile-menu {\n    position: absolute;\n    line-height: 1.5;\n    border-radius: 4px;\n    -ms-user-select: none;\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    user-select: none;\n    background: white;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #dcdcdc;\n    color: black;\n}\n.ace_dark > .ace_mobile-menu {\n    background: #333;\n    color: #ccc;\n    box-shadow: 1px 3px 2px grey;\n    border: 1px solid #444;\n\n}\n.ace_mobile-button {\n    padding: 2px;\n    cursor: pointer;\n    overflow: hidden;\n}\n.ace_mobile-button:hover {\n    background-color: #eee;\n    opacity:1;\n}\n.ace_mobile-button:active {\n    background-color: #ddd;\n}\n\n.ace_placeholder {\n    font-family: arial;\n    transform: scale(0.9);\n    transform-origin: left;\n    white-space: pre;\n    opacity: 0.7;\n    margin: 0 10px;\n}'})),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("../lib/dom"),s=e("../lib/oop"),o=e("../lib/event_emitter").EventEmitter,r=function(e,t){this.canvas=i.createElement("canvas"),this.renderer=t,this.pixelRatio=1,this.maxHeight=t.layerConfig.maxHeight,this.lineHeight=t.layerConfig.lineHeight,this.canvasHeight=e.parent.scrollHeight,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvasWidth=e.width,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},e.element.appendChild(this.canvas)};(function(){s.implement(this,o),this.$updateDecorators=function(e){var t=!0===this.renderer.theme.isDark?this.colors.dark:this.colors.light;e&&(this.maxHeight=e.maxHeight,this.lineHeight=e.lineHeight,this.canvasHeight=e.height,(e.lastRow+1)*this.lineHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight);var n=this.canvas.getContext("2d"),i=this.renderer.session.$annotations;if(n.clearRect(0,0,this.canvas.width,this.canvas.height),i){var s={info:1,warning:2,error:3};i.forEach((function(e){e.priority=s[e.type]||null})),i=i.sort((function(e,t){return e.priority<t.priority?-1:e.priority>t.priority?1:0}));for(var o=this.renderer.session.$foldData,r=0;r<i.length;r++){var a=i[r].row,l=this.compensateFoldRows(a,o),c=Math.round((a-l)*this.lineHeight*this.heightRatio),h=Math.round((a-l)*this.lineHeight*this.heightRatio),u=Math.round(((a-l)*this.lineHeight+this.lineHeight)*this.heightRatio);if(u-h<this.minDecorationHeight){var d=(h+u)/2|0;d<this.halfMinDecorationHeight?d=this.halfMinDecorationHeight:d+this.halfMinDecorationHeight>this.canvasHeight&&(d=this.canvasHeight-this.halfMinDecorationHeight),h=Math.round(d-this.halfMinDecorationHeight),u=Math.round(d+this.halfMinDecorationHeight)}n.fillStyle=t[i[r].type]||null,n.fillRect(0,c,this.canvasWidth,u-h)}}var p=this.renderer.session.selection.getCursor();p&&(l=this.compensateFoldRows(p.row,o),c=Math.round((p.row-l)*this.lineHeight*this.heightRatio),n.fillStyle="rgba(0, 0, 0, 0.5)",n.fillRect(0,c,this.canvasWidth,2))},this.compensateFoldRows=function(e,t){var n=0;if(t&&t.length>0)for(var i=0;i<t.length;i++)e>t[i].start.row&&e<t[i].end.row?n+=e-t[i].start.row:e>=t[i].end.row&&(n+=t[i].end.row-t[i].start.row);return n}}).call(r.prototype),t.Decorator=r})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor.css","ace/layer/decorators","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),s=e("./lib/dom"),o=e("./config"),r=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,u=e("./scrollbar").VScrollBar,d=e("./scrollbar_custom").HScrollBar,p=e("./scrollbar_custom").VScrollBar,f=e("./renderloop").RenderLoop,g=e("./layer/font_metrics").FontMetrics,m=e("./lib/event_emitter").EventEmitter,v=e("./css/editor.css"),w=e("./layer/decorators").Decorator,b=e("./lib/useragent"),y=b.isIE;s.importCssString(v,"ace_editor.css",!1);var C=function(e,t){var n=this;this.container=e||s.createElement("div"),s.addCssClass(this.container,"ace_editor"),s.HI_DPI&&s.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),null==o.get("useStrictCSP")&&o.set("useStrictCSP",!1),this.$gutter=s.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=s.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=s.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new r(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container,this.$textLayer.MAX_CHUNK_LENGTH),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!b.isIOS,this.$loop=new f(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)};(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,m),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),s.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=e,e&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=e?1:0;var s=this.container;i||(i=s.clientHeight||s.scrollHeight),n||(n=s.clientWidth||s.scrollWidth);var o=this.$updateCachedSize(e,t,n,i);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},this.$updateCachedSize=function(e,t,n,i){i-=this.$extraHeight||0;var o=0,r=this.$size,a={width:r.width,height:r.height,scrollerHeight:r.scrollerHeight,scrollerWidth:r.scrollerWidth};if(i&&(e||r.height!=i)&&(r.height=i,o|=this.CHANGE_SIZE,r.scrollerHeight=r.height,this.$horizScroll&&(r.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(r.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",o|=this.CHANGE_SCROLL),n&&(e||r.width!=n)){o|=this.CHANGE_SIZE,r.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,s.setStyle(this.scrollBarH.element.style,"left",t+"px"),s.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),r.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),s.setStyle(this.$gutter.style,"left",this.margin.left+"px");var l=this.scrollBarV.getWidth()+"px";s.setStyle(this.scrollBarH.element.style,"right",l),s.setStyle(this.scroller.style,"right",l),s.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(r.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(o|=this.CHANGE_FULL)}return r.$dirty=!n||!i,o&&this._signal("resize",a),o},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=this.$size.scrollerWidth-2*this.$padding,t=Math.floor(e/this.characterWidth);return this.session.adjustWrapLimit(t,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},this.setHighlightIndentGuides=function(e){this.setOption("highlightIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){if(this.$showPrintMargin||this.$printMarginEl){if(!this.$printMarginEl){var e=s.createElement("div");e.className="ace_layer ace_print-margin-layer",this.$printMarginEl=s.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)}var t=this.$printMarginEl.style;t.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit()}},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var e=this.textarea.style,t=this.$composition;if(this.$keepTextAreaAtCursor||t){var n=this.$cursorLayer.$pixelPos;if(n){t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0));var i=this.layerConfig,o=n.top,r=n.left;o-=i.offset;var a=t&&t.useTextareaForIME?this.lineHeight:y?0:1;if(o<0||o>i.height-a)s.translate(this.textarea,0,0);else{var l=1,c=this.$size.height-a;if(t)if(t.useTextareaForIME){var h=this.textarea.value;l=this.characterWidth*this.session.$getStringScreenWidth(h)[0]}else o+=this.lineHeight+2;else o+=this.lineHeight;(r-=this.scrollLeft)>this.$size.scrollerWidth-l&&(r=this.$size.scrollerWidth-l),r+=this.gutterWidth+this.margin.left,s.setStyle(e,"height",a+"px"),s.setStyle(e,"width",l+"px"),s.translate(this.textarea,Math.min(r,this.$size.scrollerWidth-l),Math.min(o,c))}}}else s.translate(this.textarea,-100,0)}},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var s=this.scrollMargin;s.top=0|e,s.bottom=0|t,s.right=0|i,s.left=0|n,s.v=s.top+s.bottom,s.h=s.left+s.right,s.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-s.top),this.updateFull()},this.setMargin=function(e,t,n,i){var s=this.margin;s.top=0|e,s.bottom=0|t,s.right=0|i,s.left=0|n,s.v=s.top+s.bottom,s.h=s.left+s.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(e-=(t-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>e-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n=this.layerConfig;if(e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL){if(e|=this.$computeLayerConfig()|this.$loop.clear(),n.firstRow!=this.layerConfig.firstRow&&n.firstRowScreen==this.layerConfig.firstRowScreen){var i=this.scrollTop+(n.firstRow-this.layerConfig.firstRow)*this.lineHeight;i>0&&(this.scrollTop=i,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear())}n=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),s.translate(this.content,-this.scrollLeft,-n.offset);var o=n.width+2*this.$padding+"px",r=n.minHeight+"px";s.setStyle(this.content.style,"width",o),s.setStyle(this.content.style,"height",r)}if(e&this.CHANGE_H_SCROLL&&(s.translate(this.content,-this.scrollLeft,-n.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(n):this.$textLayer.scrollLines(n),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(n):this.$gutterLayer.scrollLines(n)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n),this.$markerBack.update(n),this.$markerFront.update(n),this.$cursorLayer.update(n),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(n),this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_LINES?((this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)):e&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(n),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(n)),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(n),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(n),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(n),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i=!(n<=2*this.lineHeight)&&e>t;if(n!=this.desiredHeight||this.$size.height!=this.desiredHeight||i!=this.$vScroll){i!=this.$vScroll&&(this.$vScroll=i,this.scrollBarV.setVisible(i));var s=this.container.clientWidth;this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,s,n),this.desiredHeight=n,this._signal("autosize")}},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,s=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-s-2*this.$padding<0),r=this.$horizScroll!==o;r&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&this.lineHeight>1&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,s+2*this.$padding-t.scrollerWidth+h.right)));var u=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>h.top),d=a!==u;d&&(this.$vScroll=u,this.scrollBarV.setVisible(u));var p,f,g=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=Math.max(0,Math.round((this.scrollTop-g)/this.lineHeight)),w=v+m,b=this.lineHeight;v=e.screenToDocumentRow(v,0);var y=e.getFoldLine(v);y&&(v=y.start.row),p=e.documentToScreenRow(v,0),f=e.getRowLength(v)*b,w=Math.min(e.screenToDocumentRow(w,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(w)*b+f,g=this.scrollTop-p*b;var C=0;return(this.layerConfig.width!=s||r)&&(C=this.CHANGE_H_SCROLL),(r||d)&&(C|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),d&&(s=this.$getLongestLine())),this.layerConfig={width:s,padding:this.$padding,firstRow:v,firstRowScreen:p,lastRow:w,lineHeight:b,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:g,gutterOffset:b?Math.max(0,Math.ceil((g+t.height-t.scrollerHeight)/b)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(s-this.$padding),C},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){if(0!==this.$size.scrollerHeight){var i=this.$cursorLayer.getPixelPosition(e),s=i.left,o=i.top,r=n&&n.top||0,a=n&&n.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;l+r>o?(t&&l+r>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight));var c=this.scrollLeft,h=2*this.layerConfig.characterWidth;s-h<c?((s-=h)<this.$padding+h&&(s=-this.scrollMargin.left),this.session.setScrollLeft(s)):(s+=h,c+this.$size.scrollerWidth<s+this.characterWidth?this.session.setScrollLeft(Math.round(s+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&s-c<this.characterWidth&&this.session.setScrollLeft(0))}},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e),i=this.$size.scrollerHeight-this.lineHeight,s=n.top-i*(t||0);return this.session.setScrollTop(s),s},this.STEPS=8,this.$calcSteps=function(e,t){var n,i,s=0,o=this.STEPS,r=[];for(s=0;s<o;++s)r.push((n=s/this.STEPS,i=e,(t-e)*(Math.pow(n-1,3)+1)+i));return r},this.scrollToLine=function(e,t,n,i){var s=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(s-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(s),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var s=this.$scrollAnimation.steps;if(s.length&&(e=s[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){if(!i.$stopAnimation)return i.session?void(o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):r()):clearInterval(i.$timer);r()}),10)}}function r(){i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,i.$stopAnimation=!1,t&&t()}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(e)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||t>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||e>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-n.left-this.$padding,o=s/this.characterWidth,r=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:r,column:a,side:o-a>0?1:-1,offsetX:s}},this.screenToTextCoordinates=function(e,t){var n;if(this.$hasCssTransforms){n={top:0,left:0};var i=this.$fontMetrics.transformCoordinates([e,t]);e=i[1]-this.gutterWidth-this.margin.left,t=i[0]}else n=this.scroller.getBoundingClientRect();var s=e+this.scrollLeft-n.left-this.$padding,o=s/this.characterWidth,r=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(r,0),s)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),s=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth)),o=i.row*this.lineHeight;return{pageX:n.left+s-this.scrollLeft,pageY:n.top+o-this.scrollTop}},this.visualizeFocus=function(){s.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){s.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){this.$composition=e,e.cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(s.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),s.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var e=this.session.selection.cursor;this.removeExtraToken(e.row,e.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},this.addToken=function(e,t,n,i){var s=this.session;s.bgTokenizer.lines[n]=null;var o={type:t,value:e},r=s.getTokens(n);if(null==i)r.push(o);else for(var a=0,l=0;l<r.length;l++){var c=r[l];if(i<=(a+=c.value.length)){var h=c.value.length-(a-i),u=c.value.slice(0,h),d=c.value.slice(h);r.splice(l,1,{type:c.type,value:u},o,{type:c.type,value:d});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;if(this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e)r(e);else{var i=e||this.$options.theme.initialValue;o.loadModule(["theme",i],r)}function r(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),s.importCssString(i.cssText,i.cssClass,n.container),n.theme&&s.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,s.addCssClass(n.container,i.cssClass),s.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){s.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){s.removeCssClass(this.container,e)},this.setCursorStyle=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){s.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){s.importCssString(v,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""},this.$updateCustomScrollbar=function(e){var t=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,!0===e?(this.scrollBarV=new p(this.container,this),this.scrollBarH=new d(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})),this.$scrollDecorator=new w(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new u(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollTop(e.data-t.scrollMargin.top)})),this.scrollBarH.addEventListener("scroll",(function(e){t.$scrollAnimation||t.session.setScrollLeft(e.data-t.scrollMargin.left)})))}}).call(C.prototype),o.defineOptions(C.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){s.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(e){1==this.$textLayer.setHighlightIndentGuides(e)?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){e=+e||0,this.$scrollPastEnd!=e&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(e){this.$updateCustomScrollbar(e)},initialValue:!1},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!b.isMobile&&!b.isIE}}),t.VirtualRenderer=C})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),s=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,r=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(r.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+s.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}var l=function(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,s,o){if(e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),r.get("packaged")||!e.toUrl)s=s||r.moduleUrl(n,"worker");else{var l=this.$normalizePath;s=s||l(e.toUrl("ace/worker/worker.js",null,"_"));var c={};t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))}return this.$worker=a(s),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return s.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){if(n){var i=this.callbackId++;this.callbacks[i]=n,t.push(i)}this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker&&this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener,!0)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),"insert"==e.action?this.deltaQueue.push(e.start,e.lines):this.deltaQueue.push(e.start,e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,e.length>50&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,s=!1,a=Object.create(o),c=[],h=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(s?setTimeout(u):u())}});h.setEmitSync=function(e){s=e};var u=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){h.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},r.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)u()})),h},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./range").Range,s=e("./lib/event_emitter").EventEmitter,o=e("./lib/oop"),r=function(e,t,n,i,s,o){var r=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=s,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){r.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)};(function(){o.implement(this,s),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var s=this.pos;s.$insertRight=!0,s.detach(),s.markerId=n.addMarker(new i(s.row,s.column,s.row,s.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){if(!this.othersActive){var e=this.session,t=this;this.othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new i(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)}))}},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,s=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),s&&(this.length+=n),s&&!this.session.$fromUndo)if("insert"===e.action)for(var r=this.others.length-1;r>=0;r--){var a={row:(l=this.others[r]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(r=this.others.length-1;r>=0;r--){var l;a={row:(l=this.others[r]).row,column:l.column+o},this.doc.remove(new i(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,s){t.removeMarker(n.markerId),n.markerId=t.addMarker(new i(n.row,n.column,n.row,n.column+e.length),s,null,!1)};n(this.pos,this.mainClass);for(var s=this.others.length;s--;)n(this.others[s],this.othersClass)}},this.onCursorChange=function(e){if(!this.$updating&&this.session){var t=this.session.selection.getCursor();t.row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e))}},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(r.prototype),t.PlaceHolder=r})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),s=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,r=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&s.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var h,u=e.editor,d=u.selection,p=u.inMultiSelectMode,f=e.getDocumentPosition(),g=d.getCursor(),m=e.inSelection()||d.isEmpty()&&o(f,g),v=e.x,w=e.y,b=u.session,y=u.renderer.pixelToScreenCoordinates(v,w),C=y;if(u.$mouseHandler.$enableJumpToDef)a&&n||l&&n?h=r?"block":"add":n&&u.$blockSelectEnabled&&(h="block");else if(l&&!n){if(h="add",!p&&r)return}else n&&u.$blockSelectEnabled&&(h="block");if(h&&s.isMac&&t.ctrlKey&&u.$mouseHandler.cancelContextMenu(),"add"==h){if(!p&&m)return;if(!p){var x=d.toOrientedRange();u.addSelectionMarker(x)}var k=d.rangeList.rangeAtPoint(f);u.inVirtualSelectionMode=!0,r&&(k=null,x=d.ranges[0]||x,u.removeSelectionMarker(x)),u.once("mouseup",(function(){var e=d.toOrientedRange();k&&e.isEmpty()&&o(k.cursor,e.cursor)?d.substractPoint(e.cursor):(r?d.substractPoint(x.cursor):x&&(u.removeSelectionMarker(x),d.addRange(x)),d.addRange(e)),u.inVirtualSelectionMode=!1}))}else if("block"==h){var S;e.stop(),u.inVirtualSelectionMode=!0;var _=[],A=function(){var e=u.renderer.pixelToScreenCoordinates(v,w),t=b.screenToDocumentPosition(e.row,e.column,e.offsetX);o(C,e)&&o(t,d.lead)||(C=e,u.selection.moveToPosition(t),u.renderer.scrollCursorIntoView(),u.removeSelectionMarkers(_),_=d.rectangularRangeBlock(C,y),u.$mouseHandler.$clickSelection&&1==_.length&&_[0].isEmpty()&&(_[0]=u.$mouseHandler.$clickSelection.clone()),_.forEach(u.addSelectionMarker,u),u.updateSelectionMarkers())};p&&!l?d.toSingleRange():!p&&l&&(S=d.toOrientedRange(),u.addSelectionMarker(S)),r?y=b.documentToScreenPosition(d.lead):d.moveToPosition(f),C={row:-1,column:-1};var T=A;i.capture(u.container,(function(e){v=e.clientX,w=e.clientY}),(function(e){A(),clearInterval(E),u.removeSelectionMarkers(_),_.length||(_=[d.toOrientedRange()]),S&&(u.removeSelectionMarker(S),d.toSingleRange(S));for(var t=0;t<_.length;t++)d.addRange(_[t]);u.inVirtualSelectionMode=!1,u.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){T()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.rangeCount>1?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,s=e("./range").Range,o=e("./selection").Selection,r=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var h=new(0,e("./search").Search),u=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(u.prototype),function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){if(this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode){var t=this.rangeList.ranges.pop();e.push(t),this.rangeCount=0}for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,r=i.end.row;if(o===r)t.push(i.clone());else{for(t.push(new s(o,i.start.column,o,this.session.getLine(o).length));++o<r;)t.push(this.getLineRange(o,!0));t.push(new s(r,0,r,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var e=this.rangeList.ranges,t=e[e.length-1],n=s.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)}else{var i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor);this.rectangularRangeBlock(i,o).forEach(this.addRange,this)}},this.rectangularRangeBlock=function(e,t,n){var i=[],o=e.column<t.column;if(o)var r=e.column,a=t.column,l=e.offsetX,c=t.offsetX;else r=t.column,a=e.column,l=t.offsetX,c=e.offsetX;var h,u,d,p=e.row<t.row;if(p)var f=e.row,g=t.row;else f=t.row,g=e.row;r<0&&(r=0),f<0&&(f=0),f==g&&(n=!0);for(var m=f;m<=g;m++){var v=s.fromPoints(this.session.screenToDocumentPosition(m,r,l),this.session.screenToDocumentPosition(m,a,c));if(v.isEmpty()){if(h&&(d=h,(u=v.end).row==d.row&&u.column==d.column))break;h=v.end}v.cursor=o?v.start:v.end,i.push(v)}if(p&&i.reverse(),!n){for(var w=i.length-1;i[w].isEmpty()&&w>0;)w--;if(w>0)for(var b=0;i[b].isEmpty();)b++;for(var y=w;y>=b;y--)i[y].isEmpty()&&i.splice(y,1)}return i}}.call(o.prototype);var d=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",r),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;a.addListener(t,"keydown",(function(t){var s=18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey);e.$blockSelectEnabled&&s?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){if(e.marker){this.session.removeMarker(e.marker);var t=this.session.$selectionMarkers.indexOf(e);-1!=t&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i=e[n];if(i.marker){this.session.removeMarker(i.marker);var s=t.indexOf(i);-1!=s&&t.splice(s,1)}}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t=e.command,n=e.editor;if(n.multiSelect){if(t.multiSelectAction)"forEach"==t.multiSelectAction?i=n.forEachSelection(t,e.args):"forEachLine"==t.multiSelectAction?i=n.forEachSelection(t,e.args,!0):"single"==t.multiSelectAction?(n.exitMultiSelectMode(),i=t.exec(n,e.args||{})):i=t.multiSelectAction(n,e.args||{});else{var i=t.exec(n,e.args||{});n.multiSelect.addRange(n.multiSelect.toOrientedRange()),n.multiSelect.mergeOverlappingRanges()}return i}},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,s=n&&n.keepOrder,r=1==n||n&&n.$byLines,a=this.session,l=this.selection,c=l.rangeList,h=(s?l:c).ranges;if(!h.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var u=l._eventRegistry;l._eventRegistry={};var d=new o(a);this.inVirtualSelectionMode=!0;for(var p=h.length;p--;){if(r)for(;p>0&&h[p].start.row==h[p-1].end.row;)p--;d.fromOrientedRange(h[p]),d.index=p,this.selection=a.selection=d;var f=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===f||(i=f),d.toOrientedRange(h[p])}d.detach(),this.selection=a.selection=l,this.inVirtualSelectionMode=!1,l._eventRegistry=u,l.mergeOverlappingRanges(),l.ranges[0]&&l.fromOrientedRange(l.ranges[0]);var g=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),g&&g.from==g.to&&this.renderer.animateScrolling(g.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var s=this.session.getDocument().getNewLineCharacter();(e=n.join(s)).length==(n.length-1)*s.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){if((t=t||{}).needle=e||t.needle,null==t.needle){var i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();t.needle=this.session.getTextRange(i)}this.$search.set(t);var s=this.$search.findAll(this.session);if(!s.length)return 0;var o=this.multiSelect;n||o.toSingleRange(s[0]);for(var r=s.length;r--;)o.addRange(s[r],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),s.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var r,a=this.session.screenToDocumentPosition(o.row+e,o.column);if(n.isEmpty())c=a;else var l=this.session.documentToScreenPosition(i?n.end:n.start),c=this.session.screenToDocumentPosition(l.row+e,l.column);if(i?(r=s.fromPoints(a,c)).cursor=r.start:(r=s.fromPoints(c,a)).cursor=r.end,r.desiredColumn=o.column,this.selection.inMultiSelectMode){if(t)var h=n.cursor}else this.selection.addRange(n);this.selection.addRange(r),h&&this.selection.substractPoint(h)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,s=i.length;s--;)if((a=i[s]).isEmpty()){var o=t.getWordRange(a.start.row,a.start.column);a.start.row=o.start.row,a.start.column=o.start.column,a.end.row=o.end.row,a.end.column=o.end.column}n.mergeOverlappingRanges();var r=[];for(s=i.length;s--;){var a=i[s];r.unshift(t.getTextRange(a))}for(e<0?r.unshift(r.pop()):r.push(r.shift()),s=i.length;s--;)o=(a=i[s]).clone(),t.replace(a,r[s]),a.start.row=o.start.row,a.start.column=o.start.column;n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i=this.session,s=i.multiSelect.toOrientedRange();if(!s.isEmpty()||((s=i.getWordRange(s.start.row,s.start.column)).cursor=-1==e?s.start:s.end,this.multiSelect.addRange(s),!n)){var o=i.getTextRange(s),r=function(e,t,n){return h.$options.wrap=!0,h.$options.needle=t,h.$options.backwards=-1==n,h.find(e)}(i,o,e);r&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(s.cursor)}},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){if(e.cursor.row==i)return!0;i=e.cursor.row}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var r=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>r&&(r=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=r-i.column,h=c[n]-a;o>h?e.insert(i,l.stringRepeat(" ",o-h)):e.remove(new s(i.row,i.column,i.row,i.column-o+h)),t.start.column=t.end.column=r,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),u=h.start.row,d=h.end.row,p=u==d;if(p){var f,g=this.session.getLength();do{f=this.session.getLine(d)}while(/[=:]/.test(f)&&++d<g);do{f=this.session.getLine(u)}while(/[=:]/.test(f)&&--u>0);u<0&&(u=0),d>=g&&(d=g-1)}var m=this.session.removeFullLines(u,d);m=this.$reAlignText(m,p),this.session.insert({row:u,column:0},m.join("\n")+"\n"),p||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(e,t){var n,i,s,o=!0,r=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?null==n?(n=t[1].length,i=t[2].length,s=t[3].length,t):(n+i+s!=t[1].length+t[2].length+t[3].length&&(r=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),s>t[3].length&&(s=t[3].length),t):[e]})).map(t?c:o?r?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+s)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(d.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(d.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",r)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",r))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,s=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var s=/\S/,o=e.getLine(t),r=o.search(s);if(-1!=r){for(var a=n||o.length,l=e.getLength(),c=t,h=t;++t<l;){var u=e.getLine(t).search(s);if(-1!=u){if(u<=r){var d=e.getTokenAt(t,0);if(!d||"string"!==d.type)break}h=t}}if(h>c){var p=e.getLine(h).length;return new i(c,a,h,p)}}},this.openingBracketBlock=function(e,t,n,s,o){var r={row:n,column:s+1},a=e.$findClosingBracket(t,r,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>r.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(r,a)}},this.closingBracketBlock=function(e,t,n,s,o){var r={row:n,column:s},a=e.$findOpeningBracket(t,r);if(a)return a.column++,r.column--,i.fromPoints(a,r)}}).call(s.prototype)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function s(e){this.session=e,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t;return t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0,this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),this.editor=e,e&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t=this.editor;if(t){this.editor=null,t.widgetManager=null,t.renderer.off("beforeRender",this.measureWidgets),t.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))}))}},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,s=i.start.row,o=i.end.row,r="add"==e.action,a=s+1;a<o;a++)n[a]&&(n[a].hidden=r);n[o]&&(r?n[s]?n[o].hidden=r:n[s]=n[o]:(n[s]==n[o]&&(n[s]=void 0),n[o].hidden=r))}},this.updateOnChange=function(e){var t=this.session.lineWidgets;if(t){var n=e.start.row,i=e.end.row-n;if(0===i);else if("remove"==e.action){var s=t.splice(n+1,i);!t[n]&&s[s.length-1]&&(t[n]=s.pop()),s.forEach((function(e){e&&this.removeLineWidget(e)}),this),this.$updateRows()}else{var o=new Array(i);t[n]&&null!=t[n].column&&e.start.column>t[n].column&&n++,o.unshift(n,0),t.splice.apply(t,o),this.$updateRows()}}},this.$updateRows=function(){var e=this.session.lineWidgets;if(e){var t=!0;e.forEach((function(e,n){if(e)for(t=!1,e.row=n;e.$oldWidget;)e.$oldWidget.row=n,e=e.$oldWidget})),t&&(this.session.lineWidgets=null)}},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t,t.el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1)),this.session.lineWidgets[e.row]=e,e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n=this.session.getFoldAt(e.row,0);if(e.$fold=n,n){var s=this.session.lineWidgets;e.row!=n.end.row||s[n.start.row]?e.hidden=!0:s[n.start.row]=e}return this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var s=1/0,o=0;o<n.length;o++){var r=n[o];if(r&&r.el&&r.session==this.session){if(!r._inDocument){if(this.session.lineWidgets[r.row]!=r)continue;r._inDocument=!0,t.container.appendChild(r.el)}r.h=r.el.offsetHeight,r.fixedWidth||(r.w=r.el.offsetWidth,r.screenWidth=Math.ceil(r.w/i.characterWidth));var a=r.h/i.lineHeight;r.coverLine&&(a-=this.session.getRowLineCount(r.row))<0&&(a=0),r.rowCount!=a&&(r.rowCount=a,r.row<s&&(s=r.row))}}s!=1/0&&(this.session._emit("changeFold",{data:{start:{row:s}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var s=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);s>0&&!i[s];)s--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var r=s;r<=o;r++){var a=i[r];if(a&&a.el)if(a.hidden)a.el.style.top=-100-(a.pixelHeight||0)+"px";else{a._inDocument||(a._inDocument=!0,t.container.appendChild(a.el));var l=t.$cursorLayer.getPixelPosition({row:r,column:0},!0).top;a.coverLine||(l+=n.lineHeight*this.session.getRowLineCount(a.row)),a.el.style.top=l-n.offset+"px";var c=a.coverGutter?0:t.gutterWidth;a.fixedWidth||(c-=t.scrollLeft),a.el.style.left=c+"px",a.fullWidth&&a.screenWidth&&(a.el.style.minWidth=n.width+2*n.padding+"px"),a.fixedWidth?a.el.style.right=t.scrollBar.getWidth()+"px":a.el.style.right=""}}}}}).call(s.prototype),t.LineWidgets=s})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,s=e("../lib/dom"),o=e("../range").Range;t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var r=e.getCursorPosition(),a=r.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,h=function(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var s=function(e,t,n){for(var i=0,s=e.length-1;i<=s;){var o=i+s>>1,r=n(t,e[o]);if(r>0)i=o+1;else{if(!(r<0))return o;s=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);s<0&&(s=-s-1),s>=i.length?s=n>0?0:i.length-1:0===s&&n<0&&(s=i.length-1);var r=i[s];if(r&&n){if(r.row===t){do{r=i[s+=n]}while(r&&r.row===t);if(!r)return i.slice()}var a=[];t=r.row;do{a[n<0?"unshift":"push"](r),r=i[s+=n]}while(r&&r.row==t);return a.length&&a}}}(n,a,t);if(h){var u=h[0];r.column=(u.pos&&"number"!=typeof u.column?u.pos.sc:u.column)||0,r.row=u.row,c=e.renderer.$gutterLayer.$annotations[r.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(r.row),e.selection.moveToPosition(r);var d={row:r.row,fixedWidth:!0,coverGutter:!0,el:s.createElement("div"),type:"errorMarker"},p=d.el.appendChild(s.createElement("div")),f=d.el.appendChild(s.createElement("div"));f.className="error_widget_arrow "+c.className;var g=e.renderer.$cursorLayer.getPixelPosition(r).left;f.style.left=g+e.renderer.gutterWidth-5+"px",d.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(s.createElement("div"));var m=function(e,t,n){if(0===t&&("esc"===n||"return"===n))return d.destroy(),{command:"null"}};d.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(d),e.off("changeSelection",d.destroy),e.off("changeSession",d.destroy),e.off("mouseup",d.destroy),e.off("change",d.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",d.destroy),e.on("changeSession",d.destroy),e.on("mouseup",d.destroy),e.on("change",d.destroy),e.session.widgetManager.addLineWidget(d),d.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:d.el.offsetHeight})},s.importCssString("\n    .error_widget_wrapper {\n        background: inherit;\n        color: inherit;\n        border:none\n    }\n    .error_widget {\n        border-top: solid 2px;\n        border-bottom: solid 2px;\n        margin: 5px 0;\n        padding: 10px 40px;\n        white-space: pre-wrap;\n    }\n    .error_widget.ace_error, .error_widget_arrow.ace_error{\n        border-color: #ff5a5a\n    }\n    .error_widget.ace_warning, .error_widget_arrow.ace_warning{\n        border-color: #F1D817\n    }\n    .error_widget.ace_info, .error_widget_arrow.ace_info{\n        border-color: #5a5a5a\n    }\n    .error_widget.ace_ok, .error_widget_arrow.ace_ok{\n        border-color: #5aaa5a\n    }\n    .error_widget_arrow {\n        position: absolute;\n        border: solid 5px;\n        border-top-color: transparent!important;\n        border-right-color: transparent!important;\n        border-left-color: transparent!important;\n        top: -5px;\n    }\n","error_marker.css",!1)})),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],(function(e,t,n){"use strict";e("./loader_build")(t);var i=e("./lib/dom"),s=e("./lib/event"),o=e("./range").Range,r=e("./editor").Editor,a=e("./edit_session").EditSession,l=e("./undomanager").UndoManager,c=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.edit=function(e,n){if("string"==typeof e){var o=e;if(!(e=document.getElementById(o)))throw new Error("ace.edit can't find div #"+o)}if(e&&e.env&&e.env.editor instanceof r)return e.env.editor;var a="";if(e&&/input|textarea/i.test(e.tagName)){var l=e;a=l.value,e=i.createElement("pre"),l.parentNode.replaceChild(e,l)}else e&&(a=e.textContent,e.innerHTML="");var h=t.createEditSession(a),u=new r(new c(e),h,n),d={document:h,editor:u,onResize:u.resize.bind(u,null)};return l&&(d.textarea=l),s.addListener(window,"resize",d.onResize),u.on("destroy",(function(){s.removeListener(window,"resize",d.onResize),d.editor.container.env=null})),u.container.env=u.env=d,u},t.createEditSession=function(e,t){var n=new a(e,t);return n.setUndoManager(new l),n},t.Range=o,t.Editor=r,t.EditSession=a,t.UndoManager=l,t.VirtualRenderer=c,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))},733:(e,t,n)=>{e.exports=function e(t,n,i){function s(r,a){if(!n[r]){if(!t[r]){if(o)return o(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[r]={exports:{}};t[r][0].call(c.exports,(function(e){return s(t[r][1][e]||e)}),c,c.exports,e,t,n,i)}return n[r].exports}for(var o=void 0,r=0;r<i.length;r++)s(i[r]);return s}({1:[function(e,t,n){"use strict";var i=e("./utils"),s=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,s,r,a,l,c,h=[],u=0,d=e.length,p=d,f="string"!==i.getTypeOf(e);u<e.length;)p=d-u,s=f?(t=e[u++],n=u<d?e[u++]:0,u<d?e[u++]:0):(t=e.charCodeAt(u++),n=u<d?e.charCodeAt(u++):0,u<d?e.charCodeAt(u++):0),r=t>>2,a=(3&t)<<4|n>>4,l=1<p?(15&n)<<2|s>>6:64,c=2<p?63&s:64,h.push(o.charAt(r)+o.charAt(a)+o.charAt(l)+o.charAt(c));return h.join("")},n.decode=function(e){var t,n,i,r,a,l,c=0,h=0,u="data:";if(e.substr(0,u.length)===u)throw new Error("Invalid base64 input, it looks like a data url.");var d,p=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&p--,e.charAt(e.length-2)===o.charAt(64)&&p--,p%1!=0)throw new Error("Invalid base64 input, bad content length.");for(d=s.uint8array?new Uint8Array(0|p):new Array(0|p);c<e.length;)t=o.indexOf(e.charAt(c++))<<2|(r=o.indexOf(e.charAt(c++)))>>4,n=(15&r)<<4|(a=o.indexOf(e.charAt(c++)))>>2,i=(3&a)<<6|(l=o.indexOf(e.charAt(c++))),d[h++]=t,64!==a&&(d[h++]=n),64!==l&&(d[h++]=i);return d}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),s=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),r=e("./stream/DataLengthProbe");function a(e,t,n,i,s){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=s}a.prototype={getContentWorker:function(){var e=new s(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new r("data_length")),t=this;return e.on("end",(function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")})),e},getCompressedWorker:function(){return new s(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},a.createWorkerFrom=function(e,t,n){return e.pipe(new o).pipe(new r("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new r("compressedSize")).withStreamInfo("compression",t)},t.exports=a},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),s=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n,i){var o=s,r=0+n;e^=-1;for(var a=0;a<r;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,n,i){var o=s,r=0+n;e^=-1;for(var a=0;a<r;a++)e=e>>>8^o[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,s=e("pako"),o=e("./utils"),r=e("./stream/GenericWorker"),a=i?"uint8array":"array";function l(e,t){r.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",o.inherits(l,r),l.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(a,e.data),!1)},l.prototype.flush=function(){r.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new l("Deflate",e)},n.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function s(e,t,n,s,r,h){var u,d,p=e.file,f=e.compression,g=h!==a.utf8encode,m=o.transformTo("string",h(p.name)),v=o.transformTo("string",a.utf8encode(p.name)),w=p.comment,b=o.transformTo("string",h(w)),y=o.transformTo("string",a.utf8encode(w)),C=v.length!==p.name.length,x=y.length!==w.length,k="",S="",_="",A=p.dir,T=p.date,E={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(E.crc32=e.crc32,E.compressedSize=e.compressedSize,E.uncompressedSize=e.uncompressedSize);var $=0;t&&($|=8),g||!C&&!x||($|=2048);var L=0,M=0;A&&(L|=16),"UNIX"===r?(M=798,L|=function(e,t){var n=e;return e||(n=t?16893:33204),(65535&n)<<16}(p.unixPermissions,A)):(M=20,L|=function(e){return 63&(e||0)}(p.dosPermissions)),u=T.getUTCHours(),u<<=6,u|=T.getUTCMinutes(),u<<=5,u|=T.getUTCSeconds()/2,d=T.getUTCFullYear()-1980,d<<=4,d|=T.getUTCMonth()+1,d<<=5,d|=T.getUTCDate(),C&&(S=i(1,1)+i(l(m),4)+v,k+="up"+i(S.length,2)+S),x&&(_=i(1,1)+i(l(b),4)+y,k+="uc"+i(_.length,2)+_);var R="";return R+="\n\0",R+=i($,2),R+=f.magic,R+=i(u,2),R+=i(d,2),R+=i(E.crc32,4),R+=i(E.compressedSize,4),R+=i(E.uncompressedSize,4),R+=i(m.length,2),R+=i(k.length,2),{fileRecord:c.LOCAL_FILE_HEADER+R+m+k,dirRecord:c.CENTRAL_FILE_HEADER+i(M,2)+R+i(b.length,2)+"\0\0\0\0"+i(L,4)+i(s,4)+m+k+b}}var o=e("../utils"),r=e("../stream/GenericWorker"),a=e("../utf8"),l=e("../crc32"),c=e("../signature");function h(e,t,n,i){r.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,r),h.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,r.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},h.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=s(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,n=s(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(n.dirRecord),t)this.push({data:function(e){return c.DATA_DESCRIPTOR+i(e.crc32,4)+i(e.compressedSize,4)+i(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:n.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n=this.bytesWritten-e,s=function(e,t,n,s,r){var a=o.transformTo("string",r(s));return c.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(e,2)+i(e,2)+i(t,4)+i(n,4)+i(a.length,2)+a}(this.dirRecords.length,n,e,this.zipComment,this.encodeFileName);this.push({data:s,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()})),e.on("error",(function(e){t.error(e)})),this},h.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(e){var t=this._sources;if(!r.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},h.prototype.lock=function(){r.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),s=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var o=new s(t.streamFiles,n,t.platform,t.encodeFileName),r=0;try{e.forEach((function(e,n){r++;var s=function(e,t){var n=e||t,s=i[n];if(!s)throw new Error(n+" is not a valid compression method !");return s}(n.options.compression,t.compression),a=n.options.compressionOptions||t.compressionOptions||{},l=n.dir,c=n.date;n._compressWorker(s,a).withStreamInfo("file",{name:e,dir:l,date:c,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(o)})),o.entriesCount=r}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.10.1",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),s=e("./external"),o=e("./utf8"),r=e("./zipEntries"),a=e("./stream/Crc32Probe"),l=e("./nodejsUtils");function c(e){return new s.Promise((function(t,n){var i=e.decompressed.getContentWorker().pipe(new a);i.on("error",(function(e){n(e)})).on("end",(function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()})).resume()}))}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(e)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then((function(e){var n=new r(t);return n.load(e),n})).then((function(e){var n=[s.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var o=0;o<i.length;o++)n.push(c(i[o]));return s.Promise.all(n)})).then((function(e){for(var s=e.shift(),o=s.files,r=0;r<o.length;r++){var a=o[r],l=a.fileNameStr,c=i.resolve(a.fileNameStr);n.file(c,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders}),a.dir||(n.file(c).unsafeOriginalName=l)}return s.zipComment.length&&(n.comment=s.zipComment),n}))}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),s=e("../stream/GenericWorker");function o(e,t){s.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(o,s),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",(function(e){t.push({data:e,meta:{percent:0}})})).on("error",(function(e){t.isPaused?this.generatedError=e:t.error(e)})).on("end",(function(){t.isPaused?t._upstreamEnded=!0:t.end()}))},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function s(e,t,n){i.call(this,t),this._helper=e;var s=this;e.on("data",(function(e,t){s.push(e)||s._helper.pause(),n&&n(t)})).on("error",(function(e){s.emit("error",e)})).on("end",(function(){s.push(null)}))}e("../utils").inherits(s,i),s.prototype._read=function(){this._helper.resume()},t.exports=s},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,s=o.getTypeOf(t),a=o.extend(n||{},l);a.date=a.date||new Date,null!==a.compression&&(a.compression=a.compression.toUpperCase()),"string"==typeof a.unixPermissions&&(a.unixPermissions=parseInt(a.unixPermissions,8)),a.unixPermissions&&16384&a.unixPermissions&&(a.dir=!0),a.dosPermissions&&16&a.dosPermissions&&(a.dir=!0),a.dir&&(e=g(e)),a.createFolders&&(i=f(e))&&m.call(this,i,!0);var u="string"===s&&!1===a.binary&&!1===a.base64;n&&void 0!==n.binary||(a.binary=!u),(t instanceof c&&0===t.uncompressedSize||a.dir||!t||0===t.length)&&(a.base64=!1,a.binary=!0,t="",a.compression="STORE",s="string");var v;v=t instanceof c||t instanceof r?t:d.isNode&&d.isStream(t)?new p(e,t):o.prepareContent(e,t,a.binary,a.optimizedBinaryString,a.base64);var w=new h(e,v,a);this.files[e]=w}var s=e("./utf8"),o=e("./utils"),r=e("./stream/GenericWorker"),a=e("./stream/StreamHelper"),l=e("./defaults"),c=e("./compressedObject"),h=e("./zipObject"),u=e("./generate"),d=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),f=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},g=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},m=function(e,t){return t=void 0!==t?t:l.createFolders,e=g(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function v(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var w={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i)},filter:function(e){var t=[];return this.forEach((function(n,i){e(n,i)&&t.push(i)})),t},file:function(e,t,n){if(1!==arguments.length)return e=this.root+e,i.call(this,e,t,n),this;if(v(e)){var s=e;return this.filter((function(e,t){return!t.dir&&s.test(e)}))}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(v(e))return this.filter((function(t,n){return n.dir&&e.test(t)}));var t=this.root+e,n=m.call(this,t),i=this.clone();return i.root=n.name,i},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter((function(t,n){return n.name.slice(0,e.length)===e})),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS");var i=n.comment||this.comment||"";t=u.generateWorker(this,n,i)}catch(e){(t=new r("error")).error(e)}return new a(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=w},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function s(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(s,i),s.prototype.byteAt=function(e){return this.data[this.zero+e]},s.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===n&&this.data[o+2]===i&&this.data[o+3]===s)return o-this.zero;return-1},s.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),s=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&n===o[1]&&i===o[2]&&s===o[3]},s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function s(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=s},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function s(e){i.call(this,e)}e("../utils").inherits(s,i),s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function s(e){i.call(this,e)}e("../utils").inherits(s,i),s.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},s.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},s.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},s.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function s(e){i.call(this,e)}e("../utils").inherits(s,i),s.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),s=e("../support"),o=e("./ArrayReader"),r=e("./StringReader"),a=e("./NodeBufferReader"),l=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||s.uint8array?"nodebuffer"===t?new a(e):s.uint8array?new l(i.transformTo("uint8array",e)):new o(i.transformTo("array",e)):new r(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),s=e("../utils");function o(e){i.call(this,"ConvertWorker to "+e),this.destType=e}s.inherits(o,i),o.prototype.processChunk=function(e){this.push({data:s.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),s=e("../crc32");function o(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,i),o.prototype.processChunk=function(e){this.streamInfo.crc32=s(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(o,s),o.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}s.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),s=e("./GenericWorker");function o(e){s.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then((function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()}),(function(e){t.error(e)}))}i.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",(function(e){t.processChunk(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.error(e)})),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),s=e("./ConvertWorker"),o=e("./GenericWorker"),r=e("../base64"),a=e("../support"),l=e("../external"),c=null;if(a.nodestream)try{c=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function h(e,t,n){var r=t;switch(t){case"blob":case"arraybuffer":r="uint8array";break;case"base64":r="string"}try{this._internalType=r,this._outputType=t,this._mimeType=n,i.checkSupport(r),this._worker=e.pipe(new s(r)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}h.prototype={accumulate:function(e){return function(e,t){return new l.Promise((function(n,s){var o=[],a=e._internalType,l=e._outputType,c=e._mimeType;e.on("data",(function(e,n){o.push(e),t&&t(n)})).on("error",(function(e){o=[],s(e)})).on("end",(function(){try{var e=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return r.encode(t);default:return i.transformTo(e,t)}}(l,function(e,t){var n,i=0,s=null,o=0;for(n=0;n<t.length;n++)o+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(s=new Uint8Array(o),n=0;n<t.length;n++)s.set(t[n],i),i+=t[n].length;return s;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(a,o),c);n(e)}catch(e){s(e)}o=[]})).resume()}))}(this,e)},on:function(e,t){var n=this;return"data"===e?this._worker.on(e,(function(e){t.call(n,e.data,e.meta)})):this._worker.on(e,(function(){i.delay(t,arguments,n)})),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new c(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(i),n.blob=0===s.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),s=e("./support"),o=e("./nodejsUtils"),r=e("./stream/GenericWorker"),a=new Array(256),l=0;l<256;l++)a[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function c(){r.call(this,"utf-8 decode"),this.leftOver=null}function h(){r.call(this,"utf-8 encode")}a[254]=a[254]=1,n.utf8encode=function(e){return s.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,n,i,o,r,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=s.uint8array?new Uint8Array(l):new Array(l),o=r=0;r<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(i=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(i-56320),o++),n<128?t[r++]=n:(n<2048?t[r++]=192|n>>>6:(n<65536?t[r++]=224|n>>>12:(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63),t[r++]=128|n>>>6&63),t[r++]=128|63&n);return t}(e)},n.utf8decode=function(e){return s.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,s,o,r=e.length,l=new Array(2*r);for(t=n=0;t<r;)if((s=e[t++])<128)l[n++]=s;else if(4<(o=a[s]))l[n++]=65533,t+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&t<r;)s=s<<6|63&e[t++],o--;1<o?l[n++]=65533:s<65536?l[n++]=s:(s-=65536,l[n++]=55296|s>>10&1023,l[n++]=56320|1023&s)}return l.length!==n&&(l.subarray?l=l.subarray(0,n):l.length=n),i.applyFromCharCode(l)}(e=i.transformTo(s.uint8array?"uint8array":"array",e))},i.inherits(c,r),c.prototype.processChunk=function(e){var t=i.transformTo(s.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var r=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+a[e[n]]>t?n:t}(t),l=t;r!==t.length&&(s.uint8array?(l=t.subarray(0,r),this.leftOver=t.subarray(r,t.length)):(l=t.slice(0,r),this.leftOver=t.slice(r,t.length))),this.push({data:n.utf8decode(l),meta:e.meta})},c.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=c,i.inherits(h,r),h.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),s=e("./base64"),o=e("./nodejsUtils"),r=e("./external");function a(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}e("setimmediate"),n.newBlob=function(e,t){n.checkSupport("blob");try{return new Blob([e],{type:t})}catch(n){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return i.append(e),i.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var c={stringifyByChunk:function(e,t,n){var i=[],s=0,o=e.length;if(o<=n)return String.fromCharCode.apply(null,e);for(;s<o;)"array"===t||"nodebuffer"===t?i.push(String.fromCharCode.apply(null,e.slice(s,Math.min(s+n,o)))):i.push(String.fromCharCode.apply(null,e.subarray(s,Math.min(s+n,o)))),s+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function h(e){var t=65536,i=n.getTypeOf(e),s=!0;if("uint8array"===i?s=c.applyCanBeUsed.uint8array:"nodebuffer"===i&&(s=c.applyCanBeUsed.nodebuffer),s)for(;1<t;)try{return c.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return c.stringifyByChar(e)}function u(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=h;var d={};d.string={string:a,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return d.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},d.array={string:h,array:a,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},d.arraybuffer={string:function(e){return h(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:a,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},d.uint8array={string:h,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:a,nodebuffer:function(e){return o.newBufferFrom(e)}},d.nodebuffer={string:h,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return d.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:a},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return d[i][e](t)},n.resolve=function(e){for(var t=e.split("/"),n=[],i=0;i<t.length;i++){var s=t[i];"."===s||""===s&&0!==i&&i!==t.length-1||(".."===s?n.pop():n.push(s))}return n.join("/")},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&o.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){setImmediate((function(){e.apply(n||null,t||[])}))},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,o,a,c){return r.Promise.resolve(t).then((function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new r.Promise((function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)})):e})).then((function(t){var h=n.getTypeOf(t);return h?("arraybuffer"===h?t=n.transformTo("uint8array",t):"string"===h&&(c?t=s.decode(t):o&&!0!==a&&(t=function(e){return l(e,i.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):r.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))}))}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),s=e("./utils"),o=e("./signature"),r=e("./zipEntry"),a=e("./support");function l(e){this.files=[],this.loadOptions=e}l.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(t)+", expected "+s.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=a.uint8array?"uint8array":"array",n=s.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(n)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new r({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),s=e("./utils"),o=e("./compressedObject"),r=e("./crc32"),a=e("./utf8"),l=e("./compressions"),c=e("./support");function h(e,t){this.options=e,this.loadOptions=t}h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in l)if(Object.prototype.hasOwnProperty.call(l,t)&&l[t].magic===e)return l[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=i(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,n,i,s=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<s;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(s)},handleUTF8:function(){var e=c.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=a.utf8decode(this.fileName),this.fileCommentStr=a.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=s.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var o=s.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||r(this.fileName)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||r(this.fileComment)!==t.readInt(4)?null:a.utf8decode(t.readData(e.length-5))}return null}},t.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var s=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),r=e("./utf8"),a=e("./compressedObject"),l=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!i&&(t=t.pipe(new r.Utf8EncodeWorker)),!o&&i&&(t=t.pipe(new r.Utf8DecodeWorker))}catch(e){(t=new l("error")).error(e)}return new s(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof a&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new r.Utf8EncodeWorker)),a.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof a?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var c=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<c.length;u++)i.prototype[c[u]]=h;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var n,i,s=e.MutationObserver||e.WebKitMutationObserver;if(s){var o=0,r=new s(h),a=e.document.createTextNode("");r.observe(a,{characterData:!0}),n=function(){a.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){h(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(h,0)};else{var l=new e.MessageChannel;l.port1.onmessage=h,n=function(){l.port2.postMessage(0)}}var c=[];function h(){var e,t;i=!0;for(var n=c.length;n;){for(t=c,c=[],e=-1;++e<n;)t[e]();n=c.length}i=!1}t.exports=function(e){1!==c.push(e)||i||n()}}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function s(){}var o={},r=["REJECTED"],a=["FULFILLED"],l=["PENDING"];function c(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,e!==s&&p(this,e)}function h(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i((function(){var i;try{i=t(n)}catch(i){return o.reject(e,i)}i===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,i)}))}function d(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function p(e,t){var n=!1;function i(t){n||(n=!0,o.reject(e,t))}function s(t){n||(n=!0,o.resolve(e,t))}var r=f((function(){t(s,i)}));"error"===r.status&&i(r.value)}function f(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=c).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then((function(n){return t.resolve(e()).then((function(){return n}))}),(function(n){return t.resolve(e()).then((function(){throw n}))}))},c.prototype.catch=function(e){return this.then(null,e)},c.prototype.then=function(e,t){if("function"!=typeof e&&this.state===a||"function"!=typeof t&&this.state===r)return this;var n=new this.constructor(s);return this.state!==l?u(n,this.state===a?e:t,this.outcome):this.queue.push(new h(n,e,t)),n},h.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},h.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},h.prototype.callRejected=function(e){o.reject(this.promise,e)},h.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},o.resolve=function(e,t){var n=f(d,t);if("error"===n.status)return o.reject(e,n.value);var i=n.value;if(i)p(e,i);else{e.state=a,e.outcome=t;for(var s=-1,r=e.queue.length;++s<r;)e.queue[s].callFulfilled(t)}return e},o.reject=function(e,t){e.state=r,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},c.resolve=function(e){return e instanceof this?e:o.resolve(new this(s),e)},c.reject=function(e){var t=new this(s);return o.reject(t,e)},c.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var r=new Array(n),a=0,l=-1,c=new this(s);++l<n;)h(e[l],l);return c;function h(e,s){t.resolve(e).then((function(e){r[s]=e,++a!==n||i||(i=!0,o.resolve(c,r))}),(function(e){i||(i=!0,o.reject(c,e))}))}},c.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i,r=-1,a=new this(s);++r<t;)i=e[r],this.resolve(i).then((function(e){n||(n=!0,o.resolve(a,e))}),(function(e){n||(n=!0,o.reject(a,e))}));return a}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),s=e("./utils/common"),o=e("./utils/strings"),r=e("./zlib/messages"),a=e("./zlib/zstream"),l=Object.prototype.toString;function c(e){if(!(this instanceof c))return new c(e);this.options=s.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new a,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(r[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var h;if(h="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===l.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,h)))throw new Error(r[n]);this._dict_set=!0}}function h(e,t){var n=new c(t);if(n.push(e,!0),n.err)throw n.msg||r[n.err];return n.result}c.prototype.push=function(e,t){var n,r,a=this.strm,c=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?a.input=o.string2buf(e):"[object ArrayBuffer]"===l.call(e)?a.input=new Uint8Array(e):a.input=e,a.next_in=0,a.avail_in=a.input.length;do{if(0===a.avail_out&&(a.output=new s.Buf8(c),a.next_out=0,a.avail_out=c),1!==(n=i.deflate(a,r))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==a.avail_out&&(0!==a.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(o.buf2binstring(s.shrinkBuf(a.output,a.next_out))):this.onData(s.shrinkBuf(a.output,a.next_out)))}while((0<a.avail_in||0===a.avail_out)&&1!==n);return 4===r?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==r||(this.onEnd(0),!(a.avail_out=0))},c.prototype.onData=function(e){this.chunks.push(e)},c.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=c,n.deflate=h,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,h(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,h(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),s=e("./utils/common"),o=e("./utils/strings"),r=e("./zlib/constants"),a=e("./zlib/messages"),l=e("./zlib/zstream"),c=e("./zlib/gzheader"),h=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==r.Z_OK)throw new Error(a[n]);this.header=new c,i.inflateGetHeader(this.strm,this.header)}function d(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||a[n.err];return n.result}u.prototype.push=function(e,t){var n,a,l,c,u,d,p=this.strm,f=this.options.chunkSize,g=this.options.dictionary,m=!1;if(this.ended)return!1;a=t===~~t?t:!0===t?r.Z_FINISH:r.Z_NO_FLUSH,"string"==typeof e?p.input=o.binstring2buf(e):"[object ArrayBuffer]"===h.call(e)?p.input=new Uint8Array(e):p.input=e,p.next_in=0,p.avail_in=p.input.length;do{if(0===p.avail_out&&(p.output=new s.Buf8(f),p.next_out=0,p.avail_out=f),(n=i.inflate(p,r.Z_NO_FLUSH))===r.Z_NEED_DICT&&g&&(d="string"==typeof g?o.string2buf(g):"[object ArrayBuffer]"===h.call(g)?new Uint8Array(g):g,n=i.inflateSetDictionary(this.strm,d)),n===r.Z_BUF_ERROR&&!0===m&&(n=r.Z_OK,m=!1),n!==r.Z_STREAM_END&&n!==r.Z_OK)return this.onEnd(n),!(this.ended=!0);p.next_out&&(0!==p.avail_out&&n!==r.Z_STREAM_END&&(0!==p.avail_in||a!==r.Z_FINISH&&a!==r.Z_SYNC_FLUSH)||("string"===this.options.to?(l=o.utf8border(p.output,p.next_out),c=p.next_out-l,u=o.buf2string(p.output,l),p.next_out=c,p.avail_out=f-c,c&&s.arraySet(p.output,p.output,l,c,0),this.onData(u)):this.onData(s.shrinkBuf(p.output,p.next_out)))),0===p.avail_in&&0===p.avail_out&&(m=!0)}while((0<p.avail_in||0===p.avail_out)&&n!==r.Z_STREAM_END);return n===r.Z_STREAM_END&&(a=r.Z_FINISH),a===r.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===r.Z_OK):a!==r.Z_SYNC_FLUSH||(this.onEnd(r.Z_OK),!(p.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===r.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=u,n.inflate=d,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var s={arraySet:function(e,t,n,i,s){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),s);else for(var o=0;o<i;o++)e[s+o]=t[n+o]},flattenChunks:function(e){var t,n,i,s,o,r;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(r=new Uint8Array(i),t=s=0,n=e.length;t<n;t++)o=e[t],r.set(o,s),s+=o.length;return r}},o={arraySet:function(e,t,n,i,s){for(var o=0;o<i;o++)e[s+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var r=new i.Buf8(256),a=0;a<256;a++)r[a]=252<=a?6:248<=a?5:240<=a?4:224<=a?3:192<=a?2:1;function l(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&s))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}r[254]=r[254]=1,n.string2buf=function(e){var t,n,s,o,r,a=e.length,l=0;for(o=0;o<a;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),l+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(l),o=r=0;r<l;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<a&&56320==(64512&(s=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(s-56320),o++),n<128?t[r++]=n:(n<2048?t[r++]=192|n>>>6:(n<65536?t[r++]=224|n>>>12:(t[r++]=240|n>>>18,t[r++]=128|n>>>12&63),t[r++]=128|n>>>6&63),t[r++]=128|63&n);return t},n.buf2binstring=function(e){return l(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,s=t.length;n<s;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,s,o,a=t||e.length,c=new Array(2*a);for(n=i=0;n<a;)if((s=e[n++])<128)c[i++]=s;else if(4<(o=r[s]))c[i++]=65533,n+=o-1;else{for(s&=2===o?31:3===o?15:7;1<o&&n<a;)s=s<<6|63&e[n++],o--;1<o?c[i++]=65533:s<65536?c[i++]=s:(s-=65536,c[i++]=55296|s>>10&1023,c[i++]=56320|1023&s)}return l(c,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+r[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var s=65535&e|0,o=e>>>16&65535|0,r=0;0!==n;){for(n-=r=2e3<n?2e3:n;o=o+(s=s+t[i++]|0)|0,--r;);s%=65521,o%=65521}return s|o<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,s){var o=i,r=s+n;e^=-1;for(var a=s;a<r;a++)e=e>>>8^o[255&(e^t[a])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,s=e("../utils/common"),o=e("./trees"),r=e("./adler32"),a=e("./crc32"),l=e("./messages"),c=-2,h=258,u=262,d=113;function p(e,t){return e.msg=l[t],t}function f(e){return(e<<1)-(4<e?9:0)}function g(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(s.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function v(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function w(e,t){e.pending_buf[e.pending++]=t}function b(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var n,i,s=e.max_chain_length,o=e.strstart,r=e.prev_length,a=e.nice_match,l=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,c=e.window,d=e.w_mask,p=e.prev,f=e.strstart+h,g=c[o+r-1],m=c[o+r];e.prev_length>=e.good_match&&(s>>=2),a>e.lookahead&&(a=e.lookahead);do{if(c[(n=t)+r]===m&&c[n+r-1]===g&&c[n]===c[o]&&c[++n]===c[o+1]){o+=2,n++;do{}while(c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&c[++o]===c[++n]&&o<f);if(i=h-(f-o),o=f-h,r<i){if(e.match_start=t,a<=(r=i))break;g=c[o+r-1],m=c[o+r]}}}while((t=p[t&d])>l&&0!=--s);return r<=e.lookahead?r:e.lookahead}function C(e){var t,n,i,o,l,c,h,d,p,f,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-u)){for(s.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,t=n=e.hash_size;i=e.head[--t],e.head[t]=g<=i?i-g:0,--n;);for(t=n=g;i=e.prev[--t],e.prev[t]=g<=i?i-g:0,--n;);o+=g}if(0===e.strm.avail_in)break;if(c=e.strm,h=e.window,d=e.strstart+e.lookahead,f=void 0,(p=o)<(f=c.avail_in)&&(f=p),n=0===f?0:(c.avail_in-=f,s.arraySet(h,c.input,c.next_in,f,d),1===c.state.wrap?c.adler=r(c.adler,h,f,d):2===c.state.wrap&&(c.adler=a(c.adler,h,f,d)),c.next_in+=f,c.total_in+=f,f),e.lookahead+=n,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function x(e,t){for(var n,i;;){if(e.lookahead<u){if(C(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-u&&(e.match_length=y(e,n)),e.match_length>=3)if(i=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function k(e,t){for(var n,i,s;;){if(e.lookahead<u){if(C(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-u&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(s=e.strstart+e.lookahead-3,i=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=s&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(v(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=o._tr_tally(e,0,e.window[e.strstart-1]))&&v(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}function S(e,t,n,i,s){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=s}function _(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(1146),this.dyn_dtree=new s.Buf16(122),this.bl_tree=new s.Buf16(78),g(this.dyn_ltree),g(this.dyn_dtree),g(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(16),this.heap=new s.Buf16(573),g(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(573),g(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function A(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):p(e,c)}function T(e){var t=A(e);return 0===t&&function(e){e.window_size=2*e.w_size,g(e.head),e.max_lazy_match=i[e.level].max_lazy,e.good_match=i[e.level].good_length,e.nice_match=i[e.level].nice_length,e.max_chain_length=i[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}function E(e,t,n,i,o,r){if(!e)return c;var a=1;if(-1===t&&(t=6),i<0?(a=0,i=-i):15<i&&(a=2,i-=16),o<1||9<o||8!==n||i<8||15<i||t<0||9<t||r<0||4<r)return p(e,c);8===i&&(i=9);var l=new _;return(e.state=l).strm=e,l.wrap=a,l.gzhead=null,l.w_bits=i,l.w_size=1<<l.w_bits,l.w_mask=l.w_size-1,l.hash_bits=o+7,l.hash_size=1<<l.hash_bits,l.hash_mask=l.hash_size-1,l.hash_shift=~~((l.hash_bits+3-1)/3),l.window=new s.Buf8(2*l.w_size),l.head=new s.Buf16(l.hash_size),l.prev=new s.Buf16(l.w_size),l.lit_bufsize=1<<o+6,l.pending_buf_size=4*l.lit_bufsize,l.pending_buf=new s.Buf8(l.pending_buf_size),l.d_buf=1*l.lit_bufsize,l.l_buf=3*l.lit_bufsize,l.level=t,l.strategy=r,l.method=n,T(e)}i=[new S(0,0,0,0,(function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(C(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,v(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(v(e,!1),e.strm.avail_out),1)})),new S(4,4,8,4,x),new S(4,5,16,8,x),new S(4,6,32,32,x),new S(4,4,16,16,k),new S(8,16,32,32,k),new S(8,16,128,128,k),new S(8,32,128,256,k),new S(32,128,258,1024,k),new S(32,258,258,4096,k)],n.deflateInit=function(e,t){return E(e,t,8,15,8,0)},n.deflateInit2=E,n.deflateReset=T,n.deflateResetKeep=A,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,0):c},n.deflate=function(e,t){var n,s,r,l;if(!e||!e.state||5<t||t<0)return e?p(e,c):c;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||666===s.status&&4!==t)return p(e,0===e.avail_out?-5:c);if(s.strm=e,n=s.last_flush,s.last_flush=t,42===s.status)if(2===s.wrap)e.adler=0,w(s,31),w(s,139),w(s,8),s.gzhead?(w(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),w(s,255&s.gzhead.time),w(s,s.gzhead.time>>8&255),w(s,s.gzhead.time>>16&255),w(s,s.gzhead.time>>24&255),w(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),w(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(w(s,255&s.gzhead.extra.length),w(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=a(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(w(s,0),w(s,0),w(s,0),w(s,0),w(s,0),w(s,9===s.level?2:2<=s.strategy||s.level<2?4:0),w(s,3),s.status=d);else{var u=8+(s.w_bits-8<<4)<<8;u|=(2<=s.strategy||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(u|=32),u+=31-u%31,s.status=d,b(s,u),0!==s.strstart&&(b(s,e.adler>>>16),b(s,65535&e.adler)),e.adler=1}if(69===s.status)if(s.gzhead.extra){for(r=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),m(e),r=s.pending,s.pending!==s.pending_buf_size));)w(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){r=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),m(e),r=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,w(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),0===l&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){r=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),m(e),r=s.pending,s.pending===s.pending_buf_size)){l=1;break}l=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,w(s,l)}while(0!==l);s.gzhead.hcrc&&s.pending>r&&(e.adler=a(e.adler,s.pending_buf,s.pending-r,r)),0===l&&(s.status=103)}else s.status=103;if(103===s.status&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&m(e),s.pending+2<=s.pending_buf_size&&(w(s,255&e.adler),w(s,e.adler>>8&255),e.adler=0,s.status=d)):s.status=d),0!==s.pending){if(m(e),0===e.avail_out)return s.last_flush=-1,0}else if(0===e.avail_in&&f(t)<=f(n)&&4!==t)return p(e,-5);if(666===s.status&&0!==e.avail_in)return p(e,-5);if(0!==e.avail_in||0!==s.lookahead||0!==t&&666!==s.status){var y=2===s.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(C(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(s,t):3===s.strategy?function(e,t){for(var n,i,s,r,a=e.window;;){if(e.lookahead<=h){if(C(e),e.lookahead<=h&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(i=a[s=e.strstart-1])===a[++s]&&i===a[++s]&&i===a[++s]){r=e.strstart+h;do{}while(i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&i===a[++s]&&s<r);e.match_length=h-(r-s),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(v(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(v(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(v(e,!1),0===e.strm.avail_out)?1:2}(s,t):i[s.level].func(s,t);if(3!==y&&4!==y||(s.status=666),1===y||3===y)return 0===e.avail_out&&(s.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(s):5!==t&&(o._tr_stored_block(s,0,0,!1),3===t&&(g(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),m(e),0===e.avail_out))return s.last_flush=-1,0}return 4!==t?0:s.wrap<=0?1:(2===s.wrap?(w(s,255&e.adler),w(s,e.adler>>8&255),w(s,e.adler>>16&255),w(s,e.adler>>24&255),w(s,255&e.total_in),w(s,e.total_in>>8&255),w(s,e.total_in>>16&255),w(s,e.total_in>>24&255)):(b(s,e.adler>>>16),b(s,65535&e.adler)),m(e),0<s.wrap&&(s.wrap=-s.wrap),0!==s.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==d&&666!==t?p(e,c):(e.state=null,t===d?p(e,-3):0):c},n.deflateSetDictionary=function(e,t){var n,i,o,a,l,h,u,d,p=t.length;if(!e||!e.state)return c;if(2===(a=(n=e.state).wrap)||1===a&&42!==n.status||n.lookahead)return c;for(1===a&&(e.adler=r(e.adler,t,p,0)),n.wrap=0,p>=n.w_size&&(0===a&&(g(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new s.Buf8(n.w_size),s.arraySet(d,t,p-n.w_size,n.w_size,0),t=d,p=n.w_size),l=e.avail_in,h=e.next_in,u=e.input,e.avail_in=p,e.next_in=0,e.input=t,C(n);n.lookahead>=3;){for(i=n.strstart,o=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--o;);n.strstart=i,n.lookahead=2,C(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=h,e.input=u,e.avail_in=l,n.wrap=a,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,s,o,r,a,l,c,h,u,d,p,f,g,m,v,w,b,y,C,x,k,S,_,A;n=e.state,i=e.next_in,_=e.input,s=i+(e.avail_in-5),o=e.next_out,A=e.output,r=o-(t-e.avail_out),a=o+(e.avail_out-257),l=n.dmax,c=n.wsize,h=n.whave,u=n.wnext,d=n.window,p=n.hold,f=n.bits,g=n.lencode,m=n.distcode,v=(1<<n.lenbits)-1,w=(1<<n.distbits)-1;e:do{f<15&&(p+=_[i++]<<f,f+=8,p+=_[i++]<<f,f+=8),b=g[p&v];t:for(;;){if(p>>>=y=b>>>24,f-=y,0==(y=b>>>16&255))A[o++]=65535&b;else{if(!(16&y)){if(0==(64&y)){b=g[(65535&b)+(p&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}C=65535&b,(y&=15)&&(f<y&&(p+=_[i++]<<f,f+=8),C+=p&(1<<y)-1,p>>>=y,f-=y),f<15&&(p+=_[i++]<<f,f+=8,p+=_[i++]<<f,f+=8),b=m[p&w];n:for(;;){if(p>>>=y=b>>>24,f-=y,!(16&(y=b>>>16&255))){if(0==(64&y)){b=m[(65535&b)+(p&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(x=65535&b,f<(y&=15)&&(p+=_[i++]<<f,(f+=8)<y&&(p+=_[i++]<<f,f+=8)),l<(x+=p&(1<<y)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(p>>>=y,f-=y,(y=o-r)<x){if(h<(y=x-y)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=d,(k=0)===u){if(k+=c-y,y<C){for(C-=y;A[o++]=d[k++],--y;);k=o-x,S=A}}else if(u<y){if(k+=c+u-y,(y-=u)<C){for(C-=y;A[o++]=d[k++],--y;);if(k=0,u<C){for(C-=y=u;A[o++]=d[k++],--y;);k=o-x,S=A}}}else if(k+=u-y,y<C){for(C-=y;A[o++]=d[k++],--y;);k=o-x,S=A}for(;2<C;)A[o++]=S[k++],A[o++]=S[k++],A[o++]=S[k++],C-=3;C&&(A[o++]=S[k++],1<C&&(A[o++]=S[k++]))}else{for(k=o-x;A[o++]=A[k++],A[o++]=A[k++],A[o++]=A[k++],2<(C-=3););C&&(A[o++]=A[k++],1<C&&(A[o++]=A[k++]))}break}}break}}while(i<s&&o<a);i-=C=f>>3,p&=(1<<(f-=C<<3))-1,e.next_in=i,e.next_out=o,e.avail_in=i<s?s-i+5:5-(i-s),e.avail_out=o<a?a-o+257:257-(o-a),n.hold=p,n.bits=f}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),s=e("./adler32"),o=e("./crc32"),r=e("./inffast"),a=e("./inftrees"),l=-2;function c(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function h(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):l}function d(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):l}function p(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?l:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,d(e))):l}function f(e,t){var n,i;return e?(i=new h,(e.state=i).window=null,0!==(n=p(e,t))&&(e.state=null),n):l}var g,m,v=!0;function w(e){if(v){var t;for(g=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(a(1,e.lens,0,288,g,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;a(2,e.lens,0,32,m,0,e.work,{bits:5}),v=!1}e.lencode=g,e.lenbits=9,e.distcode=m,e.distbits=5}function b(e,t,n,s){var o,r=e.state;return null===r.window&&(r.wsize=1<<r.wbits,r.wnext=0,r.whave=0,r.window=new i.Buf8(r.wsize)),s>=r.wsize?(i.arraySet(r.window,t,n-r.wsize,r.wsize,0),r.wnext=0,r.whave=r.wsize):(s<(o=r.wsize-r.wnext)&&(o=s),i.arraySet(r.window,t,n-s,o,r.wnext),(s-=o)?(i.arraySet(r.window,t,n-s,s,0),r.wnext=s,r.whave=r.wsize):(r.wnext+=o,r.wnext===r.wsize&&(r.wnext=0),r.whave<r.wsize&&(r.whave+=o))),0}n.inflateReset=d,n.inflateReset2=p,n.inflateResetKeep=u,n.inflateInit=function(e){return f(e,15)},n.inflateInit2=f,n.inflate=function(e,t){var n,h,u,d,p,f,g,m,v,y,C,x,k,S,_,A,T,E,$,L,M,R,I,O,D=0,P=new i.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return l;12===(n=e.state).mode&&(n.mode=13),p=e.next_out,u=e.output,g=e.avail_out,d=e.next_in,h=e.input,f=e.avail_in,m=n.hold,v=n.bits,y=f,C=g,R=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;v<16;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(2&n.wrap&&35615===m){P[n.check=0]=255&m,P[1]=m>>>8&255,n.check=o(n.check,P,2,0),v=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(v-=4,M=8+(15&(m>>>=4)),0===n.wbits)n.wbits=M;else if(M>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<M,e.adler=n.check=1,n.mode=512&m?10:12,v=m=0;break;case 2:for(;v<16;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(P[0]=255&m,P[1]=m>>>8&255,n.check=o(n.check,P,2,0)),v=m=0,n.mode=3;case 3:for(;v<32;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.head&&(n.head.time=m),512&n.flags&&(P[0]=255&m,P[1]=m>>>8&255,P[2]=m>>>16&255,P[3]=m>>>24&255,n.check=o(n.check,P,4,0)),v=m=0,n.mode=4;case 4:for(;v<16;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(P[0]=255&m,P[1]=m>>>8&255,n.check=o(n.check,P,2,0)),v=m=0,n.mode=5;case 5:if(1024&n.flags){for(;v<16;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(P[0]=255&m,P[1]=m>>>8&255,n.check=o(n.check,P,2,0)),v=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(f<(x=n.length)&&(x=f),x&&(n.head&&(M=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,h,d,x,M)),512&n.flags&&(n.check=o(n.check,h,x,d)),f-=x,d+=x,n.length-=x),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===f)break e;for(x=0;M=h[d+x++],n.head&&M&&n.length<65536&&(n.head.name+=String.fromCharCode(M)),M&&x<f;);if(512&n.flags&&(n.check=o(n.check,h,x,d)),f-=x,d+=x,M)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===f)break e;for(x=0;M=h[d+x++],n.head&&M&&n.length<65536&&(n.head.comment+=String.fromCharCode(M)),M&&x<f;);if(512&n.flags&&(n.check=o(n.check,h,x,d)),f-=x,d+=x,M)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;v<16;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}v=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;v<32;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}e.adler=n.check=c(m),v=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=p,e.avail_out=g,e.next_in=d,e.avail_in=f,n.hold=m,n.bits=v,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&v,v-=7&v,n.mode=27;break}for(;v<3;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}switch(n.last=1&m,v-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(w(n),n.mode=20,6!==t)break;m>>>=2,v-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,v-=2;break;case 14:for(m>>>=7&v,v-=7&v;v<32;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,v=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(x=n.length){if(f<x&&(x=f),g<x&&(x=g),0===x)break e;i.arraySet(u,h,d,x,p),f-=x,d+=x,g-=x,p+=x,n.length-=x;break}n.mode=12;break;case 17:for(;v<14;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(n.nlen=257+(31&m),m>>>=5,v-=5,n.ndist=1+(31&m),m>>>=5,v-=5,n.ncode=4+(15&m),m>>>=4,v-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;v<3;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.lens[B[n.have++]]=7&m,m>>>=3,v-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},R=a(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;A=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((_=D>>>24)<=v);){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(T<16)m>>>=_,v-=_,n.lens[n.have++]=T;else{if(16===T){for(O=_+2;v<O;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(m>>>=_,v-=_,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}M=n.lens[n.have-1],x=3+(3&m),m>>>=2,v-=2}else if(17===T){for(O=_+3;v<O;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}v-=_,M=0,x=3+(7&(m>>>=_)),m>>>=3,v-=3}else{for(O=_+7;v<O;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}v-=_,M=0,x=11+(127&(m>>>=_)),m>>>=7,v-=7}if(n.have+x>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;x--;)n.lens[n.have++]=M}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,I={bits:n.lenbits},R=a(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,R){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},R=a(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,R){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=f&&258<=g){e.next_out=p,e.avail_out=g,e.next_in=d,e.avail_in=f,n.hold=m,n.bits=v,r(e,C),p=e.next_out,u=e.output,g=e.avail_out,d=e.next_in,h=e.input,f=e.avail_in,m=n.hold,v=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;A=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,T=65535&D,!((_=D>>>24)<=v);){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(A&&0==(240&A)){for(E=_,$=A,L=T;A=(D=n.lencode[L+((m&(1<<E+$)-1)>>E)])>>>16&255,T=65535&D,!(E+(_=D>>>24)<=v);){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}m>>>=E,v-=E,n.back+=E}if(m>>>=_,v-=_,n.back+=_,n.length=T,0===A){n.mode=26;break}if(32&A){n.back=-1,n.mode=12;break}if(64&A){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&A,n.mode=22;case 22:if(n.extra){for(O=n.extra;v<O;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;A=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,T=65535&D,!((_=D>>>24)<=v);){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(0==(240&A)){for(E=_,$=A,L=T;A=(D=n.distcode[L+((m&(1<<E+$)-1)>>E)])>>>16&255,T=65535&D,!(E+(_=D>>>24)<=v);){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}m>>>=E,v-=E,n.back+=E}if(m>>>=_,v-=_,n.back+=_,64&A){e.msg="invalid distance code",n.mode=30;break}n.offset=T,n.extra=15&A,n.mode=24;case 24:if(n.extra){for(O=n.extra;v<O;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,v-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===g)break e;if(x=C-g,n.offset>x){if((x=n.offset-x)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}k=x>n.wnext?(x-=n.wnext,n.wsize-x):n.wnext-x,x>n.length&&(x=n.length),S=n.window}else S=u,k=p-n.offset,x=n.length;for(g<x&&(x=g),g-=x,n.length-=x;u[p++]=S[k++],--x;);0===n.length&&(n.mode=21);break;case 26:if(0===g)break e;u[p++]=n.length,g--,n.mode=21;break;case 27:if(n.wrap){for(;v<32;){if(0===f)break e;f--,m|=h[d++]<<v,v+=8}if(C-=g,e.total_out+=C,n.total+=C,C&&(e.adler=n.check=n.flags?o(n.check,u,C,p-C):s(n.check,u,C,p-C)),C=g,(n.flags?m:c(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}v=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;v<32;){if(0===f)break e;f--,m+=h[d++]<<v,v+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}v=m=0}n.mode=29;case 29:R=1;break e;case 30:R=-3;break e;case 31:return-4;default:return l}return e.next_out=p,e.avail_out=g,e.next_in=d,e.avail_in=f,n.hold=m,n.bits=v,(n.wsize||C!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&b(e,e.output,e.next_out,C-e.avail_out)?(n.mode=31,-4):(y-=e.avail_in,C-=e.avail_out,e.total_in+=y,e.total_out+=C,n.total+=C,n.wrap&&C&&(e.adler=n.check=n.flags?o(n.check,u,C,e.next_out-C):s(n.check,u,C,e.next_out-C)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==y&&0===C||4===t)&&0===R&&(R=-5),R)},n.inflateEnd=function(e){if(!e||!e.state)return l;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?l:((n.head=t).done=!1,0):l},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?l:11===n.mode&&s(1,t,i,0)!==n.check?-3:b(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):l},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],r=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],a=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,l,c,h,u,d){var p,f,g,m,v,w,b,y,C,x=d.bits,k=0,S=0,_=0,A=0,T=0,E=0,$=0,L=0,M=0,R=0,I=null,O=0,D=new i.Buf16(16),P=new i.Buf16(16),B=null,F=0;for(k=0;k<=15;k++)D[k]=0;for(S=0;S<l;S++)D[t[n+S]]++;for(T=x,A=15;1<=A&&0===D[A];A--);if(A<T&&(T=A),0===A)return c[h++]=20971520,c[h++]=20971520,d.bits=1,0;for(_=1;_<A&&0===D[_];_++);for(T<_&&(T=_),k=L=1;k<=15;k++)if(L<<=1,(L-=D[k])<0)return-1;if(0<L&&(0===e||1!==A))return-1;for(P[1]=0,k=1;k<15;k++)P[k+1]=P[k]+D[k];for(S=0;S<l;S++)0!==t[n+S]&&(u[P[t[n+S]]++]=S);if(w=0===e?(I=B=u,19):1===e?(I=s,O-=257,B=o,F-=257,256):(I=r,B=a,-1),k=_,v=h,$=S=R=0,g=-1,m=(M=1<<(E=T))-1,1===e&&852<M||2===e&&592<M)return 1;for(;;){for(b=k-$,C=u[S]<w?(y=0,u[S]):u[S]>w?(y=B[F+u[S]],I[O+u[S]]):(y=96,0),p=1<<k-$,_=f=1<<E;c[v+(R>>$)+(f-=p)]=b<<24|y<<16|C|0,0!==f;);for(p=1<<k-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,S++,0==--D[k]){if(k===A)break;k=t[n+u[S]]}if(T<k&&(R&m)!==g){for(0===$&&($=T),v+=_,L=1<<(E=k-$);E+$<A&&!((L-=D[E+$])<=0);)E++,L<<=1;if(M+=1<<E,1===e&&852<M||2===e&&592<M)return 1;c[g=R&m]=T<<24|E<<16|v-h|0}}return 0!==R&&(c[v+R]=k-$<<24|64<<16|0),d.bits=T,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function s(e){for(var t=e.length;0<=--t;)e[t]=0}var o=256,r=286,a=30,l=15,c=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],p=new Array(576);s(p);var f=new Array(60);s(f);var g=new Array(512);s(g);var m=new Array(256);s(m);var v=new Array(29);s(v);var w,b,y,C=new Array(a);function x(e,t,n,i,s){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=s,this.has_stree=e&&e.length}function k(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function S(e){return e<256?g[e]:g[256+(e>>>7)]}function _(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function A(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,_(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function T(e,t,n){A(e,n[2*t],n[2*t+1])}function E(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function $(e,t,n){var i,s,o=new Array(16),r=0;for(i=1;i<=l;i++)o[i]=r=r+n[i-1]<<1;for(s=0;s<=t;s++){var a=e[2*s+1];0!==a&&(e[2*s]=E(o[a]++,a))}}function L(e){var t;for(t=0;t<r;t++)e.dyn_ltree[2*t]=0;for(t=0;t<a;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?_(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function R(e,t,n,i){var s=2*t,o=2*n;return e[s]<e[o]||e[s]===e[o]&&i[t]<=i[n]}function I(e,t,n){for(var i=e.heap[n],s=n<<1;s<=e.heap_len&&(s<e.heap_len&&R(t,e.heap[s+1],e.heap[s],e.depth)&&s++,!R(t,i,e.heap[s],e.depth));)e.heap[n]=e.heap[s],n=s,s<<=1;e.heap[n]=i}function O(e,t,n){var i,s,r,a,l=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],s=e.pending_buf[e.l_buf+l],l++,0===i?T(e,s,t):(T(e,(r=m[s])+o+1,t),0!==(a=c[r])&&A(e,s-=v[r],a),T(e,r=S(--i),n),0!==(a=h[r])&&A(e,i-=C[r],a)),l<e.last_lit;);T(e,256,t)}function D(e,t){var n,i,s,o=t.dyn_tree,r=t.stat_desc.static_tree,a=t.stat_desc.has_stree,c=t.stat_desc.elems,h=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=h=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(s=e.heap[++e.heap_len]=h<2?++h:0)]=1,e.depth[s]=0,e.opt_len--,a&&(e.static_len-=r[2*s+1]);for(t.max_code=h,n=e.heap_len>>1;1<=n;n--)I(e,o,n);for(s=c;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],I(e,o,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,o[2*s]=o[2*n]+o[2*i],e.depth[s]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,o[2*n+1]=o[2*i+1]=s,e.heap[1]=s++,I(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,s,o,r,a,c=t.dyn_tree,h=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,g=t.stat_desc.max_length,m=0;for(o=0;o<=l;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)g<(o=c[2*c[2*(i=e.heap[n])+1]+1]+1)&&(o=g,m++),c[2*i+1]=o,h<i||(e.bl_count[o]++,r=0,f<=i&&(r=p[i-f]),a=c[2*i],e.opt_len+=a*(o+r),d&&(e.static_len+=a*(u[2*i+1]+r)));if(0!==m){do{for(o=g-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[g]--,m-=2}while(0<m);for(o=g;0!==o;o--)for(i=e.bl_count[o];0!==i;)h<(s=e.heap[--n])||(c[2*s+1]!==o&&(e.opt_len+=(o-c[2*s+1])*c[2*s],c[2*s+1]=o),i--)}}(e,t),$(o,h,e.bl_count)}function P(e,t,n){var i,s,o=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)s=r,r=t[2*(i+1)+1],++a<l&&s===r||(a<c?e.bl_tree[2*s]+=a:0!==s?(s!==o&&e.bl_tree[2*s]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=s,c=(a=0)===r?(l=138,3):s===r?(l=6,3):(l=7,4))}function B(e,t,n){var i,s,o=-1,r=t[1],a=0,l=7,c=4;for(0===r&&(l=138,c=3),i=0;i<=n;i++)if(s=r,r=t[2*(i+1)+1],!(++a<l&&s===r)){if(a<c)for(;T(e,s,e.bl_tree),0!=--a;);else 0!==s?(s!==o&&(T(e,s,e.bl_tree),a--),T(e,16,e.bl_tree),A(e,a-3,2)):a<=10?(T(e,17,e.bl_tree),A(e,a-3,3)):(T(e,18,e.bl_tree),A(e,a-11,7));o=s,c=(a=0)===r?(l=138,3):s===r?(l=6,3):(l=7,4)}}s(C);var F=!1;function N(e,t,n,s){A(e,0+(s?1:0),3),function(e,t,n,s){M(e),_(e,n),_(e,~n),i.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}(e,t,n)}n._tr_init=function(e){F||(function(){var e,t,n,i,s,o=new Array(16);for(i=n=0;i<28;i++)for(v[i]=n,e=0;e<1<<c[i];e++)m[n++]=i;for(m[n-1]=i,i=s=0;i<16;i++)for(C[i]=s,e=0;e<1<<h[i];e++)g[s++]=i;for(s>>=7;i<a;i++)for(C[i]=s<<7,e=0;e<1<<h[i]-7;e++)g[256+s++]=i;for(t=0;t<=l;t++)o[t]=0;for(e=0;e<=143;)p[2*e+1]=8,e++,o[8]++;for(;e<=255;)p[2*e+1]=9,e++,o[9]++;for(;e<=279;)p[2*e+1]=7,e++,o[7]++;for(;e<=287;)p[2*e+1]=8,e++,o[8]++;for($(p,287,o),e=0;e<a;e++)f[2*e+1]=5,f[2*e]=E(e,5);w=new x(p,c,257,r,l),b=new x(f,h,0,a,l),y=new x(new Array(0),u,0,19,7)}(),F=!0),e.l_desc=new k(e.dyn_ltree,w),e.d_desc=new k(e.dyn_dtree,b),e.bl_desc=new k(e.bl_tree,y),e.bi_buf=0,e.bi_valid=0,L(e)},n._tr_stored_block=N,n._tr_flush_block=function(e,t,n,i){var s,r,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<o;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),a=function(e){var t;for(P(e,e.dyn_ltree,e.l_desc.max_code),P(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),s=e.opt_len+3+7>>>3,(r=e.static_len+3+7>>>3)<=s&&(s=r)):s=r=n+5,n+4<=s&&-1!==t?N(e,t,n,i):4===e.strategy||r===s?(A(e,2+(i?1:0),3),O(e,p,f)):(A(e,4+(i?1:0),3),function(e,t,n,i){var s;for(A(e,t-257,5),A(e,n-1,5),A(e,i-4,4),s=0;s<i;s++)A(e,e.bl_tree[2*d[s]+1],3);B(e,e.dyn_ltree,t-1),B(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),O(e,e.dyn_ltree,e.dyn_dtree)),L(e),i&&M(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(m[n]+o+1)]++,e.dyn_dtree[2*S(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){A(e,2,3),T(e,256,p),function(e){16===e.bi_valid?(_(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var n,i,s,o,r=1,a={},l=!1,c=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,n="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick((function(){d(e)}))}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?(o="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",p,!1):e.attachEvent("onmessage",p),function(t){e.postMessage(o+t,"*")}):e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){d(e.data)},function(e){s.port2.postMessage(e)}):c&&"onreadystatechange"in c.createElement("script")?(i=c.documentElement,function(e){var t=c.createElement("script");t.onreadystatechange=function(){d(e),t.onreadystatechange=null,i.removeChild(t),t=null},i.appendChild(t)}):function(e){setTimeout(d,0,e)},h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var s={callback:e,args:t};return a[r]=s,n(r),r++},h.clearImmediate=u}function u(e){delete a[e]}function d(e){if(l)setTimeout(d,0,e);else{var t=a[e];if(t){l=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(undefined,n)}}(t)}finally{u(e),l=!1}}}}function p(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&d(+t.data.slice(o.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)},252:(e,t,n)=>{!function(e){"use strict";var t="YYYY-MM-DDTHH:mm:ss.sss",n="Invalid date",i=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|m{1,2}|s{1,3}/g;e.DATETIME_LOCALES={en:{months:"January February March April May June July August September October November December".split(" "),monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekStart:0}};var s={ms:"Milliseconds",s:"Seconds",m:"Minutes",h:"Hours",D:"Date",d:"Day",M:"Month",Y:"FullYear",y:"Year",t:"Time"},o="ms",r="second",a="minute",l="hour",c="day",h="week",u="month",d="year",p=function(e,t,n){var i=""+e;return n&&i.length>=n?i:Array(n+1-i.length).join(t)+i},f=function(e){return null==e},g=function(){var e;return arguments[0]instanceof m?g(arguments[0].value):(e=[].slice.call(Array.isArray(arguments[0])?arguments[0]:arguments),new(Function.prototype.bind.apply(m,[this].concat(e))))},m=function(){var t=[].slice.call(arguments);if(this.value=new(Function.prototype.bind.apply(Date,[this].concat(t))),this.locale="en",this.weekStart=e.DATETIME_LOCALES.en.weekStart,this.utcMode=!1,this.mutable=!0,isNaN(this.value.getTime()))throw new Error(n)};m.DEFAULT_FORMAT=t,m.REGEX_FORMAT=i,m.INVALID_DATE=n,m.lpad=p,m.not=f,m.isDatetime=function(e){return e instanceof m},m.now=function(e){return g()[e?"val":"time"]()},m.locale=function(t,n){e.DATETIME_LOCALES[t]=n},m.getLocale=function(t){return e.DATETIME_LOCALES[t||"en"]||e.DATETIME_LOCALES.en},m.parse=function(e){return g(Date.parse(e))},m.align=function(e,t){var n,i,s=e instanceof m?e:g(e);switch(t){case r:n=s.ms(0);break;case a:n=m.align(s,r)[r](0);break;case l:n=m.align(s,a)[a](0);break;case c:n=m.align(s,l)[l](0);break;case u:n=m.align(s,c)[c](1);break;case d:n=m.align(s,u)[u](0);break;case h:i=s.weekDay(),n=m.align(s,c).addDay(-i);break;default:n=s}return n},m.alignEnd=function(e,t){var n,i,s=e instanceof m?e:g(e);switch(t){case o:n=s.ms(999);break;case r:n=m.alignEnd(s,o);break;case a:n=m.alignEnd(s,r)[r](59);break;case l:n=m.alignEnd(s,a)[a](59);break;case c:n=m.alignEnd(s,l)[l](23);break;case u:n=m.alignEnd(s,c)[c](1).add(1,u).add(-1,c);break;case d:n=m.alignEnd(s,c)[u](11)[c](31);break;case h:i=s.weekDay(),n=m.alignEnd(s,"day").addDay(6-i);break;default:n=s}return n},m.extend=function(e){for(var t,n,i=arguments.length,s=1;s<i;s++)if(null!=(t=arguments[s]))for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},m.use=function(e){m.extend(m.prototype,e)},m.useStatic=function(e){m.extend(m,e)},m.prototype={immutable:function(e){return this.mutable=!(f(e)||e),this},utc:function(){return this.utcMode=!0,this},local:function(){return this.utcMode=!1,this},useLocale:function(e){return m.getLocale(e)?(this.locale=e,this.weekStart=m.getLocale(e).weekStart,this):(console.warn("Locale "+e+" is not defined!"),this)},clone:function(){var e=g(this.value);return e.locale=this.locale,e.weekStart=this.weekStart,e.mutable=this.mutable,e},align:function(e){return this.mutable?(this.value=m.align(this,e).val(),this):this.clone().immutable(!1).align(e).immutable(!this.mutable)},alignEnd:function(e){return this.mutable?(this.value=m.alignEnd(this,e).val(),this):this.clone().immutable(!1).alignEnd(e).immutable(!this.mutable)},val:function(e){return e instanceof Date?this.mutable?(this.value=e,this):g(e):this.value},year2:function(){return+(""+this.year()).substr(-2)},_set:function(e,t){var n="set"+(this.utcMode&&"t"!==e?"UTC":"")+s[e];if(this.mutable)return this.value[n](t),this;var i=this.clone();return i.value[n](t),i},_get:function(e){var t="get"+(this.utcMode&&"t"!==e?"UTC":"")+s[e];return this.value[t]()},_work:function(e,t){return arguments.length&&null!=t?this._set(e,t):this._get(e)},ms:function(e){return this._work("ms",e)},second:function(e){return this._work("s",e)},minute:function(e){return this._work("m",e)},hour:function(e){return this._work("h",e)},day:function(e){return this._work("D",e)},month:function(e){return this._work("M",e)},year:function(e){return this._work("Y",e)},time:function(e){return this._work("t",e)},weekDay:function(e){if(!arguments.length||f(e))return this.utcMode?this.value.getUTCDay():this.value.getDay();var t=this.weekDay(),n=e-t;return this.day(this.day()+n),this},get:function(e){return"function"!=typeof this[e]?this:this[e]()},set:function(e,t){return"function"!=typeof this[e]?this:this[e](t)},add:function(e,t){switch(t){case l:return this.time(this.time()+60*e*60*1e3);case a:return this.time(this.time()+60*e*1e3);case r:return this.time(this.time()+1e3*e);case o:return this.time(this.time()+e);case c:return this.day(this.day()+e);case h:return this.day(this.day()+7*e);case u:return this.month(this.month()+e);case d:return this.year(this.year()+e)}},addHour:function(e){return this.add(e,l)},addMinute:function(e){return this.add(e,a)},addSecond:function(e){return this.add(e,r)},addMs:function(e){return this.add(e,o)},addDay:function(e){return this.add(e,c)},addWeek:function(e){return this.add(e,h)},addMonth:function(e){return this.add(e,u)},addYear:function(e){return this.add(e,d)},format:function(e,n){var s=e||t,o=m.getLocale(n||this.locale),r=this.year(),a=this.year2(),l=this.month(),c=this.day(),h=this.weekDay(),u=this.hour(),d=this.minute(),f=this.second(),g=this.ms(),v={YY:a,YYYY:r,M:l+1,MM:p(l+1,"0",2),MMM:o.monthsShort[l],MMMM:o.months[l],D:c,DD:p(c,"0",2),d:h,dd:o.weekdaysMin[h],ddd:o.weekdaysShort[h],dddd:o.weekdays[h],H:u,HH:p(u,"0",2),m:d,mm:p(d,"0",2),s:f,ss:p(f,"0",2),sss:p(g,"0",3)};return s.replace(i,(function(e,t){return t||v[e]}))},valueOf:function(){return this.value.valueOf()},toString:function(){return this.value.toString()}},e.Datetime=m,e.datetime=g}("undefined"==typeof self?void 0===n.g?window:n.g:self),function(){"use strict";var e=Datetime.prototype.format;Datetime.use({buddhist:function(){return this.year()+543},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={BB:(this.buddhist()+"").slice(-2),BBBB:this.buddhist()},s=t.replace(/(\[[^\]]+])|B{4}|B{2}/g,(function(e,t){return t||i[e]}));return e.bind(this)(s,n)}})}(),function(){"use strict";Datetime.use({calendar:function(e){return Datetime.calendar(this,e)}}),Datetime.useStatic({calendar:function(e,t){var n,i=e instanceof Datetime?e.clone().align("month"):datetime(e),s=0===t||t?t:i.weekStart,o=s?i.isoWeekDay():i.weekDay(),r=Datetime.getLocale(i.locale),a=datetime(),l={month:r.months[i.month()],days:[],weekstart:t?1:0,weekdays:function(e,t){if(0===t)return e;var n=e[0];return e.slice(1).concat([n])}(r.weekdaysMin,s),today:a.format("YYYY-MM-DD"),weekends:[],week:[]};for(i.addDay(s?1-o:-o),n=0;n<42;n++)l.days.push(i.format("YYYY-MM-DD")),i.add(1,"day");for(l.weekends=l.days.filter((function(e,t){return 0===s?[0,6,7,13,14,20,21,27,28,34,35,41].indexOf(t)>-1:[5,6,12,13,19,20,26,27,33,34,40,41].indexOf(t)>-1})),i=a.clone(),o=s?i.isoWeekDay():i.weekDay(),i.addDay(s?1-o:-o),n=0;n<7;n++)l.week.push(i.format("YYYY-MM-DD")),i.add(1,"day");return l}})}(),function(){"use strict";var e=Datetime.prototype.format;Datetime.use({century:function(){return parseInt(this.year()/100)},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={C:this.century()},s=t.replace(/(\[[^\]]+])|C/g,(function(e,t){return t||i[e]}));return e.bind(this)(s,n)}})}(),function(){"use strict";Datetime.use({same:function(e){return this.time()===datetime(e).time()},compare:function(e,t,n){var i,s,o=datetime(e),r=datetime(this.value);switch(-1===["<",">",">=","<=","=","!="].indexOf(n=n||"=")&&(n="="),t=(t||"ms").toLowerCase(),i=r.align(t).time(),s=o.align(t).time(),n){case"<":return i<s;case">":return i>s;case"<=":return i<=s;case">=":return i>=s;case"=":return i===s;case"!=":return i!==s}},between:function(e,t){return this.younger(e)&&this.older(t)},older:function(e,t){return this.compare(e,t,"<")},olderOrEqual:function(e,t){return this.compare(e,t,"<=")},younger:function(e,t){return this.compare(e,t,">")},youngerOrEqual:function(e,t){return this.compare(e,t,">=")},equal:function(e,t){return this.compare(e,t,"=")},notEqual:function(e,t){return this.compare(e,t,"!=")},diff:function(e){var t=datetime(e),n=Math.abs(this.time()-t.time()),i=Math.abs(this.month()-t.month()+12*(this.year()-t.year()));return{ms:n,second:Math.ceil(n/1e3),minute:Math.ceil(n/6e4),hour:Math.ceil(n/36e5),day:Math.ceil(n/864e5),month:i,year:Math.floor(i/12)}},distance:function(e,t){return this.diff(e)[t]}})}(),function(){"use strict";Datetime.use({dayOfYear:function(){var e=this.month(),t=this.day();return[0,31,59,90,120,151,181,212,243,273,304,334][e]+t+(e>1&&this.isLeapYear()?1:0)}})}(),function(){"use strict";Datetime.use({daysInMonth:function(){return datetime(this.value).add(1,"month").day(1).add(-1,"day").day()},daysInYear:function(){return this.isLeapYear()?366:365},daysInYearMap:function(){var e=[],t=datetime(this.value);t.month(0).day(1);for(var n=0;n<12;n++)t.add(1,"month").add(-1,"day"),e.push(t.day()),t.day(1).add(1,"month");return e},daysInYearObj:function(e,t){var n=this.daysInYearMap(),i={},s=Datetime.getLocale(e||this.locale);return n.forEach((function(e,n){i[s[t?"monthsShort":"months"][n]]=e})),i}})}(),function(){"use strict";Datetime.use({decade:function(){return 10*Math.floor(this.year()/10)},decadeStart:function(){var e=this.decade();return(this.mutable?this:this.clone()).year(e).month(0).day(1)},decadeEnd:function(){var e=this.decade()+9;return(this.mutable?this:this.clone()).year(e).month(11).day(31)},decadeOfMonth:function(){var e=this.clone().add(1,"month").day(1).add(-1,"day").day()/3,t=this.day();return t<=e?1:t<=2*e?2:3}})}(),function(){"use strict";Datetime.useStatic({from:function(e,t,n){var i,s,o,r,a,l,c,h,u,d,p,f,g,m,v,w,b,y,C,x=function(e,t){return e.map((function(e){return e.toLowerCase()})).indexOf(t.toLowerCase())},k=function(e){for(var t,n,i={month:["M","mm","%m"],day:["D","dd","%d"],year:["YY","YYYY","yy","yyyy","%y"],hour:["h","hh","%h"],minute:["m","mi","i","ii","%i"],second:["s","ss","%s"],ms:["sss"]},s=-1,r=0;r<i[e].length;r++)if(t=i[e][r],-1!==(n=o.indexOf(t))){s=n;break}return s};if(Datetime.not(t)||""===(""+t).trim())return datetime();if(i=e.replace(/[\/,.:\s]/g,"-"),s=t.toLowerCase().replace(/[^a-zA-Z0-9%]/g,"-"),o=s.split("-"),r=i.split("-"),""===i.replace(/-/g,"").trim())throw new Error(Datetime.INVALID_DATE);return a=k("month"),l=k("day"),c=k("year"),h=k("hour"),u=k("minute"),d=k("second"),p=k("ms"),a>-1&&r[a]?isNaN(parseInt(r[a]))?(r[a]=function(e){var t=-1,i=Datetime.getLocale(n||"en");return Datetime.not(e)?-1:(-1===(t=x(i.months,e))&&void 0!==i.monthsParental&&(t=x(i.monthsParental,e)),-1===t&&(e=e.substr(0,3),t=x(i.monthsShort,e)),-1===t?-1:t+1)}(r[a]),-1===r[a]&&(a=-1)):((C=parseInt(r[a]))<1||C>12)&&(a=-1):a=-1,f=c>-1&&r[c]?r[c]:0,g=a>-1&&r[a]?r[a]:1,m=l>-1&&r[l]?r[l]:1,v=h>-1&&r[h]?r[h]:0,w=u>-1&&r[u]?r[u]:0,b=d>-1&&r[d]?r[d]:0,y=p>-1&&r[p]?r[p]:0,datetime(f,g-1,m,v,w,b,y)}})}(),function(){"use strict";var e=Datetime.prototype.format,t=Datetime.lpad;Datetime.use({ampm:function(e){var t=this.hour()<12?"AM":"PM";return e?t.toLowerCase():t},hour12:function(e,t){var n=e;return 0===arguments.length?this.hour()%12:("pm"===(t=t||"am").toLowerCase()&&(n+=12),this.hour(n))},format:function(n,i){var s,o,r=this.hour12();return n=n||Datetime.DEFAULT_FORMAT,s={a:"["+this.ampm(!0)+"]",A:"["+this.ampm(!1)+"]",h:r,hh:t(r,"0",2)},o=n.replace(/(\[[^\]]+])|a|A|h{1,2}/g,(function(e,t){return t||s[e]})),e.bind(this)(o,i)}})}(),function(){"use strict";Datetime.use({isLeapYear:function(){var e=this.year();return e%4==0&&e%100!=0||e%400==0}})}(),function(){"use strict";var e=Datetime.prototype.format,t=Datetime.align,n=Datetime.alignEnd;Datetime.useStatic({align:function(e,n){var i,s,o=e instanceof Datetime?e:datetime(e);return"isoWeek"===n?(s=o.isoWeekDay(),i=t(o,"day").addDay(1-s)):i=t.apply(this,[o,n]),i},alignEnd:function(e,t){var i,s,o=e instanceof Datetime?e:datetime(e);return"isoWeek"===t?(s=o.isoWeekDay(),i=n(o,"day").addDay(7-s)):i=n.apply(this,[o,t]),i}}),Datetime.use({isoWeekDay:function(e){var t=(this.weekDay()+6)%7+1;return!arguments.length||Datetime.not(e)?t:this.addDay(e-t)},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={I:this.isoWeekDay()},s=t.replace(/(\[[^\]]+])|I{1,2}/g,(function(e,t){return t||i[e]}));return e.bind(this)(s,n)}})}(),function(){"use strict";Datetime.useStatic({max:function(){var e=[].slice.call(arguments);return e.map((function(e){return datetime(e)})).sort((function(e,t){return t.time()-e.time()}))[0]}}),Datetime.use({max:function(){return Datetime.max.apply(this,[this].concat([].slice.call(arguments)))}})}(),function(){"use strict";Datetime.useStatic({min:function(){var e=[].slice.call(arguments);return e.map((function(e){return datetime(e)})).sort((function(e,t){return e.time()-t.time()}))[0]}}),Datetime.use({min:function(){return Datetime.min.apply(this,[this].concat([].slice.call(arguments)))}})}(),function(){"use strict";var e=Datetime.align,t=Datetime.alignEnd,n=Datetime.prototype.add;Datetime.useStatic({align:function(t,n){var i=t instanceof Datetime?t:datetime(t);return"quarter"===n?Datetime.align(i,"day").day(1).month(3*i.quarter()-3):e.apply(this,[i,n])},alignEnd:function(e,n){var i=e instanceof Datetime?e:datetime(e);return"quarter"===n?Datetime.align(i,"quarter").add(3,"month").add(-1,"ms"):t.apply(this,[i,n])}}),Datetime.use({quarter:function(){var e=this.month();return e<=2?1:e<=5?2:e<=8?3:4},add:function(e,t){return"quarter"===t?this.month(this.month()+3*e):n.bind(this)(e,t)},addQuarter:function(e){return this.add(e,"quarter")}})}(),function(){"use strict";Datetime.useStatic({sort:function(e,t){var n,i,s={};switch("string"==typeof t||"object"!=typeof t||Datetime.not(t)?(s.format=Datetime.DEFAULT_FORMAT,s.dir=t&&"DESC"===t.toUpperCase()?"DESC":"ASC",s.returnAs="datetime"):(s.format=t.format||Datetime.DEFAULT_FORMAT,s.dir=(t.dir||"ASC").toUpperCase(),s.returnAs=t.format?"string":t.returnAs||"datetime"),i=e.map((function(e){return datetime(e)})).sort((function(e,t){return e.valueOf()-t.valueOf()})),"DESC"===s.dir&&i.reverse(),s.returnAs){case"string":n=i.map((function(e){return e.format(s.format)}));break;case"date":n=i.map((function(e){return e.val()}));break;default:n=i}return n}})}(),function(){"use strict";var e=/(%[a-z])/gi,t=Datetime.lpad;Datetime.use({strftime:function(n,i){var s=n||"%Y-%m-%dT%H:%M:%S.%Q%t",o=Datetime.getLocale(i||this.locale),r=this.year(),a=this.year2(),l=this.month(),c=this.day(),h=this.weekDay(),u=this.hour(),d=this.hour12(),p=this.minute(),f=this.second(),g=this.ms(),m=this.time(),v=t(c,"0",2),w=t(l+1,"0",2),b=t(u,"0",2),y=t(d,"0",2),C=t(p,"0",2),x=t(f,"0",2),k=t(g,"0",3),S=this,_=function(){var e=datetime(S.value);return e.day(S.day()-(S.weekDay()+6)%7+3),e},A={"%a":o.weekdaysShort[h],"%A":o.weekdays[h],"%b":o.monthsShort[l],"%h":o.monthsShort[l],"%B":o.months[l],"%c":this.toString().substring(0,this.toString().indexOf(" (")),"%C":this.century(),"%d":v,"%D":[v,w,r].join("/"),"%e":c,"%F":[r,w,v].join("-"),"%G":_().year(),"%g":(""+_().year()).slice(2),"%H":b,"%I":y,"%j":t(this.dayOfYear(),"0",3),"%k":b,"%l":y,"%m":w,"%n":l+1,"%M":C,"%p":this.ampm(),"%P":this.ampm(!0),"%s":Math.round(m/1e3),"%S":x,"%u":this.isoWeekDay(),"%V":this.isoWeekNumber(),"%w":h,"%x":this.toLocaleDateString(),"%X":this.toLocaleTimeString(),"%y":a,"%Y":r,"%z":this.timezone().replace(":",""),"%Z":this.timezoneName(),"%r":[y,C,x].join(":")+" "+this.ampm(),"%R":[b,C].join(":"),"%T":[b,C,x].join(":"),"%Q":k,"%q":g,"%t":this.timezone()};return s.replace(e,(function(e){return 0===A[e]||A[e]?A[e]:e}))}})}(),function(){"use strict";var e=Datetime.prototype.format;Datetime.use({utcOffset:function(){return this.value.getTimezoneOffset()},timezone:function(){return this.toTimeString().replace(/.+GMT([+-])(\d{2})(\d{2}).+/,"$1$2:$3")},timezoneName:function(){return this.toTimeString().replace(/.+\((.+?)\)$/,"$1")},format:function(t,n){t=t||Datetime.DEFAULT_FORMAT;var i={Z:this.utcMode?"Z":this.timezone(),ZZ:this.timezone().replace(":",""),ZZZ:"[GMT]"+this.timezone(),z:this.timezoneName()},s=t.replace(/(\[[^\]]+])|Z{1,3}|z/g,(function(e,t){return t||i[e]}));return e.bind(this)(s,n)}})}(),function(){"use strict";Datetime.useStatic({isToday:function(e){var t=datetime(e).align("day"),n=datetime().align("day");return t.time()===n.time()}}),Datetime.use({isToday:function(){return Datetime.isToday(this)},today:function(){var e=datetime();return this.mutable?this.val(e.val()):e}})}(),function(){"use strict";Datetime.useStatic({isTomorrow:function(e){var t=datetime(e).align("day"),n=datetime().align("day").add(1,"day");return t.time()===n.time()}}),Datetime.use({isTomorrow:function(){return Datetime.isTomorrow(this)},tomorrow:function(){return this.mutable?this.add(1,"day"):this.clone().add(1,"day")}})}(),function(){"use strict";Datetime.use({toDateString:function(){return this.value.toDateString()},toISOString:function(){return this.value.toISOString()},toJSON:function(){return this.value.toJSON()},toGMTString:function(){return this.value.toGMTString()},toLocaleDateString:function(){return this.value.toLocaleDateString()},toLocaleString:function(){return this.value.toLocaleString()},toLocaleTimeString:function(){return this.value.toLocaleTimeString()},toTimeString:function(){return this.value.toTimeString()},toUTCString:function(){return this.value.toUTCString()},toDate:function(){return new Date(this.value)}})}(),function(){"use strict";Datetime.useStatic({timestamp:function(){return(new Date).getTime()/1e3}}),Datetime.use({unix:function(e){var t;return!arguments.length||Datetime.not(e)?Math.floor(this.valueOf()/1e3):(t=1e3*e,this.mutable?this.time(t):datetime(this.value).time(t))},timestamp:function(){return this.unix()}})}(),function(){"use strict";var e=Datetime.prototype.format,t=Datetime.lpad;Datetime.use({weekNumber:function(e){var t,n,i,s,o;return e=+e||0,i=(i=(n=datetime(this.year(),0,1)).weekDay()-e)>=0?i:i+7,s=Math.floor((this.time()-n.time()-6e4*(this.utcOffset()-n.utcOffset()))/864e5)+1,i<4?(o=Math.floor((s+i-1)/7)+1)>52&&(o=(t=(t=datetime(this.year()+1,0,1).weekDay()-e)>=0?t:t+7)<4?1:53):o=Math.floor((s+i-1)/7),o},isoWeekNumber:function(){return this.weekNumber(1)},weeksInYear:function(e){return datetime(this.value).month(11).day(31).weekNumber(e)},format:function(n,i){var s,o,r=this.weekNumber(),a=this.isoWeekNumber();return n=n||Datetime.DEFAULT_FORMAT,s={W:r,WW:t(r,"0",2),WWW:a,WWWW:t(a,"0",2)},o=n.replace(/(\[[^\]]+])|W{1,4}/g,(function(e,t){return t||s[e]})),e.bind(this)(o,i)}})}(),function(){"use strict";Datetime.useStatic({isYesterday:function(e){var t=datetime(e).align("day"),n=datetime().align("day").add(-1,"day");return t.time()===n.time()}}),Datetime.use({isYesterday:function(){return Datetime.isYesterday(this)},yesterday:function(){return this.mutable?this.add(-1,"day"):this.clone().add(-1,"day")}})}(),function(){"use strict";function e(e){var t,n=Math.floor(e/1e3),i=Math.floor(n/60),s=Math.floor(i/60),o=Math.floor(s/24),r=Math.floor(o/30),a=Math.floor(r/12);return a>=1&&(t=a+" year"),r>=1&&a<1&&(t=r+" mon"),o>=1&&o<=30&&(t=o+" days"),s&&s<24&&(t=s+" hour"),i&&i>=40&&i<60&&(t="less a hour"),i&&i<40&&(t=i+" min"),n&&n>=30&&n<60&&(t=n+" sec"),n<30&&(t="few sec"),t}Datetime.useStatic({timeLapse:function(t){var n=datetime(t);return e(datetime()-n)}}),Datetime.use({timeLapse:function(){return e(datetime()-+this)}})}(),function(){"use strict";var e=Datetime.getLocale;Datetime.getLocale=function(t){var n;return Metro?(Metro.locales[t]||(t="en-US"),{months:(n=Metro.locales[t].calendar).months.filter((function(e,t){return t<12})),monthsShort:n.months.filter((function(e,t){return t>11})),weekdays:n.days.filter((function(e,t){return t<7})),weekdaysShort:n.days.filter((function(e,t){return t>13})),weekdaysMin:n.days.filter((function(e,t){return t>6&&t<14})),weekStart:n.weekStart}):(t="en",e.call(this,t))}}(),function(){"use strict";var e=function(e){return null==e},t="\\s\\uFEFF\\xA0",i="\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F",s="a-z\\xB5\\xDF-\\xF6\\xF8-\\xFF\\u0101\\u0103\\u0105\\u0107\\u0109\\u010B\\u010D\\u010F\\u0111\\u0113\\u0115\\u0117\\u0119\\u011B\\u011D\\u011F\\u0121\\u0123\\u0125\\u0127\\u0129\\u012B\\u012D\\u012F\\u0131\\u0133\\u0135\\u0137\\u0138\\u013A\\u013C\\u013E\\u0140\\u0142\\u0144\\u0146\\u0148\\u0149\\u014B\\u014D\\u014F\\u0151\\u0153\\u0155\\u0157\\u0159\\u015B\\u015D\\u015F\\u0161\\u0163\\u0165\\u0167\\u0169\\u016B\\u016D\\u016F\\u0171\\u0173\\u0175\\u0177\\u017A\\u017C\\u017E-\\u0180\\u0183\\u0185\\u0188\\u018C\\u018D\\u0192\\u0195\\u0199-\\u019B\\u019E\\u01A1\\u01A3\\u01A5\\u01A8\\u01AA\\u01AB\\u01AD\\u01B0\\u01B4\\u01B6\\u01B9\\u01BA\\u01BD-\\u01BF\\u01C6\\u01C9\\u01CC\\u01CE\\u01D0\\u01D2\\u01D4\\u01D6\\u01D8\\u01DA\\u01DC\\u01DD\\u01DF\\u01E1\\u01E3\\u01E5\\u01E7\\u01E9\\u01EB\\u01ED\\u01EF\\u01F0\\u01F3\\u01F5\\u01F9\\u01FB\\u01FD\\u01FF\\u0201\\u0203\\u0205\\u0207\\u0209\\u020B\\u020D\\u020F\\u0211\\u0213\\u0215\\u0217\\u0219\\u021B\\u021D\\u021F\\u0221\\u0223\\u0225\\u0227\\u0229\\u022B\\u022D\\u022F\\u0231\\u0233-\\u0239\\u023C\\u023F\\u0240\\u0242\\u0247\\u0249\\u024B\\u024D\\u024F",o="\\x41-\\x5a\\xc0-\\xd6\\xd8-\\xde\\u0100\\u0102\\u0104\\u0106\\u0108\\u010a\\u010c\\u010e\\u0110\\u0112\\u0114\\u0116\\u0118\\u011a\\u011c\\u011e\\u0120\\u0122\\u0124\\u0126\\u0128\\u012a\\u012c\\u012e\\u0130\\u0132\\u0134\\u0136\\u0139\\u013b\\u013d\\u013f\\u0141\\u0143\\u0145\\u0147\\u014a\\u014c\\u014e\\u0150\\u0152\\u0154\\u0156\\u0158\\u015a\\u015c\\u015e\\u0160\\u0162\\u0164\\u0166\\u0168\\u016a\\u016c\\u016e\\u0170\\u0172\\u0174\\u0176\\u0178\\u0179\\u017b\\u017d\\u0181\\u0182\\u0184\\u0186\\u0187\\u0189-\\u018b\\u018e-\\u0191\\u0193\\u0194\\u0196-\\u0198\\u019c\\u019d\\u019f\\u01a0\\u01a2\\u01a4\\u01a6\\u01a7\\u01a9\\u01ac\\u01ae\\u01af\\u01b1-\\u01b3\\u01b5\\u01b7\\u01b8\\u01bc\\u01c4\\u01c5\\u01c7\\u01c8\\u01ca\\u01cb\\u01cd\\u01cf\\u01d1\\u01d3\\u01d5\\u01d7\\u01d9\\u01db\\u01de\\u01e0\\u01e2\\u01e4\\u01e6\\u01e8\\u01ea\\u01ec\\u01ee\\u01f1\\u01f2\\u01f4\\u01f6-\\u01f8\\u01fa\\u01fc\\u01fe\\u0200\\u0202\\u0204\\u0206\\u0208\\u020a\\u020c\\u020e\\u0210\\u0212\\u0214\\u0216\\u0218\\u021a\\u021c\\u021e\\u0220\\u0222\\u0224\\u0226\\u0228\\u022a\\u022c\\u022e\\u0230\\u0232\\u023a\\u023b\\u023d\\u023e\\u0241\\u0243-\\u0246\\u0248\\u024a\\u024c\\u024e",r=new RegExp("^["+t+"]+"),a=new RegExp("["+t+"]+$"),l=new RegExp("^\\d+$"),c=/[<>&"'`]/g,h=/(<([^>]+)>)/gi,u=new RegExp("(?:["+o+"]["+i+"]*)?(?:["+s+"]["+i+"]*)+|(?:["+o+"]["+i+"]*)+(?!["+s+"])|[\\d]+|[\\u2700-\\u27BF]|[^\\x00-\\x2F\\x3A-\\x40\\x5B-\\x60\\x7b-\\xBF\\xD7\\xF7\\u2000-\\u206F"+t+"]+","g"),d=/[A-Z\xC0-\xD6\xD8-\xDE]?[a-z\xDF-\xF6\xF8-\xFF]+|[A-Z\xC0-\xD6\xD8-\xDE]+(?![a-z\xDF-\xF6\xF8-\xFF])|\d+/g,p=new RegExp("^(?:["+s+o+"]["+i+"]*)+$"),f=new RegExp("^((?:["+s+o+"]["+i+"]*)|[\\d])+$"),g=/^[\x01-\xFF]*$/;function m(t,n){return e(t)?n:t}function v(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e(t)?n:"string"==typeof t?t:Array.isArray(t)?t.join(""):JSON.stringify(t)}function w(t,n,i){var s;return s=e(n)?g.test(t)?d:u:n instanceof RegExp?n:new RegExp(n,m(i,"")),m(v(t).match(s),[])}function b(e,t){var n=v(e),i=n.substr(1);return n.substr(0,1).toUpperCase()+(t?i.toLowerCase():i)}function y(e){return v(e).toLowerCase()}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return v(e).split("").filter((function(e){return!t.includes(e)}))}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function A(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var E=function(e,t){var n=t.toLowerCase(),i=t.toUpperCase();return e+(t===n?i:n)};function $(e){for(var t=A(e),n=0;n<t.length;++n)for(var i=n+1;i<t.length;++i)t[n]===t[i]&&t.splice(i--,1);return t}var L={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#x27;","`":"&#x60;"};function M(e){return L[e]}var R={"<":/(&lt;)|(&#x0*3c;)|(&#0*60;)/gi,">":/(&gt;)|(&#x0*3e;)|(&#0*62;)/gi,"&":/(&amp;)|(&#x0*26;)|(&#0*38;)/gi,'"':/(&quot;)|(&#x0*22;)|(&#0*34;)/gi,"'":/(&#x0*27;)|(&#0*39;)/gi,"`":/(&#x0*60;)|(&#0*96;)/gi},I=Object.keys(R);function O(e,t){return e.replace(R[t],t)}function D(e,t,n){return v(e).substr(t,n)}var P=9007199254740991;function B(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:P;return e<t?t:e>n?n:e}function F(e){return e===1/0?P:e===-1/0?-9007199254740991:~~e}function N(t,n){var i=v(t),s=e(n)||isNaN(n)?i.length:B(F(n),0,P),o=i;if(0===n)return"";for(var r=0;r<s-1;r++)i+=o;return i}function H(e,t){return N(e,t-e.length+1).substr(0,t)}var z=function(t,n,i,s){var o=v(t),r=e(n)||isNaN(n)?o.length:B(F(n),0,P),a=i.length,l=r-o.length;if(l<=0||0===a)return o;var c=H(i,l);return s?c+o:o+c},W=Array.prototype.reduce,V=Array.prototype.reduceRight;function U(e,t){return G(j(e,t),t)}function G(t,n){var i=v(t);if(e(n))return i.replace(r,"");if(""===n||""===i)return i;"string"!=typeof n&&(n="");var s=!0;return W.call(i,(function(e,t){return s&&n.includes(t)?e:(s=!1,e+t)}),"")}function j(t,n){var i=v(t);if(e(n))return i.replace(a,"");if(""===n||""===i)return i;"string"!=typeof n&&(n="");var s=!0;return V.call(i,(function(e,t){return s&&n.includes(t)?e:(s=!1,t+e)}),"")}var K={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[+-]/};function q(e,t){for(var n,i,s,o,r,a,l,c=1,h=e.length,u="",d=0;d<h;d++)if("string"==typeof e[d])u+=e[d];else if("object"===x(e[d])){if((i=e[d]).keys){n=t[c];for(var p=0;p<i.keys.length;p++){if(void 0===n)throw new Error(Z('[sprintf] Cannot access property "%s" of undefined value "%s"',i.keys[p],i.keys[p-1]));n=n[i.keys[p]]}}else n=i.param_no?t[i.param_no]:t[c++];if(K.not_type.test(i.type)&&K.not_primitive.test(i.type)&&n instanceof Function&&(n=n()),K.numeric_arg.test(i.type)&&"number"!=typeof n&&isNaN(n))throw new TypeError(Z("[sprintf] expecting number but found %T",n));switch(K.number.test(i.type)&&(a=n>=0),i.type){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,i.width?parseInt(i.width):0);break;case"e":n=i.precision?parseFloat(n).toExponential(i.precision):parseFloat(n).toExponential();break;case"f":n=i.precision?parseFloat(n).toFixed(i.precision):parseFloat(n);break;case"g":n=i.precision?String(Number(n.toPrecision(i.precision))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=i.precision?n.substring(0,i.precision):n;break;case"t":n=String(!!n),n=i.precision?n.substring(0,i.precision):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=i.precision?n.substring(0,i.precision):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=i.precision?n.substring(0,i.precision):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}K.json.test(i.type)?u+=n:(!K.number.test(i.type)||a&&!i.sign?l="":(l=a?"+":"-",n=n.toString().replace(K.sign,"")),o=i.pad_char?"0"===i.pad_char?"0":i.pad_char.charAt(1):" ",r=i.width-(l+n).length,s=i.width&&r>0?o.repeat(r):"",u+=i.align?l+n+s:"0"===o?l+s+n:s+l+n)}return u}var Y=Object.create(null);function X(e){if(Y[e])return Y[e];for(var t,n=e,i=[],s=0;n;){if(null!==(t=K.text.exec(n)))i.push(t[0]);else if(null!==(t=K.modulo.exec(n)))i.push("%");else{if(null===(t=K.placeholder.exec(n)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){s|=1;var o=[],r=t[2],a=[];if(null===(a=K.key.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(a[1]);""!==(r=r.substring(a[0].length));)if(null!==(a=K.key_access.exec(r)))o.push(a[1]);else{if(null===(a=K.index_access.exec(r)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(a[1])}t[2]=o}else s|=2;if(3===s)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");i.push({placeholder:t[0],param_no:t[1],keys:t[2],sign:t[3],pad_char:t[4],align:t[5],width:t[6],precision:t[7],type:t[8]})}n=n.substring(t[0].length)}return Y[e]=i}function Z(e){return q(X(e),arguments)}var J,Q,ee={camelCase:function(e){return w(v(e)).map((function(e,t){return 0===t?e.toLowerCase():b(e)})).join("")},capitalize:b,chars:C,count:function(e){return v(e).length},countChars:function(e,t){return C(e,t).length},countUniqueChars:function(e,t){return $(C(e,t)).length},countSubstr:function(e,t){var n=v(e),i=v(t);return""===n||""===i?0:n.split(i).length-1},countWords:function(e,t,n){return w(e,t,n).length},countUniqueWords:function(e,t,n){return $(w(e,t,n)).length},dashedName:function(e){return w(v(e)).map((function(e){return e.toLowerCase()})).join("-")},decapitalize:function(e){var t=v(e);return t.substr(0,1).toLowerCase()+t.substr(1)},kebab:function(e){return w(v(e)).map((function(e){return e.toLowerCase()})).join("-")},lower:y,reverse:function(e,t){return C(v(e),t).reverse().join("")},shuffle:function(e){return function(e){for(var t,n,i=A(e),s=i.length;0!==s;)n=Math.floor(Math.random()*s),t=i[s-=1],i[s]=i[n],i[n]=t;return i}(v(e).split("")).join("")},snake:function(e){return w(v(e)).map((function(e){return e.toLowerCase()})).join("_")},swap:function(e){return v(e).split("").reduce(E,"")},title:function(t,n){var i=v(t),s=g.test(i)?d:u,o=Array.isArray(n)?n:e(n)?[]:n.split();return t.replace(s,(function(e,t){return t&&o.includes(i[t-1])?y(e):b(e)}))},upper:function(e){return v(e).toUpperCase()},words:w,wrap:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t+v(e)+n},wrapTag:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div";return"<".concat(t,">").concat(v(e),"</").concat(t,">")},escapeHtml:function(e){return v(e).replace(c,M)},unescapeHtml:function(e){return I.reduce(O,v(e))},unique:function(e,t){return $(C(e,t)).join("")},uniqueWords:function(e,t,n){return $(w(e,t,n)).join("")},substr:D,first:function(e,t){var n=v(e);return n?D(n,0,t):""},last:function(e,t){var n=v(e);return n?D(n,n.length-t):""},truncate:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...",s=v(t),o=e(n)||isNaN(n)?s.length:B(F(n),0,P);return D(s,0,o)+(s.length===o?"":i)},slice:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=v(e),i=[],s=Math.round(n.length/t),o=0;o<t;o++)i.push(D(n,o*s,s));return i},prune:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",s=v(t),o=e(n)||isNaN(n)?s.length:B(F(n),0,P),r=0,a=g.test(s)?d:u;return s.replace(a,(function(e,t){var n=t+e.length;n<=o-i.length&&(r=n)})),s.substr(0,r)+i},repeat:N,pad:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ",s=v(t),o=e(n)||isNaN(n)?s.length:B(F(n),0,P),r=i.length,a=o-s.length,l=F(a/2),c=a%2;return a<=0||0===r?s:H(i,l)+s+H(i,l+c)},lpad:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return z(e,t,n,!0)},rpad:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:" ";return z(e,t,n,!1)},insert:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=v(e);return i.substr(0,n)+t+i.substr(n)},trim:U,ltrim:G,rtrim:j,endsWith:function(e,t,n){return v(e).endsWith(t,n)},isAlpha:function(e){return p.test(v(e))},isAlphaDigit:function(e){return f.test(v(e))},isDigit:function(e){return l.test(v(e))},isBlank:function(e){return 0===U(e).length},isEmpty:function(e){return 0===v(e).length},isLower:function(e){var t=v(e);return t.toLowerCase()===t},isUpper:function(e){var t=v(e);return t.toUpperCase()===t},startWith:function(e,t,n){return v(e).startsWith(t,n)},stripTags:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=v(e),i=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi;return n.replace(i,(function(e,n){return t.includes(n)?e:""}))},stripTagsAll:function(e){return v(e).replace(h,"")},sprintf:Z,vsprintf:function(e,t){return Z.apply(null,[e].concat(t||[]))},includes:function(e,t,n){return v(e).includes(t,n)}},te=null;J=Symbol.toPrimitive,Q=Symbol.toStringTag;var ne=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";k(this,e),_(this,"_value",void 0),this._value=""+t}var t,n;return t=e,n=[{key:J,value:function(e){return"number"===e?+this.value:this.value}},{key:"toString",value:function(){return this.value}},{key:"escapeHtml",value:function(){return this.value=ee.escapeHtml(this.value),this}},{key:"unescapeHtml",value:function(){return this.value=ee.unescapeHtml(this.value),this}},{key:"camelCase",value:function(){return this.value=ee.camelCase(this.value),this}},{key:"capitalize",value:function(e){return this.value=ee.capitalize(this.value,e),this}},{key:"chars",value:function(){return ee.chars(this.value)}},{key:"count",value:function(){return ee.count(this.value)}},{key:"countChars",value:function(e){return ee.countChars(this.value,e)}},{key:"countUniqueChars",value:function(e){return ee.countUniqueChars(this.value,e)}},{key:"countSubstr",value:function(e){return ee.countSubstr(this.value,e)}},{key:"countWords",value:function(e,t){return ee.countWords(this.value,e,t)}},{key:"countUniqueWords",value:function(e,t){return ee.countUniqueWords(this.value,e,t)}},{key:"dashedName",value:function(){return this.value=ee.dashedName(this.value),this}},{key:"decapitalize",value:function(){return this.value=ee.decapitalize(this.value),this}},{key:"kebab",value:function(){return this.value=ee.kebab(this.value),this}},{key:"lower",value:function(){return this.value=ee.lower(this.value),this}},{key:"reverse",value:function(){return this.value=ee.reverse(this.value),this}},{key:"shuffle",value:function(){return this.value=ee.shuffle(this.value),this}},{key:"snake",value:function(){return this.value=ee.snake(this.value),this}},{key:"swap",value:function(){return this.value=ee.swap(this.value),this}},{key:"title",value:function(){return this.value=ee.title(this.value),this}},{key:"upper",value:function(){return this.value=ee.upper(this.value),this}},{key:"words",value:function(e,t){return ee.words(this.value,e,t)}},{key:"wrap",value:function(e,t){return this.value=ee.wrap(this.value,e,t),this}},{key:"wrapTag",value:function(e){return this.value=ee.wrapTag(this.value,e),this}},{key:"pad",value:function(e,t){return this.value=ee.pad(this.value,e,t),this}},{key:"lpad",value:function(e,t){return this.value=ee.lpad(this.value,e,t),this}},{key:"rpad",value:function(e,t){return this.value=ee.rpad(this.value,e,t),this}},{key:"repeat",value:function(e){return this.value=ee.repeat(this.value,e),this}},{key:"prune",value:function(e,t){return this.value=ee.prune(this.value,e,t),this}},{key:"slice",value:function(e){return ee.slice(this.value,e)}},{key:"truncate",value:function(e,t){return this.value=ee.truncate(this.value,e,t),this}},{key:"last",value:function(e){return this.value=ee.last(this.value,e),this}},{key:"first",value:function(e){return this.value=ee.first(this.value,e),this}},{key:"substr",value:function(e,t){return this.value=ee.substr(this.value,e,t),this}},{key:"unique",value:function(e){return ee.unique(this.value,e)}},{key:"uniqueWords",value:function(e,t){return ee.uniqueWords(this.value,e,t)}},{key:"insert",value:function(e,t){return this.value=ee.insert(this.value,e,t),this}},{key:"trim",value:function(e){return this.value=ee.trim(this.value,e),this}},{key:"ltrim",value:function(e){return this.value=ee.ltrim(this.value,e),this}},{key:"rtrim",value:function(e){return this.value=ee.rtrim(this.value,e),this}},{key:"endsWith",value:function(e,t){return ee.endsWith(this.value,e,t)}},{key:"startWith",value:function(e,t){return ee.startWith(this.value,e,t)}},{key:"isAlpha",value:function(){return ee.isAlpha(this.value)}},{key:"isAlphaDigit",value:function(){return ee.isAlphaDigit(this.value)}},{key:"isDigit",value:function(){return ee.isDigit(this.value)}},{key:"isBlank",value:function(){return ee.isBlank(this.value)}},{key:"isEmpty",value:function(){return ee.isEmpty(this.value)}},{key:"isLower",value:function(){return ee.isLower(this.value)}},{key:"isUpper",value:function(){return ee.isUpper(this.value)}},{key:"stripTagsAll",value:function(){return this.value=ee.stripTagsAll(this.value),this}},{key:"stripTags",value:function(e){return this.value=ee.stripTags(this.value,e),this}},{key:"sprintf",value:function(e){return ee.sprintf(this.value,e)}},{key:"vsprintf",value:function(e){return ee.vsprintf(this.value,e)}},{key:"includes",value:function(e,t){return ee.includes(this.value,e,t)}},{key:Q,get:function(){return"Cake"}},{key:"value",get:function(){return this._value},set:function(e){this._value=e}},{key:"length",get:function(){return this._value.length}}],n&&S(t.prototype,n),e}(),ie=Object.assign({},ee),se=null!==te?te:te="object"===(void 0===n.g?"undefined":x(n.g))&&n.g.Object===Object?n.g:"object"===("undefined"==typeof self?"undefined":x(self))&&self.Object===Object?self:new Function("return this")();se.Cake=ie,se.cake=function(e){return new ne(e)}}(),function(e,t){"use strict";var n=["opacity","zIndex","order","zoom"];function i(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function s(e){return e===t||null===e}function o(e){return e.replace(/-([a-z])/g,(function(e,t){return t.toUpperCase()}))}function r(e){var n;return!(!e||"[object Object]"!==Object.prototype.toString.call(e))&&(!(n=e.prototype!==t)||n.constructor&&"function"==typeof n.constructor)}function a(e){for(var t in e)if(m(e,t))return!1;return!0}function l(e){return e instanceof Object&&"length"in e}function c(e,t){return t=t||" ",e.split(t).map((function(e){return(""+e).trim()})).filter((function(e){return""!==e}))}function h(e,t){return t||(t=[0,""]),e=String(e),t[0]=parseFloat(e),t[1]=e.match(/[\d.\-+]*\s*(.*)/)[1]||"",t}function u(e,t){var n=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);return void 0!==n[1]?n[1]:t}function d(e,t,i){t=o(t),["scrollLeft","scrollTop"].indexOf(t)>-1?e[t]=parseInt(i):e.style[t]=isNaN(i)||n.indexOf(""+t)>-1?i:i+"px"}function p(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function f(e,n,i){var o;return s(i)&&1===e.nodeType&&(o="data-"+n.replace(/[A-Z]/g,"-$&").toLowerCase(),"string"==typeof(i=e.getAttribute(o))?(i=function(e){try{return JSON.parse(e)}catch(t){return e}}(i),S.set(e,n,i)):i=t),i}function g(e){return"string"!=typeof e?t:e.replace(/-/g,"").toLowerCase()}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e){var t=e||window.location.hostname;return"localhost"===t||"127.0.0.1"===t||"[::1]"===t||""===t||null!==t.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)}!function(e){if(!e.setImmediate){var n,i,s,o=1,r={},a=!1,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,"[object process]"==={}.toString.call(e.process)?n=function(t){e.process.nextTick((function(){h(t)}))}:e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){h(e.data)},n=function(e){s.port2.postMessage(e)}):(i="setImmediate$"+Math.random()+"$",e.addEventListener("message",(function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(i)&&h(+t.data.slice(i.length))}),!1),n=function(t){e.postMessage(i+t,"*")}),l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];return r[o]={callback:e,args:t},n(o),o++},l.clearImmediate=c}function c(e){delete r[e]}function h(e){if(a)setTimeout(h,0,e);else{var n=r[e];if(n){a=!0;try{!function(e){var n=e.callback,i=e.args;switch(i.length){case 0:n();break;case 1:n(i[0]);break;case 2:n(i[0],i[1]);break;case 3:n(i[0],i[1],i[2]);break;default:n.apply(t,i)}}(n)}finally{c(e),a=!1}}}}}("undefined"==typeof self?void 0===e?window:e:self);var w="v1.1.0. Built at 05/05/2021 22:47:56",b=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector,y=function(e,t){return new y.init(e,t)};y.version=w,y.fn=y.prototype={version:w,constructor:y,length:0,uid:"",push:[].push,sort:[].sort,splice:[].splice,indexOf:[].indexOf,reverse:[].reverse},y.extend=y.fn.extend=function(){var e,t,n=arguments[0]||{},i=1,s=arguments.length;for("object"!=typeof n&&"function"!=typeof n&&(n={}),i===s&&(n=this,i--);i<s;i++)if(null!=(e=arguments[i]))for(t in e)m(e,t)&&(n[t]=e[t]);return n},y.assign=function(){var e,n,i=arguments[0]||{},s=1,o=arguments.length;for("object"!=typeof i&&"function"!=typeof i&&(i={}),s===o&&(i=this,s--);s<o;s++)if(null!=(e=arguments[s]))for(n in e)m(e,n)&&e[n]!==t&&(i[n]=e[n]);return i};var C=function(){return Date.now()};function x(e){var t=document.createElement("script");if(t.type="text/javascript",s(e))return y(t);var n=y(e)[0];return n.src?t.src=n.src:t.textContent=n.innerText,document.body.appendChild(t),n.parentNode&&n.parentNode.removeChild(n),t}y.extend({intervalId:-1,intervalQueue:[],intervalTicking:!1,intervalTickId:null,setInterval:function(e,t){var n=this;if(this.intervalId++,this.intervalQueue.push({id:this.intervalId,fn:e,interval:t,lastTime:C()}),!this.intervalTicking){var i=function(){n.intervalTickId=requestAnimationFrame(i),y.each(n.intervalQueue,(function(){var e=this;(e.interval<17||C()-e.lastTime>=e.interval)&&(e.fn(),e.lastTime=C())}))};this.intervalTicking=!0,i()}return this.intervalId},clearInterval:function(e){for(var t=0;t<this.intervalQueue.length;t++)if(e===this.intervalQueue[t].id){this.intervalQueue.splice(t,1);break}0===this.intervalQueue.length&&(cancelAnimationFrame(this.intervalTickId),this.intervalTicking=!1)},setTimeout:function(e,t){var n=this,i=this.setInterval((function(){n.clearInterval(i),e()}),t);return i},clearTimeout:function(e){return this.clearInterval(e)}}),y.fn.extend({index:function(e){var n,i=-1;return 0===this.length||(n=s(e)?this[0]:e instanceof y&&e.length>0?e[0]:"string"==typeof e?y(e)[0]:t,s(n)||n&&n.parentNode&&y.each(n.parentNode.children,(function(e){this===n&&(i=e)}))),i},get:function(e){return e===t?this.items():e<0?this[e+this.length]:this[e]},eq:function(e){return!s(e)&&this.length>0?y.extend(y(this.get(e)),{_prevObj:this}):this},is:function(e){var t=!1;return 0!==this.length&&(e instanceof y?this.same(e):(":selected"===e?this.each((function(){this.selected&&(t=!0)})):":checked"===e?this.each((function(){this.checked&&(t=!0)})):":visible"===e?this.each((function(){i(this)&&(t=!0)})):":hidden"===e?this.each((function(){var e=getComputedStyle(this);("hidden"===this.getAttribute("type")||this.hidden||"none"===e.display||"hidden"===e.visibility||0===parseInt(e.opacity))&&(t=!0)})):"string"==typeof e&&-1===[":selected"].indexOf(e)?this.each((function(){b.call(this,e)&&(t=!0)})):l(e)?this.each((function(){var n=this;y.each(e,(function(){n===this&&(t=!0)}))})):"object"==typeof e&&1===e.nodeType&&this.each((function(){this===e&&(t=!0)})),t))},same:function(e){var t=!0;return e instanceof y||(e=y(e)),this.length===e.length&&(this.each((function(){-1===e.items().indexOf(this)&&(t=!1)})),t)},last:function(){return this.eq(this.length-1)},first:function(){return this.eq(0)},odd:function(){var e=this.filter((function(e,t){return t%2==0}));return y.extend(e,{_prevObj:this})},even:function(){var e=this.filter((function(e,t){return t%2!=0}));return y.extend(e,{_prevObj:this})},filter:function(e){if("string"==typeof e){var t=e;e=function(e){return b.call(e,t)}}return y.extend(y.merge(y(),[].filter.call(this,e)),{_prevObj:this})},find:function(e){var t,n=[];return e instanceof y?e:(0===this.length?t=this:(this.each((function(){void 0!==this.querySelectorAll&&(n=n.concat([].slice.call(this.querySelectorAll(e))))})),t=y.merge(y(),n)),y.extend(t,{_prevObj:this}))},contains:function(e){return this.find(e).length>0},children:function(e){var t,n=[];return e instanceof y?e:(this.each((function(){var e=this;for(t=0;t<e.children.length;t++)1===e.children[t].nodeType&&n.push(e.children[t])})),n=e?n.filter((function(t){return b.call(t,e)})):n,y.extend(y.merge(y(),n),{_prevObj:this}))},parent:function(e){var t=[];if(0!==this.length)return e instanceof y?e:(this.each((function(){this.parentNode&&-1===t.indexOf(this.parentNode)&&t.push(this.parentNode)})),t=e?t.filter((function(t){return b.call(t,e)})):t,y.extend(y.merge(y(),t),{_prevObj:this}))},parents:function(e){var t=[];if(0!==this.length)return e instanceof y?e:(this.each((function(){for(var n=this.parentNode;n;)1===n.nodeType&&-1===t.indexOf(n)&&(s(e)||b.call(n,e))&&t.push(n),n=n.parentNode})),y.extend(y.merge(y(),t),{_prevObj:this}))},siblings:function(e){var t=[];if(0!==this.length)return e instanceof y?e:(this.each((function(){var e=this;e.parentNode&&y.each(e.parentNode.children,(function(){e!==this&&t.push(this)}))})),e&&(t=t.filter((function(t){return b.call(t,e)}))),y.extend(y.merge(y(),t),{_prevObj:this}))},_siblingAll:function(e,t){var n=[];if(0!==this.length)return t instanceof y?t:(this.each((function(){for(var t=this;t&&(t=t[e]);)n.push(t)})),t&&(n=n.filter((function(e){return b.call(e,t)}))),y.extend(y.merge(y(),n),{_prevObj:this}))},_sibling:function(e,t){var n=[];if(0!==this.length)return t instanceof y?t:(this.each((function(){var t=this[e];t&&1===t.nodeType&&n.push(t)})),t&&(n=n.filter((function(e){return b.call(e,t)}))),y.extend(y.merge(y(),n),{_prevObj:this}))},prev:function(e){return this._sibling("previousElementSibling",e)},next:function(e){return this._sibling("nextElementSibling",e)},prevAll:function(e){return this._siblingAll("previousElementSibling",e)},nextAll:function(e){return this._siblingAll("nextElementSibling",e)},closest:function(e){var t=[];if(0!==this.length)return e instanceof y?e:e?(this.each((function(){for(var n=this;n&&n;){if(b.call(n,e))return void t.push(n);n=n.parentElement}})),y.extend(y.merge(y(),t.reverse()),{_prevObj:this})):this.parent(e)},has:function(e){var t=[];if(0!==this.length)return this.each((function(){y(this).children(e).length>0&&t.push(this)})),y.extend(y.merge(y(),t),{_prevObj:this})},back:function(e){var t;if(!0===e)for(t=this._prevObj;t&&t._prevObj;)t=t._prevObj;else t=this._prevObj?this._prevObj:this;return t}}),y.extend({script:function(e){if(s(e))return x();var t=y(e)[0];t.tagName&&"SCRIPT"===t.tagName?x(t):y.each(y(t).find("script"),(function(){x(this)}))}}),y.fn.extend({script:function(){return this.each((function(){y.script(this)}))}}),y.fn.extend({_prop:function(e,n){return 1===arguments.length?0===this.length?t:this[0][e]:(s(n)&&(n=""),this.each((function(){this[e]=n,"innerHTML"===e&&y.script(this)})))},prop:function(e,t){return 1===arguments.length?this._prop(e):this._prop(e,void 0===t?"":t)},val:function(e){return s(e)?0===this.length?t:this[0].value:this.each((function(){var t=y(this);void 0!==this.value?this.value=e:t.html(e)}))},html:function(e){var t=this,n=[];return 0===arguments.length?this._prop("innerHTML"):(e instanceof y?e.each((function(){n.push(y(this).outerHTML())})):n.push(e),t._prop("innerHTML",1===n.length&&s(n[0])?"":n.join("\n")),this)},outerHTML:function(){return this._prop("outerHTML")},text:function(e){return 0===arguments.length?this._prop("textContent"):this._prop("textContent",void 0===e?"":e)},innerText:function(e){return 0===arguments.length?this._prop("innerText"):this._prop("innerText",void 0===e?"":e)},empty:function(){return this.each((function(){void 0!==this.innerHTML&&(this.innerHTML="")}))},clear:function(){return this.empty()}}),y.each=function(e,t){var n=0;if(l(e))[].forEach.call(e,(function(e,n){t.apply(e,[n,e])}));else for(var i in e)m(e,i)&&t.apply(e[i],[i,e[i],n++]);return e},y.fn.extend({each:function(e){return y.each(this,e)}});var k=function(e){this.expando="DATASET:UID:"+e.toUpperCase(),k.uid++};k.uid=-1,k.prototype={cache:function(e){var t=e[this.expando];return t||(t={},p(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,s=this.cache(e);if("string"==typeof t)s[o(t)]=n;else for(i in t)m(t,i)&&(s[o(i)]=t[i]);return s},get:function(e,n){return n===t?this.cache(e):e[this.expando]&&e[this.expando][o(n)]},access:function(e,n,i){return n===t||n&&"string"==typeof n&&i===t?this.get(e,n):(this.set(e,n,i),i!==t?i:n)},remove:function(e,n){var i,s=e[this.expando];if(s!==t){if(n!==t){i=(n=Array.isArray(n)?n.map(o):(n=o(n))in s?[n]:n.match(/[^\x20\t\r\n\f]+/g)||[]).length;for(;i--;)delete s[n[i]]}return(n===t||a(s))&&(e.nodeType?e[this.expando]=t:delete e[this.expando]),!0}},hasData:function(e){var n=e[this.expando];return n!==t&&!a(n)}};var S=new k("m4q");y.extend({hasData:function(e){return S.hasData(e)},data:function(e,t,n){return S.access(e,t,n)},removeData:function(e,t){return S.remove(e,t)},dataSet:function(e){if(s(e))return S;if(["INTERNAL","M4Q"].indexOf(e.toUpperCase())>-1)throw Error("You can not use reserved name for your dataset");return new k(e)}}),y.fn.extend({data:function(e,n){var i,s,r,a,l,c;if(0!==this.length){if(s=this[0],0===arguments.length){if(this.length&&(r=S.get(s),1===s.nodeType))for(c=(a=s.attributes).length;c--;)a[c]&&0===(l=a[c].name).indexOf("data-")&&f(s,l=o(l.slice(5)),r[l]);return r}return 1===arguments.length?((i=S.get(s,e))===t&&1===s.nodeType&&s.hasAttribute("data-"+e)&&(i=s.getAttribute("data-"+e)),i):this.each((function(){S.set(this,e,n)}))}},removeData:function(e){return this.each((function(){S.remove(this,e)}))},origin:function(e,t,n){if(0===this.length)return this;if(s(e)&&s(t))return y.data(this[0]);if(s(t)){var i=y.data(this[0],"origin-"+e);return s(i)?n:i}return this.data("origin-"+e,t),this}}),y.extend({device:/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()),localhost:v(),isLocalhost:v,touchable:"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,dark:window.matchMedia("(prefers-color-scheme: dark)").matches,uniqueId:function(e){var t=(new Date).getTime();return s(e)&&(e="m4q"),(""!==e?e+"-":"")+"xxxx-xxxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))},toArray:function(e){var t,n=[];for(t=0;t<e.length;t++)n.push(e[t]);return n},import:function(e){var t=[];return this.each(e,(function(){t.push(this)})),this.merge(y(),t)},merge:function(e,t){for(var n=+t.length,i=0,s=e.length;i<n;i++)e[s++]=t[i];return e.length=s,e},type:function(e){return Object.prototype.toString.call(e).replace(/^\[object (.+)]$/,"$1").toLowerCase()},sleep:function(e){for(e+=(new Date).getTime();new Date<e;);},isSelector:function(e){if("string"!=typeof e)return!1;try{document.querySelector(e)}catch(e){return!1}return!0},remove:function(e){return y(e).remove()},camelCase:o,dashedName:function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))},isPlainObject:r,isEmptyObject:a,isArrayLike:l,acceptData:p,not:s,parseUnit:h,getUnit:u,unit:h,isVisible:i,isHidden:function(e){var t=getComputedStyle(e);return!i(e)||0==+t.opacity||e.hidden||"hidden"===t.visibility},matches:function(e,t){return b.call(e,t)},random:function(e,t){return 1===arguments.length&&l(e)?e[Math.floor(Math.random()*e.length)]:Math.floor(Math.random()*(t-e+1)+e)},strip:function(e,n){return"string"!=typeof e?t:e.replace(n,"")},normName:g,hasProp:m,serializeToArray:function(e){var t=y(e)[0];if(t&&"FORM"===t.nodeName){var n,i,s=[];for(n=t.elements.length-1;n>=0;n-=1)if(""!==t.elements[n].name)switch(t.elements[n].nodeName){case"INPUT":switch(t.elements[n].type){case"checkbox":case"radio":t.elements[n].checked&&s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"file":break;default:s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}break;case"TEXTAREA":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"SELECT":switch(t.elements[n].type){case"select-one":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value));break;case"select-multiple":for(i=t.elements[n].options.length-1;i>=0;i-=1)t.elements[n].options[i].selected&&s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].options[i].value))}break;case"BUTTON":switch(t.elements[n].type){case"reset":case"submit":case"button":s.push(t.elements[n].name+"="+encodeURIComponent(t.elements[n].value))}}return s}console.warn("Element is not a HTMLFromElement")},serialize:function(e){return y.serializeToArray(e).join("&")}}),y.fn.extend({items:function(){return y.toArray(this)}});var _=Event.prototype.stopPropagation,A=Event.prototype.preventDefault;Event.prototype.stopPropagation=function(){this.isPropagationStopped=!0,_.apply(this,arguments)},Event.prototype.preventDefault=function(){this.isPreventedDefault=!0,A.apply(this,arguments)},Event.prototype.stop=function(e){return e?this.stopImmediatePropagation():this.stopPropagation()},y.extend({events:[],eventHooks:{},eventUID:-1,setEventHandler:function(e){var t,n,i,s=-1;if(this.events.length>0)for(t=0;t<this.events.length;t++)if(null===this.events[t].handler){s=t;break}return n={element:e.el,event:e.event,handler:e.handler,selector:e.selector,ns:e.ns,id:e.id,options:e.options},-1===s?(this.events.push(n),i=this.events.length-1):(this.events[s]=n,i=s),i},getEventHandler:function(e){return this.events[e]!==t&&null!==this.events[e]?(this.events[e]=null,this.events[e].handler):t},off:function(){return y.each(this.events,(function(){this.element.removeEventListener(this.event,this.handler,!0)})),this.events=[],this},getEvents:function(){return this.events},getEventHooks:function(){return this.eventHooks},addEventHook:function(e,t,n){return s(n)&&(n="before"),y.each(c(e),(function(){this.eventHooks[o(n+"-"+this)]=t})),this},removeEventHook:function(e,t){return s(t)&&(t="before"),y.each(c(e),(function(){delete this.eventHooks[o(t+"-"+this)]})),this},removeEventHooks:function(e){var t=this;return s(e)?this.eventHooks={}:y.each(c(e),(function(){delete t.eventHooks[o("before-"+this)],delete t.eventHooks[o("after-"+this)]})),this}}),y.fn.extend({on:function(e,n,i,s){if(0!==this.length)return"function"==typeof n&&(s=i,i=n,n=t),r(s)||(s={}),this.each((function(){var t=this;y.each(c(e),(function(){var e,r,l,c=this.split("."),h=g(c[0]),u=s.ns?s.ns:c[1];y.eventUID++,e=function(e){var a=e.target,l=y.eventHooks[o("before-"+h)],c=y.eventHooks[o("after-"+h)];if("function"==typeof l&&l.call(a,e),n)for(;a&&a!==t;){if(b.call(a,n)&&(i.call(a,e),e.isPropagationStopped)){e.stopImmediatePropagation();break}a=a.parentNode}else i.call(t,e);"function"==typeof c&&c.call(a,e),s.once&&(r=+y(t).origin("event-"+e.type+(n?":"+n:"")+(u?":"+u:"")),isNaN(r)||y.events.splice(r,1))},Object.defineProperty(e,"name",{value:i.name&&""!==i.name?i.name:"func_event_"+h+"_"+y.eventUID}),l=h+(n?":"+n:"")+(u?":"+u:""),t.addEventListener(h,e,!a(s)&&s),r=y.setEventHandler({el:t,event:h,handler:e,selector:n,ns:u,id:y.eventUID,options:!a(s)&&s}),y(t).origin("event-"+l,r)}))}))},one:function(e,t,n,i){return r(i)||(i={}),i.once=!0,this.on.apply(this,[e,t,n,i])},off:function(e,n,i){return r(n)&&(i=n,n=null),r(i)||(i={}),s(e)||"all"===e.toLowerCase()?this.each((function(){var e=this;y.each(y.events,(function(){var t=this;t.element===e&&(e.removeEventListener(t.event,t.handler,t.options),t.handler=null,y(e).origin("event-"+name+(t.selector?":"+t.selector:"")+(t.ns?":"+t.ns:""),null))}))})):this.each((function(){var s=this;y.each(c(e),(function(){var e,o,r=this.split("."),a=g(r[0]),l=i.ns?i.ns:r[1];e="event-"+a+(n?":"+n:"")+(l?":"+l:""),(o=y(s).origin(e))!==t&&y.events[o].handler&&(s.removeEventListener(a,y.events[o].handler,y.events[o].options),y.events[o].handler=null),y(s).origin(e,null)}))}))},trigger:function(e,t){return this.fire(e,t)},fire:function(e,t){var n,i;if(0!==this.length)return n=g(e),["focus","blur"].indexOf(n)>-1?(this[0][n](),this):("undefined"!=typeof CustomEvent?i=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t}):((i=document.createEvent("Events")).detail=t,i.initEvent(n,!0,!0)),this.each((function(){this.dispatchEvent(i)})))}}),"blur focus resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu touchstart touchend touchmove touchcancel".split(" ").forEach((function(e){y.fn[e]=function(t,n,i){return arguments.length>0?this.on(e,t,n,i):this.fire(e)}})),y.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),y.ready=function(e,t){document.addEventListener("DOMContentLoaded",e,t||!1)},y.load=function(e){return y(window).on("load",e)},y.unload=function(e){return y(window).on("unload",e)},y.fn.extend({unload:function(e){return 0===this.length||this[0].self!==window?t:y.unload(e)}}),y.beforeunload=function(e){return"string"==typeof e?y(window).on("beforeunload",(function(t){return t.returnValue=e,e})):y(window).on("beforeunload",e)},y.fn.extend({beforeunload:function(e){return 0===this.length||this[0].self!==window?t:y.beforeunload(e)}}),y.fn.extend({ready:function(e){if(this.length&&this[0]===document&&"function"==typeof e)return y.ready(e)}}),y.ajax=function(e){return new Promise((function(t,n){var i,l,c,h=new XMLHttpRequest,u=(e.method||"GET").toUpperCase(),d=[],p=!!s(e.async)||e.async,f=e.url,g=f.indexOf("?")>-1?"&":"?",m=function(e,t){"function"==typeof e&&e.apply(null,t)},v=function(e){return-1!==["GET","JSON"].indexOf(e)};if(e.data instanceof HTMLFormElement){var w=e.data.getAttribute("action"),b=e.data.getAttribute("method");s(f)&&w&&""!==w.trim()&&(f=w),b&&""!==b.trim()&&(u=b.toUpperCase())}if(e.timeout&&(h.timeout=e.timeout),e.withCredentials&&(h.withCredentials=e.withCredentials),e.data instanceof HTMLFormElement)i=y.serialize(e.data);else if(e.data instanceof HTMLElement&&e.data.getAttribute("type")&&"file"===e.data.getAttribute("type").toLowerCase()){var C=e.data.getAttribute("name");i=new FormData;for(var x=0;x<e.data.files.length;x++)i.append(C,e.data.files[x])}else r(e.data)?(l=e.data,c=[],y.each(l,(function(e,t){var n=function(e){return"string"==typeof e||"boolean"==typeof e||"number"==typeof e}(t)?t:JSON.stringify(t);c.push(e+"="+n)})),i=c.join("&")):e.data instanceof FormData||"string"==typeof e.data?i=e.data:(i=new FormData).append("_data",JSON.stringify(e.data));v(u)&&(f+="string"==typeof i?g+i:a(i)?"":g+JSON.stringify(i)),h.open(u,f,p,e.user,e.password),e.headers&&y.each(e.headers,(function(e,t){h.setRequestHeader(e,t),d.push(e)})),v(u)||-1===d.indexOf("Content-type")&&!1!==e.contentType&&h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.send(i),h.addEventListener("load",(function(i){if(4===h.readyState&&h.status<300){var s=e.returnValue&&"xhr"===e.returnValue?h:h.response;if(e.parseJson)try{s=JSON.parse(s)}catch(e){s={}}m(t,[s]),m(e.onSuccess,[i,h])}else m(n,[h]),m(e.onFail,[i,h]);m(e.onLoad,[i,h])})),y.each(["readystatechange","error","timeout","progress","loadstart","loadend","abort"],(function(){var t=o("on-"+("readystatechange"===this?"state":this));h.addEventListener(t,(function(n){m(e[t],[n,h])}))}))}))},["get","post","put","patch","delete","json"].forEach((function(e){y[e]=function(t,n,i){var s=e.toUpperCase(),o={method:"JSON"===s?"GET":s,url:t,data:n,parseJson:"JSON"===s};return y.ajax(y.extend({},o,i))}})),y.fn.extend({load:function(e,t,n){var i=this;return this.length&&this[0].self===window?y.load(e):y.get(e,t,n).then((function(e){i.each((function(){this.innerHTML=e}))}))}}),y.fn.extend({style:function(e,n){var i;function o(e,t,n){return["scrollLeft","scrollTop"].indexOf(t)>-1?y(e)[t]():getComputedStyle(e,n)[t]}if("string"==typeof e&&0===this.length)return t;if(0===this.length)return this;if(i=this[0],s(e)||"all"===e)return getComputedStyle(i,n);var r={},a=e.split(", ").map((function(e){return(""+e).trim()}));return 1===a.length?o(i,a[0],n):(y.each(a,(function(){r[this]=o(i,this,n)})),r)},removeStyleProperty:function(e){if(s(e)||0===this.length)return this;var t=e.split(", ").map((function(e){return(""+e).trim()}));return this.each((function(){var e=this;y.each(t,(function(){e.style.removeProperty(this)}))}))},css:function(e,t){return"string"==typeof(e=e||"all")&&s(t)?this.style(e):this.each((function(){var n=this;"object"==typeof e?y.each(e,(function(e,t){d(n,e,t)})):"string"==typeof e&&d(n,e,t)}))},scrollTop:function(e){return s(e)?0===this.length?t:this[0]===window?pageYOffset:this[0].scrollTop:this.each((function(){this.scrollTop=e}))},scrollLeft:function(e){return s(e)?0===this.length?t:this[0]===window?pageXOffset:this[0].scrollLeft:this.each((function(){this.scrollLeft=e}))}}),y.fn.extend({addClass:function(){},removeClass:function(){},toggleClass:function(){},containsClass:function(e){return this.hasClass(e)},hasClass:function(e){var t=!1,n=e.split(" ").filter((function(e){return""!==(""+e).trim()}));return!s(e)&&(this.each((function(){var e=this;y.each(n,(function(){!t&&e.classList&&e.classList.contains(this)&&(t=!0)}))})),t)},clearClasses:function(){return this.each((function(){this.className=""}))},cls:function(e){return 0===this.length?t:e?this[0].className.split(" "):this[0].className},removeClassBy:function(e){return this.each((function(){var t=y(this),n=t.cls(!0);y.each(n,(function(){this.indexOf(e)>-1&&t.removeClass(this)}))}))}}),["add","remove","toggle"].forEach((function(e){y.fn[e+"Class"]=function(t){return s(t)||""===(""+t).trim()?this:this.each((function(){var n=this,i=void 0!==n.classList;y.each(t.split(" ").filter((function(e){return""!==(""+e).trim()})),(function(){i&&n.classList[e](this)}))}))}})),y.parseHTML=function(e){var t,n,i,s,o=[];if("string"!=typeof e)return[];if(e=e.trim(),(t=(i=document.implementation.createHTMLDocument("")).createElement("base")).href=document.location.href,i.head.appendChild(t),s=i.body,n=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i.exec(e))o.push(document.createElement(n[1]));else{s.innerHTML=e;for(var r=0;r<s.childNodes.length;r++)o.push(s.childNodes[r])}return o},y.fn.extend({_size:function(e,t){if(0!==this.length){if(s(t)){var n=this[0];if("height"===e)return n===window?window.innerHeight:n===document?n.body.clientHeight:parseInt(getComputedStyle(n).height);if("width"===e)return n===window?window.innerWidth:n===document?n.body.clientWidth:parseInt(getComputedStyle(n).width)}return this.each((function(){var n=this;n!==window&&n!==document&&(n.style[e]=isNaN(t)?t:t+"px")}))}},height:function(e){return this._size("height",e)},width:function(e){return this._size("width",e)},_sizeOut:function(e,t){var n,i,o,r;if(0!==this.length)return s(t)||"boolean"==typeof t?(i=(n=this[0])["width"===e?"offsetWidth":"offsetHeight"],o=getComputedStyle(n),r=i+parseInt(o["width"===e?"margin-left":"margin-top"])+parseInt(o["width"===e?"margin-right":"margin-bottom"]),!0===t?r:i):this.each((function(){var n=this;if(n!==window&&n!==document){var i,s=getComputedStyle(n),o="width"===e?parseInt(s["border-left-width"])+parseInt(s["border-right-width"]):parseInt(s["border-top-width"])+parseInt(s["border-bottom-width"]),r="width"===e?parseInt(s["padding-left"])+parseInt(s["padding-right"]):parseInt(s["padding-top"])+parseInt(s["padding-bottom"]);i=y(this)[e](t)[e]()-o-r,n.style[e]=i+"px"}}))},outerWidth:function(e){return this._sizeOut("width",e)},outerHeight:function(e){return this._sizeOut("height",e)},padding:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["padding-top"]),right:parseInt(t["padding-right"]),bottom:parseInt(t["padding-bottom"]),left:parseInt(t["padding-left"])}}},margin:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["margin-top"]),right:parseInt(t["margin-right"]),bottom:parseInt(t["margin-bottom"]),left:parseInt(t["margin-left"])}}},border:function(e){if(0!==this.length){var t=getComputedStyle(this[0],e);return{top:parseInt(t["border-top-width"]),right:parseInt(t["border-right-width"]),bottom:parseInt(t["border-bottom-width"]),left:parseInt(t["border-left-width"])}}}}),y.fn.extend({offset:function(e){var n;return s(e)?0===this.length?t:{top:(n=this[0].getBoundingClientRect()).top+pageYOffset,left:n.left+pageXOffset}:this.each((function(){var t=y(this),n=e.top,i=e.left,s=getComputedStyle(this).position,o=t.offset();"static"===s&&t.css("position","relative"),-1===["absolute","fixed"].indexOf(s)&&(n-=o.top,i-=o.left),t.css({top:n,left:i})}))},position:function(e){var n,i,o=0,r=0;return(s(e)||"boolean"!=typeof e)&&(e=!1),0===this.length?t:(n=this[0],i=getComputedStyle(n),e&&(o=parseInt(i["margin-left"]),r=parseInt(i["margin-top"])),{left:n.offsetLeft-o,top:n.offsetTop-r})},left:function(e,t){if(0!==this.length)return s(e)?this.position(t).left:"boolean"==typeof e?(t=e,this.position(t).left):this.each((function(){y(this).css({left:e})}))},top:function(e,t){if(0!==this.length)return s(e)?this.position(t).top:"boolean"==typeof e?(t=e,this.position(t).top):this.each((function(){y(this).css({top:e})}))},coord:function(){return 0===this.length?t:this[0].getBoundingClientRect()},pos:function(){if(0!==this.length)return{top:parseInt(y(this[0]).style("top")),left:parseInt(y(this[0]).style("left"))}}}),y.fn.extend({attr:function(e,n){var i={};return 0===this.length&&0===arguments.length?t:this.length&&0===arguments.length?(y.each(this[0].attributes,(function(){i[this.nodeName]=this.nodeValue})),i):1===arguments.length&&"string"==typeof e?this.length&&1===this[0].nodeType&&this[0].hasAttribute(e)?this[0].getAttribute(e):t:this.each((function(){var t=this;r(e)?y.each(e,(function(e,n){t.setAttribute(e,n)})):t.setAttribute(e,n)}))},removeAttr:function(e){var t;return s(e)?this.each((function(){var e=this;y.each(this.attributes,(function(){e.removeAttribute(this)}))})):(t="string"==typeof e?e.split(",").map((function(e){return e.trim()})):e,this.each((function(){var e=this;y.each(t,(function(){e.hasAttribute(this)&&e.removeAttribute(this)}))})))},toggleAttr:function(e,t){return this.each((function(){s(t)?this.removeAttribute(e):this.setAttribute(e,t)}))},id:function(e){return this.length?y(this[0]).attr("id",e):t}}),y.extend({meta:function(e){return s(e)?y("meta"):y("meta[name='$name']".replace("$name",e))},metaBy:function(e){return s(e)?y("meta"):y("meta[$name]".replace("$name",e))},doctype:function(){return y("doctype")},html:function(){return y("html")},head:function(){return y("html").find("head")},body:function(){return y("body")},document:function(){return y(document)},window:function(){return y(window)},charset:function(e){var t=y("meta[charset]");return e&&t.attr("charset",e),t.attr("charset")}}),y.extend({proxy:function(e,n){return"function"!=typeof e?t:e.bind(n)},bind:function(e,t){return this.proxy(e,t)}}),[Element.prototype,Document.prototype,DocumentFragment.prototype].forEach((function(e){["append","prepend"].forEach((function(t){m(e,t)||Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:function(){var e=Array.prototype.slice.call(arguments),n=document.createDocumentFragment();e.forEach((function(e){var t=e instanceof Node;n.appendChild(t?e:document.createTextNode(String(e)))})),"prepend"===t?this.insertBefore(n,this.firstChild):this.appendChild(n)}})}))}));var T=function(e){var t;return"string"==typeof e?t=y.isSelector(e)?y(e):y.parseHTML(e):e instanceof HTMLElement?t=[e]:l(e)&&(t=e),t};y.fn.extend({appendText:function(e){return this.each((function(t,n){n.innerHTML+=e}))},prependText:function(e){return this.each((function(t,n){n.innerHTML=e+n.innerHTML}))},append:function(e){var t=T(e);return this.each((function(e,n){y.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);y.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.append(t)}}))}))},appendTo:function(e){var t=T(e);return this.each((function(){var e=this;y.each(t,(function(t,n){e!==this&&n.append(0===t?e:e.cloneNode(!0))}))}))},prepend:function(e){var t=T(e);return this.each((function(e,n){y.each(t,(function(){if(n!==this){var t=0===e?this:this.cloneNode(!0);y.script(t),t.tagName&&"SCRIPT"!==t.tagName&&n.prepend(t)}}))}))},prependTo:function(e){var t=T(e);return this.each((function(){var e=this;y.each(t,(function(t,n){e!==this&&y(n).prepend(0===t?e:e.cloneNode(!0))}))}))},insertBefore:function(e){var t=T(e);return this.each((function(){var e=this;y.each(t,(function(t){if(e!==this){var n=this.parentNode;n&&n.insertBefore(0===t?e:e.cloneNode(!0),this)}}))}))},insertAfter:function(e){var t=T(e);return this.each((function(){var e=this;y.each(t,(function(t,n){if(e!==this){var i=this.parentNode;i&&i.insertBefore(0===t?e:e.cloneNode(!0),n.nextSibling)}}))}))},after:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("afterend",e):y(e).insertAfter(this)}))},before:function(e){return this.each((function(){"string"==typeof e?this.insertAdjacentHTML("beforebegin",e):y(e).insertBefore(this)}))},clone:function(e,t){var n=[];return s(e)&&(e=!1),s(t)&&(t=!1),this.each((function(){var i,s=this.cloneNode(e),o=y(s);t&&y.hasData(this)&&(i=y(this).data(),y.each(i,(function(e,t){o.data(e,t)}))),n.push(s)})),y.merge(y(),n)},import:function(e){var t=[];return s(e)&&(e=!1),this.each((function(){t.push(document.importNode(this,e))})),y.merge(y(),t)},adopt:function(){var e=[];return this.each((function(){e.push(document.adoptNode(this))})),y.merge(y(),e)},remove:function(e){var t,n,i=0,s=[];if(0!==this.length){for(n=e?this.filter((function(t){return b.call(t,e)})):this.items();null!=(t=n[i]);i++)t.parentNode&&(s.push(t.parentNode.removeChild(t)),y.removeData(t));return y.merge(y(),s)}},wrap:function(e){if(0!==this.length){var t=y(T(e));if(t.length){var n=[];return this.each((function(){var e,i;for((i=t.clone(!0,!0)).insertBefore(this),e=i;e.children().length;)e=e.children().eq(0);e.append(this),n.push(i)})),y(n)}}},wrapAll:function(e){var t,n,i;if(0!==this.length&&(t=y(T(e))).length){for((n=t.clone(!0,!0)).insertBefore(this[0]),i=n;i.children().length;)i=i.children().eq(0);return this.each((function(){i.append(this)})),n}},wrapInner:function(e){if(0!==this.length){var t=y(T(e));if(t.length){var n=[];return this.each((function(){var e=y(this),i=e.html(),s=t.clone(!0,!0);e.html(s.html(i)),n.push(s)})),y(n)}}}}),y.extend({animation:{duration:1e3,ease:"linear",elements:{}}}),"object"==typeof window.setupAnimation&&y.each(window.setupAnimation,(function(e,t){void 0===y.animation[e]||s(t)||(y.animation[e]=t)}));var E=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY"],$=["opacity","zIndex"],L=["opacity","volume"],M=["scrollLeft","scrollTop"],R=["opacity","volume"];function I(e){return e instanceof HTMLElement||e instanceof SVGElement}function O(e){if(!I(e))return{};for(var t,n=e.style.transform||"",i=/(\w+)\(([^)]*)\)/g,s={};t=i.exec(n);)s[t[1]]=t[2];return s}function D(e){return/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e||"#000000").slice(1).map((function(e){return parseInt(e,16)}))}function P(e){return"#"===e[0]&&4===e.length?"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})):"#"===e[0]?e:"#"+e}function B(e,n,i){(function(e,t,n){y.each(t,(function(t,i){!function(e,t,n,i,r){s(r)&&(r=!1),t=o(t),r&&(n=parseInt(n)),I(e)?void 0!==e[t]?e[t]=n:e.style[t]="transform"===t||t.toLowerCase().indexOf("color")>-1?n:n+i:e[t]=n}(e,t,i[0]+i[2]*n,i[3],i[4])}))})(e,n.props,i),function(e,n,i){var s=[],o=O(e);y.each(n,(function(e,t){var n=t[0],o=t[1],r=t[2],a=t[3];((e=""+e).indexOf("rotate")>-1||e.indexOf("skew")>-1)&&""===a&&(a="deg"),e.indexOf("scale")>-1&&(a=""),e.indexOf("translate")>-1&&""===a&&(a="px"),"turn"===a?s.push(e+"("+o*i+a+")"):s.push(e+"("+(n+r*i)+a+")")})),y.each(o,(function(e,i){n[e]===t&&s.push(e+"("+i+")")})),e.style.transform=s.join(" ")}(e,n.transform,i),function(e,t,n){y.each(t,(function(t,i){var s,o,r=[0,0,0];for(s=0;s<3;s++)r[s]=Math.floor(i[0][s]+i[2][s]*n);o="rgb("+r.join(",")+")",e.style[t]=o}))}(e,n.color,i)}function F(e,t,n){return Math.min(Math.max(e,t),n)}var N={linear:function(){return function(e){return e}}};N.default=N.linear;var H={Sine:function(){return function(e){return 1-Math.cos(e*Math.PI/2)}},Circ:function(){return function(e){return 1-Math.sqrt(1-e*e)}},Back:function(){return function(e){return e*e*(3*e-2)}},Bounce:function(){return function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}},Elastic:function(e,t){s(e)&&(e=1),s(t)&&(t=.5);var n=F(e,1,10),i=F(t,.1,2);return function(e){return 0===e||1===e?e:-n*Math.pow(2,10*(e-1))*Math.sin((e-1-i/(2*Math.PI)*Math.asin(1/n))*(2*Math.PI)/i)}}};["Quad","Cubic","Quart","Quint","Expo"].forEach((function(e,t){H[e]=function(){return function(e){return Math.pow(e,t+2)}}})),Object.keys(H).forEach((function(e){var t=H[e];N["easeIn"+e]=t,N["easeOut"+e]=function(e,n){return function(i){return 1-t(e,n)(1-i)}},N["easeInOut"+e]=function(e,n){return function(i){return i<.5?t(e,n)(2*i)/2:1-t(e,n)(-2*i+2)/2}}}));var z={id:null,el:null,draw:{},dur:y.animation.duration,ease:y.animation.ease,loop:0,pause:0,dir:"normal",defer:0,onStart:function(){},onStop:function(){},onStopAll:function(){},onPause:function(){},onPauseAll:function(){},onResume:function(){},onResumeAll:function(){},onFrame:function(){},onDone:function(){}};function W(e){return new Promise((function(t){var n,i=this,o=y.assign({},z,{dur:y.animation.duration,ease:y.animation.ease},e),r=o.id,a=o.el,l=o.draw,c=o.dur,d=o.ease,p=o.loop,f=o.onStart,g=o.onFrame,m=o.onDone,v=o.pause,w=o.dir,b=o.defer,C={},x="linear",k=[],S=N.linear,_="alternate"===w?"normal":w,A=!1,T=r||+performance.now()*Math.pow(10,14);if(s(a))throw new Error("Unknown element!");if("string"==typeof a&&(a=document.querySelector(a)),"function"!=typeof l&&"object"!=typeof l)throw new Error("Unknown draw object. Must be a function or object!");0===c&&(c=1),"alternate"===w&&"number"==typeof p&&(p*=2),"string"==typeof d?(n=/\(([^)]+)\)/.exec(d),x=d.split("(")[0],k=n?n[1].split(",").map((function(e){return parseFloat(e)})):[],S=N[x]||N.linear):S="function"==typeof d?d:N.linear,y.animation.elements[T]={element:a,id:null,stop:0,pause:0,loop:0,t:-1,started:0,paused:0};var I=function(){"object"==typeof l&&(C=function(e,t,n){var i,o,r,a,l,c,d={props:{},transform:{},color:{}},p=O(e);return s(n)&&(n="normal"),y.each(t,(function(t,s){var f=E.indexOf(""+t)>-1,g=$.indexOf(""+t)>-1,m=(""+t).toLowerCase().indexOf("color")>-1;if(Array.isArray(s)&&1===s.length&&(s=s[0]),Array.isArray(s)?(o=m?D(P(s[0])):h(s[0]),r=m?D(P(s[1])):h(s[1])):(o=f?p[t]||0:m?function(e,t){return getComputedStyle(e)[t].replace(/[^\d.,]/g,"").split(",").map((function(e){return parseInt(e)}))}(e,t):function(e,t,n){return void 0!==e[t]?M.indexOf(t)>-1?"scrollLeft"===t?e===window?pageXOffset:e.scrollLeft:e===window?pageYOffset:e.scrollTop:e[t]||0:e.style[t]||getComputedStyle(e,void 0)[t]}(e,t),o=m?o:h(o),r=m?D(s):h(function(e,t){var n=/^(\*=|\+=|-=)/.exec(e);if(!n)return e;var i=u(e)||0,s=parseFloat(t),o=parseFloat(e.replace(n[0],""));switch(n[0][0]){case"+":return s+o+i;case"-":return s-o+i;case"*":return s*o+i;case"/":return s/o+i}}(s,Array.isArray(o)?o[0]:o))),R.indexOf(""+t)>-1&&o[0]===r[0]&&(o[0]=r[0]>0?0:1),"reverse"===n&&(c=o,o=r,r=c),l=e instanceof HTMLElement&&""===r[1]&&!g&&!f?"px":r[1],m)for(a=[0,0,0],i=0;i<3;i++)a[i]=r[i]-o[i];else a=r[0]-o[0];f?d.transform[t]=[o[0],r[0],a,l]:m?d.color[t]=[o,r,a,l]:d.props[t]=[o[0],r[0],a,l,-1===L.indexOf(""+t)]})),d}(a,l,_)),"function"==typeof f&&f.apply(a),y.animation.elements[T].loop+=1,y.animation.elements[T].started=performance.now(),y.animation.elements[T].duration=c,y.animation.elements[T].id=requestAnimationFrame(H)},F=function(){cancelAnimationFrame(y.animation.elements[T].id),delete y.animation.elements[r],"function"==typeof m&&m.apply(a),t(i)},H=function(e){var t,n,i=y.animation.elements[T].stop,s=y.animation.elements[T].pause,o=y.animation.elements[T].started;if(y.animation.elements[T].paused&&(o=e-y.animation.elements[T].t*c,y.animation.elements[T].started=o),(n=((e-o)/c).toFixed(4))>1&&(n=1),n<0&&(n=0),t=S.apply(null,k)(n),y.animation.elements[T].t=n,y.animation.elements[T].p=t,s)y.animation.elements[T].id=requestAnimationFrame(H);else{if(i>0)return 2===i&&("function"==typeof l?l.bind(a)(1,1):B(a,C,1)),void F();"function"==typeof l?l.bind(a)(n,t):B(a,C,t),"function"==typeof g&&g.apply(a,[n,t]),n<1&&(y.animation.elements[T].id=requestAnimationFrame(H)),1===parseInt(n)&&(p?("alternate"===w&&(_="normal"===_?"reverse":"normal"),"boolean"==typeof p||p>y.animation.elements[T].loop?setTimeout((function(){I()}),v):F()):"alternate"!==w||A?F():(_="normal"===_?"reverse":"normal",A=!0,I()))}};b>0?setTimeout((function(){I()}),b):I()}))}function V(e,t){var n=y.animation.elements[e];void 0!==n&&(s(t)&&(t=!0),n.stop=!0===t?2:1,"function"==typeof n.onStop&&n.onStop.apply(n.element))}function U(e){var t=y.animation.elements[e];void 0!==t&&(t.pause=1,t.paused=performance.now(),"function"==typeof t.onPause&&t.onPause.apply(t.element))}function G(e){var t=y.animation.elements[e];void 0!==t&&(t.pause=0,t.paused=0,"function"==typeof t.onResume&&t.onResume.apply(t.element))}var j={loop:!1,onChainItem:null,onChainItemComplete:null,onChainComplete:null};y.easing={},y.extend(y.easing,N),y.extend({animate:function(e){var t,n,i,s,o;return arguments.length>1?(t=y(arguments[0])[0],n=arguments[1],i=arguments[2]||y.animation.duration,s=arguments[3]||y.animation.ease,o=arguments[4],"function"==typeof i&&(o=i,s=y.animation.ease,i=y.animation.duration),"function"==typeof s&&(o=s,s=y.animation.ease),W({el:t,draw:n,dur:i,ease:s,onDone:o})):W(e)},chain:function e(t,n){var i=y.extend({},j,n);if("boolean"!=typeof i.loop&&i.loop--,!Array.isArray(t))return console.warn("Chain array is not defined!"),!1;t.reduce((function(e,t){return e.then((function(){return"function"==typeof i.onChainItem&&i.onChainItem(t),W(t).then((function(){"function"==typeof i.onChainItemComplete&&i.onChainItemComplete(t)}))}))}),Promise.resolve()).then((function(){"function"==typeof i.onChainComplete&&i.onChainComplete(),i.loop&&e(t,i)}))},stop:V,stopAll:function(e,t){y.each(y.animation.elements,(function(n,i){t?"string"==typeof t?b.call(i.element,t)&&V(n,e):t.length?y.each(t,(function(){i.element===this&&V(n,e)})):t instanceof Element&&i.element===t&&V(n,e):V(n,e)}))},resume:G,resumeAll:function(e){y.each(y.animation.elements,(function(t,n){e?"string"==typeof e?b.call(n.element,e)&&G(t):e.length?y.each(e,(function(){n.element===this&&G(t)})):e instanceof Element&&n.element===e&&G(t):G(t)}))},pause:U,pauseAll:function(e){y.each(y.animation.elements,(function(t,n){e?"string"==typeof e?b.call(n.element,e)&&U(t):e.length?y.each(e,(function(){n.element===this&&U(t)})):e instanceof Element&&n.element===e&&U(t):U(t)}))}}),y.fn.extend({animate:function(e){var t,n,i,s,o=this,r=e;return!Array.isArray(e)&&(arguments.length>1||1===arguments.length&&void 0===arguments[0].draw)?(t=arguments[0],n=arguments[1]||y.animation.duration,i=arguments[2]||y.animation.ease,s=arguments[3],"function"==typeof n&&(s=n,n=y.animation.duration,i=y.animation.ease),"function"==typeof i&&(s=i,i=y.animation.ease),this.each((function(){return y.animate({el:this,draw:t,dur:n,ease:i,onDone:s})}))):Array.isArray(e)?(y.each(e,(function(){var e=this;o.each((function(){e.el=this,y.animate(e)}))})),this):this.each((function(){r.el=this,y.animate(r)}))},chain:function(e,t){return this.each((function(){var n=this;y.each(e,(function(){this.el=n})),y.chain(e,t)}))},stop:function(e){return this.each((function(){var t=this;y.each(y.animation.elements,(function(n,i){i.element===t&&V(n,e)}))}))},pause:function(){return this.each((function(){var e=this;y.each(y.animation.elements,(function(t,n){n.element===e&&U(t)}))}))},resume:function(){return this.each((function(){var e=this;y.each(y.animation.elements,(function(t,n){n.element===e&&G(t)}))}))}}),y.extend({hidden:function(e,t,n){return e=y(e)[0],"string"==typeof t&&(t="true"===t.toLowerCase()),"function"==typeof t&&(n=t,t=!e.hidden),e.hidden=t,"function"==typeof n&&(y.bind(n,e),n.call(e,arguments)),this},hide:function(e,t){var n=y(e);return n.origin("display",e.style.display?e.style.display:getComputedStyle(e,null).display),e.style.display="none","function"==typeof t&&(y.bind(t,e),t.call(e,arguments)),this},show:function(e,n){var i=y(e).origin("display",t,"block");return e.style.display=i?"none"===i?"block":i:"",0===parseInt(e.style.opacity)&&(e.style.opacity="1"),"function"==typeof n&&(y.bind(n,e),n.call(e,arguments)),this},visible:function(e,n,i){return n===t&&(n=!0),e.style.visibility=n?"visible":"hidden","function"==typeof i&&(y.bind(i,e),i.call(e,arguments)),this},toggle:function(e,t){var n="none"!==getComputedStyle(e,null).display?"hide":"show";return y[n](e,t)}}),y.fn.extend({hide:function(){var e;return y.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){y.hide(this,e)}))},show:function(){var e;return y.each(arguments,(function(){"function"==typeof this&&(e=this)})),this.each((function(){y.show(this,e)}))},visible:function(e,t){return this.each((function(){y.visible(this,e,t)}))},toggle:function(e){return this.each((function(){y.toggle(this,e)}))},hidden:function(e,t){return this.each((function(){y.hidden(this,e,t)}))}}),y.extend({fx:{off:!1}}),y.fn.extend({fadeIn:function(e,n,o){return this.each((function(){var r=this,a=y(r);if(i(r)&&(!i(r)||0!=+a.style("opacity")))return this;s(e)&&s(n)&&s(o)?(o=null,e=y.animation.duration):"function"==typeof e&&(o=e,e=y.animation.duration),"function"==typeof n&&(o=n,n=y.animation.ease),y.fx.off&&(e=0);var l=a.origin("display",t,"block");return r.style.opacity="0",r.style.display=l,y.animate({el:r,draw:{opacity:1},dur:e,ease:n,onDone:function(){"function"==typeof o&&y.proxy(o,this)()}})}))},fadeOut:function(e,t,n){return this.each((function(){var o=this,r=y(o);if(i(o))return s(e)&&s(t)&&s(n)?(n=null,e=y.animation.duration):"function"==typeof e&&(n=e,e=y.animation.duration),"function"==typeof t&&(n=t,t=y.animation.ease),r.origin("display",r.style("display")),y.animate({el:o,draw:{opacity:0},dur:e,ease:t,onDone:function(){this.style.display="none","function"==typeof n&&y.proxy(n,this)()}})}))},slideUp:function(e,t,n){return this.each((function(){var i,o=this,r=y(o);if(0!==r.height())return s(e)&&s(t)&&s(n)?(n=null,e=y.animation.duration):"function"==typeof e&&(n=e,e=y.animation.duration),"function"==typeof t&&(n=t,t=y.animation.ease),i=r.height(),r.origin("height",i),r.origin("display",y(o).style("display")),r.css({overflow:"hidden"}),y.animate({el:o,draw:{height:0},dur:e,ease:t,onDone:function(){r.hide().removeStyleProperty("overflow, height"),"function"==typeof n&&y.proxy(n,this)()}})}))},slideDown:function(e,n,i){return this.each((function(){var o,r,a=this,l=y(a);return s(e)&&s(n)&&s(i)?(i=null,e=y.animation.duration):"function"==typeof e&&(i=e,e=y.animation.duration),"function"==typeof n&&(i=n,n=y.animation.ease),l.show().visible(!1),o=+l.origin("height",t,l.height()),0===parseInt(o)&&(o=a.scrollHeight),r=l.origin("display",l.style("display"),"block"),l.height(0).visible(!0),l.css({overflow:"hidden",display:"none"===r?"block":r}),y.animate({el:a,draw:{height:o},dur:e,ease:n,onDone:function(){y(a).removeStyleProperty("overflow, height, visibility"),"function"==typeof i&&y.proxy(i,this)()}})}))},moveTo:function(e,t,n,i,s){var o={top:t,left:e};return"function"==typeof n&&(s=n,n=y.animation.duration,i=y.animation.ease),"function"==typeof i&&(s=i,i=y.animation.ease),this.each((function(){y.animate({el:this,draw:o,dur:n,ease:i,onDone:s})}))},centerTo:function(e,t,n,i,s){return"function"==typeof n&&(s=n,n=y.animation.duration,i=y.animation.ease),"function"==typeof i&&(s=i,i=y.animation.ease),this.each((function(){var o={left:e-this.clientWidth/2,top:t-this.clientHeight/2};y.animate({el:this,draw:o,dur:n,ease:i,onDone:s})}))},colorTo:function(e,t,n,i){var s={color:e};return"function"==typeof t&&(i=t,t=y.animation.duration,n=y.animation.ease),"function"==typeof n&&(i=n,n=y.animation.ease),this.each((function(){y.animate({el:this,draw:s,dur:t,ease:n,onDone:i})}))},backgroundTo:function(e,t,n,i){var s={backgroundColor:e};return"function"==typeof t&&(i=t,t=y.animation.duration,n=y.animation.ease),"function"==typeof n&&(i=n,n=y.animation.ease),this.each((function(){y.animate({el:this,draw:s,dur:t,ease:n,onDone:i})}))}}),y.init=function(e,n){var i,s=this;if("string"==typeof e&&(e=e.trim()),this.uid=y.uniqueId(),!e)return this;if("function"==typeof e)return y.ready(e);if(e instanceof Element)return this.push(e),this;if(e instanceof y)return y.each(e,(function(){s.push(this)})),this;if("window"===e&&(e=window),"document"===e&&(e=document),"body"===e&&(e=document.body),"html"===e&&(e=document.documentElement),"doctype"===e&&(e=document.doctype),e&&(e.nodeType||e.self===window))return this.push(e),this;if(l(e))return y.each(e,(function(){y(this).each((function(){s.push(this)}))})),this;if("string"!=typeof e&&e.self&&e.self!==window)return this;if("#"===e||"."===e)return console.error("Selector can't be # or ."),this;if("@"===e[0])y("[data-role]").each((function(){c(y(this).attr("data-role"),",").indexOf(e.slice(1))>-1&&s.push(this)}));else if(1===(i=y.parseHTML(e)).length&&3===i[0].nodeType)try{[].push.apply(this,document.querySelectorAll(e))}catch(e){}else y.merge(this,i);return n!==t&&(n instanceof y?this.each((function(){y(n).append(s)})):n instanceof HTMLElement?y(n).append(s):r(n)&&y.each(this,(function(){for(var e in n)m(n,e)&&this.setAttribute(e,n[e])}))),this},y.init.prototype=y.fn;var K=window.$;y.Promise=Promise,window.m4q=y,void 0===window.$&&(window.$=y),y.global=function(){K=window.$,window.$=y},y.noConflict=function(){return window.$===y&&(window.$=K),y}}(window),function(e){"use strict";var t=e.meta("metro4:init").attr("content"),n=e.meta("metro4:locale").attr("content"),i=e.meta("metro4:week_start").attr("content"),s=e.meta("metro4:date_format").attr("content"),o=e.meta("metro4:date_format_input").attr("content"),r=e.meta("metro4:animation_duration").attr("content"),a=e.meta("metro4:callback_timeout").attr("content"),l=e.meta("metro4:timeout").attr("content"),c=e.meta("metro4:scroll_multiple").attr("content"),h=e.meta("metro4:cloak").attr("content"),u=e.meta("metro4:cloak_duration").attr("content"),d=e.meta("metro4:global_common").attr("content"),p=e.meta("metro4:blur_image").attr("content");void 0===window.METRO_BLUR_IMAGE&&(window.METRO_BLUR_IMAGE=void 0!==p&&JSON.parse(d)),void 0===window.METRO_GLOBAL_COMMON&&(window.METRO_GLOBAL_COMMON=void 0!==d&&JSON.parse(d));var f=e.meta("metro4:jquery").attr("content");window.jquery_present="undefined"!=typeof jQuery,void 0===window.METRO_JQUERY&&(window.METRO_JQUERY=void 0===f||JSON.parse(f)),window.useJQuery=window.jquery_present&&window.METRO_JQUERY;var g=e.meta("metro4:about").attr("content");void 0===window.METRO_SHOW_ABOUT&&(window.METRO_SHOW_ABOUT=void 0===g||JSON.parse(g));var m=e.meta("metro4:compile").attr("content");void 0===window.METRO_SHOW_COMPILE_TIME&&(window.METRO_SHOW_COMPILE_TIME=void 0===m||JSON.parse(m)),void 0===window.METRO_INIT&&(window.METRO_INIT=void 0===t||JSON.parse(t)),void 0===window.METRO_DEBUG&&(window.METRO_DEBUG=!0),void 0===window.METRO_WEEK_START&&(window.METRO_WEEK_START=void 0!==i?parseInt(i):0),void 0===window.METRO_DATE_FORMAT&&(window.METRO_DATE_FORMAT=void 0!==s?s:"YYYY-MM-DD"),void 0===window.METRO_DATE_FORMAT_INPUT&&(window.METRO_DATE_FORMAT_INPUT=void 0!==o?o:"YYYY-MM-DD"),void 0===window.METRO_LOCALE&&(window.METRO_LOCALE=void 0!==n?n:"en-US"),void 0===window.METRO_ANIMATION_DURATION&&(window.METRO_ANIMATION_DURATION=void 0!==r?parseInt(r):100),void 0===window.METRO_CALLBACK_TIMEOUT&&(window.METRO_CALLBACK_TIMEOUT=void 0!==a?parseInt(a):500),void 0===window.METRO_TIMEOUT&&(window.METRO_TIMEOUT=void 0!==l?parseInt(l):2e3),void 0===window.METRO_SCROLL_MULTIPLE&&(window.METRO_SCROLL_MULTIPLE=void 0!==c?parseInt(c):20),void 0===window.METRO_CLOAK_REMOVE&&(window.METRO_CLOAK_REMOVE=void 0!==h?(""+h).toLowerCase():"fade"),void 0===window.METRO_CLOAK_DURATION&&(window.METRO_CLOAK_DURATION=void 0!==u?parseInt(u):300),void 0===window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&(window.METRO_HOTKEYS_FILTER_CONTENT_EDITABLE=!0),void 0===window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&(window.METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS=!0),void 0===window.METRO_HOTKEYS_FILTER_TEXT_INPUTS&&(window.METRO_HOTKEYS_FILTER_TEXT_INPUTS=!0),void 0===window.METRO_HOTKEYS_BUBBLE_UP&&(window.METRO_HOTKEYS_BUBBLE_UP=!1),void 0===window.METRO_THROWS&&(window.METRO_THROWS=!0),window.METRO_MEDIA=[]}(m4q),function(){"use strict";var e=m4q;if("undefined"==typeof m4q)throw new Error("Metro 4 requires m4q helper!");if(!("MutationObserver"in window))throw new Error("Metro 4 requires MutationObserver!");var t="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0,n=function(e){return"string"!=typeof e?void 0:e.replace(/-/g,"").toLowerCase()},i={version:"4.5.1",compileTime:"23/06/2022 09:21:11",buildNumber:"756",isTouchable:t,fullScreenEnabled:document.fullscreenEnabled,sheet:null,controlsPosition:{INSIDE:"inside",OUTSIDE:"outside"},groupMode:{ONE:"one",MULTI:"multi"},aspectRatio:{HD:"hd",SD:"sd",CINEMA:"cinema"},fullScreenMode:{WINDOW:"window",DESKTOP:"desktop"},position:{TOP:"top",BOTTOM:"bottom",LEFT:"left",RIGHT:"right",TOP_RIGHT:"top-right",TOP_LEFT:"top-left",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",LEFT_BOTTOM:"left-bottom",LEFT_TOP:"left-top",RIGHT_TOP:"right-top",RIGHT_BOTTOM:"right-bottom"},popoverEvents:{CLICK:"click",HOVER:"hover",FOCUS:"focus"},stepperView:{SQUARE:"square",CYCLE:"cycle",DIAMOND:"diamond"},listView:{LIST:"list",CONTENT:"content",ICONS:"icons",ICONS_MEDIUM:"icons-medium",ICONS_LARGE:"icons-large",TILES:"tiles",TABLE:"table"},events:{click:"click",start:t?"touchstart":"mousedown",stop:t?"touchend":"mouseup",move:t?"touchmove":"mousemove",enter:t?"touchstart":"mouseenter",startAll:"mousedown touchstart",stopAll:"mouseup touchend",moveAll:"mousemove touchmove",leave:"mouseleave",focus:"focus",blur:"blur",resize:"resize",keyup:"keyup",keydown:"keydown",keypress:"keypress",dblclick:"dblclick",input:"input",change:"change",cut:"cut",paste:"paste",scroll:"scroll",mousewheel:"mousewheel",inputchange:"change input propertychange cut paste copy drop",dragstart:"dragstart",dragend:"dragend",dragenter:"dragenter",dragover:"dragover",dragleave:"dragleave",drop:"drop",drag:"drag"},keyCode:{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,BREAK:19,CAPS:20,ESCAPE:27,SPACE:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,COMMA:188},media_queries:{FS:"(min-width: 0px)",XS:"(min-width: 360px)",SM:"(min-width: 576px)",MD:"(min-width: 768px)",LG:"(min-width: 992px)",XL:"(min-width: 1200px)",XXL:"(min-width: 1452px)"},media_sizes:{FS:0,XS:360,SM:576,LD:640,MD:768,LG:992,XL:1200,XXL:1452},media_mode:{FS:"fs",XS:"xs",SM:"sm",MD:"md",LG:"lg",XL:"xl",XXL:"xxl"},media_modes:["fs","xs","sm","md","lg","xl","xxl"],actions:{REMOVE:1,HIDE:2},hotkeys:{},locales:{},utils:{},colors:{},dialog:null,pagination:null,md5:null,storage:null,export:null,animations:null,cookie:null,template:null,defaults:{},about:function(){var e="<h3>About</h3><hr><div><b>Metro 4</b> - v"+i.version+". "+i.showCompileTime()+"</div><div><b>M4Q</b> - "+m4q.version+"</div>";i.infobox.create(e)},info:function(){console.info("Metro 4 - v"+i.version+". "+i.showCompileTime()),console.info("m4q - "+m4q.version)},showCompileTime:function(){return"Built at: "+i.compileTime},aboutDlg:function(){alert("Metro 4 - v"+i.version+". "+i.showCompileTime())},ver:function(){return i.version},build:function(){return i.build},compile:function(){return i.compileTime},observe:function(){new MutationObserver((function(t){t.map((function(t){if("attributes"===t.type&&"data-role"!==t.attributeName)if("data-hotkey"===t.attributeName)i.initHotkeys([t.target],!0);else{var n=e(t.target),s=n.data("metroComponent"),o=t.attributeName,r=n.attr(o),a=t.oldValue;void 0!==s&&(n.fire("attr-change",{attr:o,newValue:r,oldValue:a,__this:n[0]}),e.each(s,(function(){var e=i.getPlugin(n,this);e&&"function"==typeof e.changeAttribute&&e.changeAttribute(o,r,a)})))}else if("childList"===t.type&&t.addedNodes.length>0){var l,c,h,u=[],d=t.addedNodes;if(d.length){for(l=0;l<d.length;l++)h=d[l],void 0!==(c=e(h)).attr("data-role")&&u.push(h),e.each(c.find("[data-role]"),(function(){-1===u.indexOf(this)&&u.push(this)}));u.length&&i.initWidgets(u,"observe")}}}))})).observe(e("html")[0],{childList:!0,attributes:!0,subtree:!0})},init:function(){var n=e("[data-role]"),s=e("[data-hotkey]"),o=e("html"),r=this;window.METRO_BLUR_IMAGE&&o.addClass("use-blur-image"),window.METRO_SHOW_ABOUT&&i.info(!0),!0===t?o.addClass("metro-touch-device"):o.addClass("metro-no-touch-device"),i.sheet=this.utils.newCssSheet(),this.utils.addCssRule(i.sheet,"*, *::before, *::after","box-sizing: border-box;"),window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){r.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])})),i.observe(),i.initHotkeys(s),i.initWidgets(n,"init"),"fade"!==window.METRO_CLOAK_REMOVE?(e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")):e(".m4-cloak").animate({draw:{opacity:1},dur:300,onDone:function(){e(".m4-cloak").removeClass("m4-cloak"),e(window).fire("metro-initiated")}})},initHotkeys:function(t,n){e.each(t,(function(){var t=e(this),s=!!t.attr("data-hotkey")&&t.attr("data-hotkey").toLowerCase(),o=!!t.attr("data-hotkey-func")&&t.attr("data-hotkey-func");!1!==s&&(!0===t.data("hotKeyBonded")&&!0!==n||(i.hotkeys[s]=[this,o],t.data("hotKeyBonded",!0),t.fire("hot-key-bonded",{__this:t[0],hotkey:s,fn:o})))}))},initWidgets:function(t){var i=this;e.each(t,(function(){var t=e(this);this.hasAttribute("data-role")&&t.attr("data-role").split(/\s*,\s*/).map((function(s){var o=i.utils.$(),r=n(s);if(void 0!==o.fn[r]&&void 0===t.attr("data-role-"+r))try{o.fn[r].call(t),t.attr("data-role-"+r,!0);var a=t.data("metroComponent");void 0===a?a=[r]:a.push(r),t.data("metroComponent",a),t.fire("create",{__this:t[0],name:r}),e(document).fire("component-create",{element:t[0],name:r})}catch(e){throw console.error("Error creating component "+s+" for ",t[0]),e}}))}))},plugin:function(e,t){var i=n(e),s=function(e){e.fn[i]=function(n){return this.each((function(){e.data(this,i,Object.create(t).init(n,this))}))}};s(m4q),window.useJQuery&&s(jQuery)},pluginExists:function(e){return"function"==typeof(window.useJQuery?jQuery:m4q).fn[n(e)]},destroyPlugin:function(t,s){var o,r,a=e(t),l=n(s);void 0!==(o=i.getPlugin(a,l))?"function"==typeof o.destroy?(o.destroy(),r=a.data("metroComponent"),this.utils.arrayDelete(r,l),a.data("metroComponent",r),e.removeData(a[0],l),a.removeAttr("data-role-"+l)):console.warn("Component "+s+" can not be destroyed: method destroy not found."):console.warn("Component "+s+" can not be destroyed: the element is not a Metro 4 component.")},destroyPluginAll:function(t){var n=e(t),s=n.data("metroComponent");void 0!==s&&s.length>0&&e.each(s,(function(){i.destroyPlugin(n[0],this)}))},noop:function(){},noop_true:function(){return!0},noop_false:function(){return!1},requestFullScreen:function(e){e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullScreen?e.webkitRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():e.requestFullscreen().catch((function(e){console.warn("Error attempting to enable full-screen mode: "+e.message+" "+e.name)}))},exitFullScreen:function(){document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.msExitFullscreen?document.msExitFullscreen():document.exitFullscreen().catch((function(e){console.warn("Error attempting to disable full-screen mode: "+e.message+" "+e.name)}))},inFullScreen:function(){return void 0!==(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},$:function(){return window.useJQuery?jQuery:m4q},get$el:function(t){return i.$()(e(t)[0])},get$elements:function(t){return i.$()(e(t))},getPlugin:function(e,t){var s=n(t),o=i.get$el(e);return o.length?o.data(s):void 0},makePlugin:function(e,t,s){var o=n(t),r=i.get$elements(e);return r.length&&"function"==typeof r[o]?r[o](s):void 0},Component:function(t,s){var o=n(t),r=i.utils,a=e.extend({name:o},{_super:function(t,n,i,s){var o=this;this.elem=t,this.element=e(t),this.options=e.extend({},i,n),this.component=this.elem,this._setOptionsFromDOM(),this._runtime(),s&&"object"==typeof s&&e.each(s,(function(e,t){o[e]=t})),this._createExec()},_setOptionsFromDOM:function(){var t=this.element,n=this.options;e.each(t.data(),(function(e,t){if(e in n)try{n[e]=JSON.parse(t)}catch(i){n[e]=t}}))},_runtime:function(){var e,t=this.element,i=(t.attr("data-role")||"").toArray(",").map((function(e){return n(e)})).filter((function(e){return""!==e.trim()}));t.attr("data-role-"+this.name)||(t.attr("data-role-"+this.name,!0),-1===i.indexOf(this.name)&&(i.push(this.name),t.attr("data-role",i.join(","))),void 0===(e=t.data("metroComponent"))?e=[this.name]:e.push(this.name),t.data("metroComponent",e))},_createExec:function(){var e=this,t=this.options[this.name+"Deferred"];t?setTimeout((function(){e._create()}),t):e._create()},_fireEvent:function(t,n,i,s){var o,a=this.element,l=this.options,c=e.camelCase(t).capitalize();return o=(n=e.extend({},n,{__this:a[0]}))?Object.values(n):{},i&&(console.warn(i),console.warn("Event: on"+c),console.warn("Data: ",n),console.warn("Element: ",a[0])),!0!==s&&a.fire(c.toLowerCase(),n),r.exec(l["on"+c],o,a[0])},_fireEvents:function(t,n,i,s){var o,a=this;if(0!==arguments.length)return 1===arguments.length?(e.each(t,(function(){var e=this;a._fireEvent(e.name,e.data,e.log,e.noFire)})),r.objectLength(t)):void((Array.isArray(t)||"string"==typeof t)&&(o=Array.isArray(t)?t:t.toArray(","),e.each(o,(function(){a._fireEvent(this,n,i,s)}))))},getComponent:function(){return this.component},getComponentName:function(){return this.name}},s);return i.plugin(o,a),a},fetch:{status:function(e){return e.ok?Promise.resolve(e):Promise.reject(new Error(e.statusText))},json:function(e){return e.json()},text:function(e){return e.text()},form:function(e){return e.formData()},blob:function(e){return e.blob()},buffer:function(e){return e.arrayBuffer()}}};e(window).on(i.events.resize,(function(){window.METRO_MEDIA=[],e.each(i.media_queries,(function(e,t){i.utils.media(t)&&window.METRO_MEDIA.push(i.media_mode[e])}))})),window.Metro=i,!0===window.METRO_INIT&&e((function(){i.init()}))}(),function(e,t){m4q.extend(e.locales,{"da-DK":{calendar:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December","Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],days:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag","S","Ma","Ti","On","To","Fr","L","Sn","Man","Tir","Ons","Tor","Fre","Lr"],time:{days:"DAGE",hours:"TIMER",minutes:"MIN",seconds:"SEK",month:"MON",day:"DAG",year:"R"},weekStart:1},buttons:{ok:"OK",cancel:"Annuller",done:"Frdig",today:"Idag",now:"Nu",clear:"Ryd",help:"Hjlp",yes:"Ja",no:"Nej",random:"Tilfldig",save:"Gem",reset:"Nulstil"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"de-DE":{calendar:{months:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember","Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],days:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag","So","Mo","Di","Mi","Do","Fr","Sa","Son","Mon","Die","Mit","Don","Fre","Sam"],time:{days:"TAGE",hours:"STD",minutes:"MIN",seconds:"SEK"},weekStart:2},buttons:{ok:"OK",cancel:"Abbrechen",done:"Fertig",today:"Heute",now:"Jetzt",clear:"Lschen",help:"Hilfe",yes:"Ja",no:"Nein",random:"Zufllig",save:"Speichern",reset:"Zurcksetzen"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"en-US":{calendar:{months:["January","February","March","April","May","June","July","August","September","October","November","December","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Su","Mo","Tu","We","Th","Fr","Sa","Sun","Mon","Tus","Wen","Thu","Fri","Sat"],time:{days:"DAYS",hours:"HOURS",minutes:"MINS",seconds:"SECS",month:"MON",day:"DAY",year:"YEAR"},weekStart:0},buttons:{ok:"OK",cancel:"Cancel",done:"Done",today:"Today",now:"Now",clear:"Clear",help:"Help",yes:"Yes",no:"No",random:"Random",save:"Save",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"es-MX":{calendar:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre","Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],days:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado","Do","Lu","Ma","Mi","Ju","Vi","Sa","Dom","Lun","Mar","Mi","Jue","Vie","Sb"],time:{days:"DAS",hours:"HORAS",minutes:"MINS",seconds:"SEGS",month:"MES",day:"DA",year:"AO"},weekStart:1},buttons:{ok:"Aceptar",cancel:"Cancelar",done:"Hecho",today:"Hoy",now:"Ahora",clear:"Limpiar",help:"Ayuda",yes:"Si",no:"No",random:"Aleatorio",save:"Salvar",reset:"Reiniciar"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"fr-FR":{calendar:{months:["Janvier","Fvrier","Mars","Avril","Mai","Juin","Juillet","Aot","Septembre","Octobre","Novembre","Dcembre","Janv","Fvr","Mars","Avr","Mai","Juin","Juil","Aot","Sept","Oct","Nov","Dc"],days:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi","Di","Lu","Ma","Me","Je","Ve","Sa","Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],time:{days:"JOURS",hours:"HEURES",minutes:"MINS",seconds:"SECS",month:"MOIS",day:"JOUR",year:"ANNEE"},weekStart:1},buttons:{ok:"OK",cancel:"Annul",done:"Fait",today:"Aujourd'hui",now:"Maintenant",clear:"Effac",help:"Aide",yes:"Oui",no:"Non",random:"Alatoire",save:"Sauvegarder",reset:"Rinitialiser"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"hr-HR":{calendar:{months:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac","Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],days:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota","Ne","Po","Ut","Sr","e","Pe","Su","Ned","Pon","Uto","Sri","et","Pet","Sub"],time:{days:"DANI",hours:"SATI",minutes:"MINUTE",seconds:"SEKUNDE",month:"MJESEC",day:"DAN",year:"GODINA"},weekStart:1},buttons:{ok:"OK",cancel:"Otkai",done:"Gotovo",today:"Danas",now:"Sada",clear:"Izbrii",help:"Pomo",yes:"Da",no:"Ne",random:"Nasumino",save:"Spremi",reset:"Reset"},table:{rowsCount:"Broj redaka:",search:"Pretraga:",info:"Prikazujem $1 do $2 od $3",prev:"Nazad",next:"Naprijed",all:"Sve",inspector:"Inspektor",skip:"Idi na stranicu",empty:"Prazno"},colorSelector:{addUserColorButton:"Dodaj uzorcima",userColorsTitle:"Korisnike boje"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"hu-HU":{calendar:{months:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December","Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Szep","Okt","Nov","Dec"],days:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat","V","H","K","Sz","Cs","P","Sz","Vas","Ht","Ke","Sze","Cs","Pn","Szom"],time:{days:"NAP",hours:"RA",minutes:"PERC",seconds:"MP"},weekStart:1},buttons:{ok:"OK",cancel:"Mgse",done:"Ksz",today:"Ma",now:"Most",clear:"Trls",help:"Segtsg",yes:"Igen",no:"Nem",random:"Vletlen",save:"Ments",reset:"Visszallts"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"it-IT":{calendar:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre","Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],days:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato","Do","Lu","Ma","Me","Gi","Ve","Sa","Dom","Lun","Mar","Mer","Gio","Ven","Sab"],time:{days:"GIORNI",hours:"ORE",minutes:"MIN",seconds:"SEC",month:"MESE",day:"GIORNO",year:"ANNO"},weekStart:1},buttons:{ok:"OK",cancel:"Annulla",done:"Fatto",today:"Oggi",now:"Adesso",clear:"Cancella",help:"Aiuto",yes:"S",no:"No",random:"Random",save:"Salvare",reset:"Reset"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"pt-BR":{calendar:{months:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro","Jan","Fev","Mar","Abr","Maio","Jun","Jul","Ago","Set","Out","Nov","Dez"],days:["Domingo","Segunda","Tera","Quarta","Quinta","Sexta","Sbado","Do","Se","Te","Qa","Qi","Se","Sa","Dom","Seg","Ter","Qua","Qui","Sex","Sab"],time:{days:"DIAS",hours:"HORAS",minutes:"MINUTOS",seconds:"SEGUNDOS",month:"MS",day:"DIA",year:"ANO"},weekStart:1},buttons:{ok:"OK",cancel:"Cancelar",done:"Feito",today:"Hoje",now:"Agora",clear:"Limpar",help:"Ajuda",yes:"Sim",no:"No",random:"Aleatrio",save:"Salvar",reset:"Restaurar"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"ru-RU":{calendar:{months:["","","","","","","","","","","","","","","","","","","","","","","",""],days:["","","","","","","","","","","","","","","","","","","","",""],time:{days:"",hours:"",minutes:"",seconds:"",month:"",day:"",year:""},weekStart:1},buttons:{ok:"",cancel:"",done:"",today:"",now:"",clear:"",help:"",yes:"",no:"",random:"",save:"",reset:""},table:{rowsCount:" :",search:":",info:" $1  $2  $3 ",prev:"",next:"",all:"",inspector:"",skip:"  ",empty:" "},colorSelector:{addUserColorButton:"  ",userColorsTitle:" "},switch:{on:"",off:""}}})}(Metro),function(e,t){m4q.extend(e.locales,{"tr-TR":{calendar:{months:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk","Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],days:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi","Pa","Pz","Sa","a","Pe","Cu","Ct","Paz","Pzt","Sal","ar","Per","Cum","Cmt"],time:{days:"GN",hours:"SAAT",minutes:"DAK",seconds:"SAN",month:"AY",day:"GN",year:"YIL"},weekStart:1},buttons:{ok:"Tamam",cancel:"Vazge",done:"Bitti",today:"Bugn",now:"imdi",clear:"Temizle",help:"Yardm",yes:"Evet",no:"Hayr",random:"Rasgele",save:"Kurtarmak",reset:"Sfrla"},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"uk-UA":{calendar:{months:["","","","","","","","","","","","","","","","","","","","","","","",""],days:["","","","","","","","","","","","","","","","","i","","","",""],time:{days:"",hours:"",minutes:"",seconds:"",month:"",day:"",year:""},weekStart:1},buttons:{ok:"",cancel:"",done:"",today:"",now:"",clear:"",help:"",yes:"",no:"",random:"",save:"",reset:""},table:{rowsCount:" :",search:":",info:" $1  $2  $3 ",prev:"",next:"",all:"",inspector:"",skip:"  ",empty:" "},colorSelector:{addUserColorButton:"  ",userColorsTitle:" "},switch:{on:"",off:""}}})}(Metro),function(e,t){m4q.extend(e.locales,{"zh-CN":{calendar:{months:["","","","","","","","","","","","","1","2","3","4","5","6","7","8","9","10","11","12"],days:["","","","","","","","","","","","","","","","","","","","",""],time:{days:"",hours:"",minutes:"",seconds:"",month:"",day:"",year:""},weekStart:1},buttons:{ok:"",cancel:"",done:"",today:"",now:"",clear:"",help:"",yes:"",no:"",random:"",save:"",reset:""},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(e,t){m4q.extend(e.locales,{"zh-TW":{calendar:{months:["","","","","","","","","","","","","1","2","3","4","5","6","7","8","9","10","11","12"],days:["","","","","","","","","","","","","","","","","","","","",""],time:{days:"",hours:"",minutes:"",seconds:"",month:"",day:"",year:""},weekStart:1},buttons:{ok:"",cancel:"",done:"",today:"",now:"",clear:"",help:"",yes:"",no:"",random:"",save:"",reset:""},table:{rowsCount:"Show entries:",search:"Search:",info:"Showing $1 to $2 of $3 entries",prev:"Prev",next:"Next",all:"All",inspector:"Inspector",skip:"Goto page",empty:"Nothing to show"},colorSelector:{addUserColorButton:"ADD TO SWATCHES",userColorsTitle:"USER COLORS"},switch:{on:"on",off:"off"}}})}(Metro),function(){"use strict";"function"!=typeof Array.prototype.shuffle&&(Array.prototype.shuffle=function(){for(var e,t,n=this.length;0!==n;)t=Math.floor(Math.random()*n),e=this[n-=1],this[n]=this[t],this[t]=e;return this}),"function"!=typeof Array.prototype.clone&&(Array.prototype.clone=function(){return this.slice(0)}),"function"!=typeof Array.prototype.unique&&(Array.prototype.unique=function(){for(var e=this.concat(),t=0;t<e.length;++t)for(var n=t+1;n<e.length;++n)e[t]===e[n]&&e.splice(n--,1);return e})}(),function(){"use strict";Number.prototype.format=function(e,t,n,i){var s="\\d(?=(\\d{"+(t||3)+"})+"+(e>0?"\\D":"$")+")",o=this.toFixed(Math.max(0,~~e));return(i?o.replace(".",i):o).replace(new RegExp(s,"g"),"$&"+(n||","))}}(),function(){"use strict";String.prototype.toArray=function(e,t,n,i){return t=t||"string",n=null!=n&&n,(""+this).split(e=e||",").map((function(e){var s;switch(t){case"int":case"integer":s=isNaN(e)?e.trim():parseInt(e);break;case"number":case"float":s=isNaN(e)?e:parseFloat(e);break;case"date":s=n?Datetime.from(e,n,i||"en-US"):datetime(e);break;default:s=e.trim()}return s}))},String.prototype.capitalize=function(){return this.substr(0,1).toUpperCase()+this.substr(1)}}(),function(e,t){"use strict";e.utils={isVisible:function(e){var n=t(e)[0];return"none"!==this.getStyleOne(n,"display")&&"hidden"!==this.getStyleOne(n,"visibility")&&null!==n.offsetParent},isUrl:function(e){return/^(\.\/|\.\.\/|ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@\-\/]))?/.test(e)},isTag:function(e){return/^<\/?[\w\s="/.':;#-\/\?]+>/gi.test(e)},isEmbedObject:function(e){var n=!1;return t.each(["iframe","object","embed","video"],(function(){("string"==typeof e&&e.toLowerCase()===this||void 0!==e.nodeType&&e.tagName.toLowerCase()===this)&&(n=!0)})),n},isVideoUrl:function(e){return/youtu\.be|youtube|twitch|vimeo/gi.test(e)},isDate:function(e,t,n){var i;if(this.isDateObject(e))return!0;try{return i=t?Datetime.from(e,t,n||"en-US"):datetime(e),Datetime.isDatetime(i)}catch(e){return!1}},isDateObject:function(e){return"object"==typeof e&&void 0!==e.getMonth},isInt:function(e){return!isNaN(e)&&+e%1==0},isFloat:function(e){return!isNaN(e)&&+e%1!=0||/^\d*\.\d+$/.test(e)},isFunc:function(e){return this.isType(e,"function")},isObject:function(e){return this.isType(e,"object")},isObject2:function(e){return"object"==typeof e&&!Array.isArray(e)},isType:function(e,t){if(!this.isValue(e))return!1;if(typeof e===t)return e;if("tag"===(""+t).toLowerCase()&&this.isTag(e))return e;if("url"===(""+t).toLowerCase()&&this.isUrl(e))return e;if("array"===(""+t).toLowerCase()&&Array.isArray(e))return e;if(this.isTag(e)||this.isUrl(e))return!1;if(typeof window[e]===t)return window[e];if("string"==typeof e&&-1===e.indexOf("."))return!1;if("string"==typeof e&&/[/\s([]+/gm.test(e))return!1;if("number"==typeof e&&"number"!==t.toLowerCase())return!1;var n,i=e.split("."),s=window;for(n=0;n<i.length;n++)s=s[i[n]];return typeof s===t&&s},$:function(){return window.useJQuery?jQuery:m4q},isMetroObject:function(n,i){var s=t(n),o=e.getPlugin(n,i);return 0===s.length?(console.warn(i+" "+n+" not found!"),!1):void 0!==o||(console.warn("Element not contain role "+i+'! Please add attribute data-role="'+i+'" to element '+n),!1)},isJQuery:function(e){return"undefined"!=typeof jQuery&&e instanceof jQuery},isM4Q:function(e){return"undefined"!=typeof m4q&&e instanceof m4q},isQ:function(e){return this.isJQuery(e)||this.isM4Q(e)},embedUrl:function(e){return-1!==e.indexOf("youtu.be")&&(e="https://www.youtube.com/embed/"+e.split("/").pop()),"<div class='embed-container'><iframe src='"+e+"'></iframe></div>"},elementId:function(e){return e+"-"+(new Date).getTime()+t.random(1,1e3)},secondsToTime:function(e){return{d:Math.floor(e%31536e3/86400),h:Math.floor(e%31536e3%86400/3600),m:Math.floor(e%31536e3%86400%3600/60),s:Math.round(e%31536e3%86400%3600%60)}},secondsToFormattedString:function(e){var t=parseInt(e,10),n=Math.floor(t/3600),i=Math.floor((t-3600*n)/60),s=t-3600*n-60*i;return[Cake.lpad(n,2,"0"),Cake.lpad(i,2,"0"),Cake.lpad(s,2,"0")].join(":")},func:function(e){return new Function("a",e)},exec:function(e,t,n){var i;if(null==e)return!1;var s=this.isFunc(e);!1===s&&(s=this.func(e));try{i=s.apply(n,t)}catch(e){if(i=null,!0===window.METRO_THROWS)throw e}return i},isOutsider:function(e){var n,i=t(e),s=i.clone();return s.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),i.parent().append(s),n=this.inViewport(s[0]),s.remove(),!n},inViewport:function(e){var t=this.rect(e);return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},rect:function(e){return e.getBoundingClientRect()},getCursorPosition:function(e,t){var n=this.rect(e);return{x:this.pageXY(t).x-n.left-window.pageXOffset,y:this.pageXY(t).y-n.top-window.pageYOffset}},getCursorPositionX:function(e,t){return this.getCursorPosition(e,t).x},getCursorPositionY:function(e,t){return this.getCursorPosition(e,t).y},objectLength:function(e){return Object.keys(e).length},percent:function(e,t,n){if(0===e)return 0;var i=100*t/e;return!0===n?Math.round(i):Math.round(100*i)/100},objectShift:function(e){var n=0;return t.each(e,(function(e){(0===n||n>e)&&(n=e)})),delete e[n],e},objectDelete:function(e,t){void 0!==e[t]&&delete e[t]},arrayDeleteByMultipleKeys:function(e,t){return t.forEach((function(t){delete e[t]})),e.filter((function(e){return void 0!==e}))},arrayDelete:function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},arrayDeleteByKey:function(e,t){e.splice(t,1)},nvl:function(e,t){return null==e?t:e},objectClone:function(e){var n={};for(var i in e)t.hasProp(e,i)&&(n[i]=e[i]);return n},github:function(e,n){var i=this;t.json("https://api.github.com/repos/"+e).then((function(e){i.exec(n,[e])}))},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var i=e.indexOf("Edge/");return i>0&&parseInt(e.substring(i+5,e.indexOf(".",i)),10)},detectChrome:function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)},pageHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},cleanPreCode:function(e){Array.prototype.slice.call(document.querySelectorAll(e),0).forEach((function(e){var t=e.textContent.replace(/^[\r\n]+/,"").replace(/\s+$/g,"");if(/^\S/gm.test(t))e.textContent=t;else{for(var n,i,s,o=/^[\t ]+/gm,r=1e3;n=o.exec(t);)(s=n[0].length)<r&&(r=s,i=n[0]);1e3!==r&&(e.textContent=t.replace(new RegExp("^"+i,"gm"),"").trim())}}))},coords:function(e){var n=t(e)[0].getBoundingClientRect();return{top:n.top+window.pageYOffset,left:n.left+window.pageXOffset}},positionXY:function(e,t){switch(t){case"client":return this.clientXY(e);case"screen":return this.screenXY(e);case"page":return this.pageXY(e);default:return{x:0,y:0}}},clientXY:function(e){return{x:e.changedTouches?e.changedTouches[0].clientX:e.clientX,y:e.changedTouches?e.changedTouches[0].clientY:e.clientY}},screenXY:function(e){return{x:e.changedTouches?e.changedTouches[0].screenX:e.screenX,y:e.changedTouches?e.changedTouches[0].screenY:e.screenY}},pageXY:function(e){return{x:e.changedTouches?e.changedTouches[0].pageX:e.pageX,y:e.changedTouches?e.changedTouches[0].pageY:e.pageY}},isRightMouse:function(e){return"which"in e?3===e.which:"button"in e?2===e.button:void 0},hiddenElementSize:function(e,n){var i,s,o=t(e).clone(!0);return o.removeAttr("data-role").css({visibility:"hidden",position:"absolute",display:"block"}),t("body").append(o),this.isValue(n)||(n=!1),i=o.outerWidth(n),s=o.outerHeight(n),o.remove(),{width:i,height:s}},getStyle:function(e,n){var i=t(e)[0];return window.getComputedStyle(i,n)},getStyleOne:function(e,t){return this.getStyle(e).getPropertyValue(t)},getInlineStyles:function(e){var n,i,s={},o=t(e)[0];for(n=0,i=o.style.length;n<i;n++){var r=o.style[n];s[r]=o.style[r]}return s},encodeURI:function(e){return encodeURI(e).replace(/%5B/g,"[").replace(/%5D/g,"]")},updateURIParameter:function(e,t,n){var i=new RegExp("([?&])"+t+"=.*?(&|$)","i"),s=-1!==e.indexOf("?")?"&":"?";return e.match(i)?e.replace(i,"$1"+t+"="+n+"$2"):e+s+t+"="+n},getURIParameter:function(e,t){e||(e=window.location.href),t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null},getLocales:function(){return Object.keys(e.locales)},addLocale:function(n){e.locales=t.extend({},e.locales,n)},aspectRatioH:function(e,t){return"16/9"===t?9*e/16:"21/9"===t?9*e/21:"4/3"===t?3*e/4:void 0},aspectRatioW:function(e,t){return"16/9"===t?16*e/9:"21/9"===t?21*e/9:"4/3"===t?4*e/3:void 0},valueInObject:function(e,t){return Object.values(e).indexOf(t)>-1},keyInObject:function(e,t){return Object.keys(e).indexOf(t)>-1},inObject:function(e,t,n){return void 0!==e[t]&&e[t]===n},newCssSheet:function(e){var t=document.createElement("style");return void 0!==e&&t.setAttribute("media",e),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},addCssRule:function(e,t,n,i){e.insertRule(t+"{"+n+"}",i)},media:function(e){return window.matchMedia(e).matches},mediaModes:function(){return window.METRO_MEDIA},mediaExist:function(e){return window.METRO_MEDIA.indexOf(e)>-1},inMedia:function(e){return window.METRO_MEDIA.indexOf(e)>-1&&window.METRO_MEDIA.indexOf(e)===window.METRO_MEDIA.length-1},isValue:function(e){return null!=e&&""!==e},isNull:function(e){return null==e},isNegative:function(e){return parseFloat(e)<0},isPositive:function(e){return parseFloat(e)>0},isZero:function(e){return 0===parseFloat(e.toFixed(2))},between:function(e,t,n,i){return!0===i?e>=t&&e<=n:e>t&&e<n},parseMoney:function(e){return Number(parseFloat(e.replace(/[^0-9-.]/g,"")))},parseCard:function(e){return e.replace(/[^0-9]/g,"")},parsePhone:function(e){return this.parseCard(e)},parseNumber:function(e,t,n){return e.replace(new RegExp("\\"+t,"g"),"").replace(new RegExp("\\"+n,"g"),".")},nearest:function(e,t,n){return e/=t,Math[!0===n?"floor":"ceil"](e)*t},bool:function(e){switch(e){case!0:case"true":case 1:case"1":case"on":case"yes":return!0;default:return!1}},copy:function(e){var n,i,s=document.body,o=t(e)[0];if(document.createRange&&window.getSelection){n=document.createRange(),(i=window.getSelection()).removeAllRanges();try{n.selectNodeContents(o),i.addRange(n)}catch(e){n.selectNode(o),i.addRange(n)}}else s.createTextRange&&((n=s.createTextRange()).moveToElementText(o),n.select());document.execCommand("Copy"),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},decCount:function(e){return e%1==0?0:e.toString().split(".")[1].length}},!0===window.METRO_GLOBAL_COMMON&&(window.Utils=e.utils)}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={accordionDeferred:0,showMarker:!0,material:!1,duration:METRO_ANIMATION_DURATION,oneFrame:!0,showActive:!0,activeFrameClass:"",activeHeadingClass:"",activeContentClass:"",clsFrame:"",clsHeading:"",clsContent:"",clsAccordion:"",clsActiveFrame:"",clsActiveFrameHeading:"",clsActiveFrameContent:"",onFrameOpen:e.noop,onFrameBeforeOpen:e.noop_true,onFrameClose:e.noop,onFrameBeforeClose:e.noop_true,onAccordionCreate:e.noop};e.accordionSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAccordionSetup&&e.accordionSetup(window.metroAccordionSetup),e.Component("accordion",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("accordionCreate",{element:e})},_createStructure:function(){var e,n=this,i=this.element,s=this.options,o=i.children(".frame"),r=i.children(".frame.active");i.addClass("accordion").addClass(s.clsAccordion),o.addClass(s.clsFrame).each((function(){var e=t(this);e.children(".heading").addClass(s.clsHeading),e.children(".content").addClass(s.clsContent)})),!0===s.showMarker&&i.addClass("marker-on"),!0===s.material&&i.addClass("material"),e=0===r.length?o[0]:r[0],this._hideAll(),!0===s.showActive&&(!0===s.oneFrame?this._openFrame(e):t.each(r,(function(){n._openFrame(this)})))},_createEvents:function(){var n=this,i=this.element,s=this.options,o=i.children(".frame.active");i.on(e.events.click,".heading",(function(){var e=t(this),r=e.parent();if(e.closest(".accordion")[0]!==i[0])return!1;r.hasClass("active")?1===o.length&&s.oneFrame||n._closeFrame(r):n._openFrame(r)}))},_openFrame:function(e){var i=this.element,s=this.options,o=t(e);if(!1===n.exec(s.onFrameBeforeOpen,[o[0]],i[0]))return!1;!0===s.oneFrame&&this._closeAll(o[0]),o.addClass("active "+s.activeFrameClass).addClass(s.clsActiveFrame),o.children(".heading").addClass(s.activeHeadingClass).addClass(s.clsActiveFrameHeading),o.children(".content").addClass(s.activeContentClass).addClass(s.clsActiveFrameContent).slideDown(s.duration),this._fireEvent("frameOpen",{frame:o[0]})},_closeFrame:function(e){var i=this.element,s=this.options,o=t(e);o.hasClass("active")&&!1!==n.exec(s.onFrameBeforeClose,[o[0]],i[0])&&(o.removeClass("active "+s.activeFrameClass).removeClass(s.clsActiveFrame),o.children(".heading").removeClass(s.activeHeadingClass).removeClass(s.clsActiveFrameHeading),o.children(".content").removeClass(s.activeContentClass).removeClass(s.clsActiveFrameContent).slideUp(s.duration),this._fireEvent("frameClose",{frame:o[0]}))},_closeAll:function(e){var n=this,i=this.element.children(".frame");t.each(i,(function(){e!==this&&n._closeFrame(this)}))},_hideAll:function(){var e=this.element.children(".frame");t.each(e,(function(){t(this).children(".content").hide()}))},_openAll:function(){var e=this,n=this.element.children(".frame");t.each(n,(function(){e._openFrame(this)}))},open:function(e){var t=this.element.children(".frame").eq(e);this._openFrame(t)},changeAttribute:function(e,t){},destroy:function(){var t=this.element;return t.off(e.events.click,".heading"),t}})}(Metro,m4q),function(e,t){"use strict";var n={activityDeferred:0,type:"ring",style:"color",size:64,radius:20,onActivityCreate:e.noop};e.activitySetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroActivitySetup&&e.activitySetup(window.metroActivitySetup),e.Component("activity",{init:function(e,t){return this._super(t,e,n),this},_create:function(){var e,n,i=this.element,s=this.options;switch(i.html("").addClass(s.style+"-style").addClass("activity-"+s.type),s.type){case"metro":!function(){for(e=0;e<5;e++)t("<div/>").addClass("circle").appendTo(i)}();break;case"square":!function(){for(e=0;e<4;e++)t("<div/>").addClass("square").appendTo(i)}();break;case"cycle":t("<div/>").addClass("cycle").appendTo(i);break;case"simple":t('<svg class="circular"><circle class="path" cx="'+s.size/2+'" cy="'+s.size/2+'" r="'+s.radius+'" fill="none" stroke-width="2" stroke-miterlimit="10"/></svg>').appendTo(i);break;case"atom":!function(){for(e=0;e<3;e++)t("<span/>").addClass("electron").appendTo(i)}();break;case"bars":!function(){for(e=0;e<6;e++)t("<span/>").addClass("bar").appendTo(i)}();break;default:!function(){for(e=0;e<5;e++)n=t("<div/>").addClass("wrap").appendTo(i),t("<div/>").addClass("circle").appendTo(n)}()}this._fireEvent("activity-create",{element:i})},changeAttribute:function(e){},destroy:function(){return this.element}}),e.activity={open:function(t){var n=t||{},i='<div data-role="activity" data-type="'+(n.type?n.type:"cycle")+'" data-style="'+(n.style?n.style:"color")+'"></div>',s=n.text?'<div class="text-center">'+n.text+"</div>":"";return e.dialog.create({content:i+s,defaultAction:!1,clsContent:"d-flex flex-column flex-justify-center flex-align-center bg-transparent no-shadow w-auto",clsDialog:"no-border no-shadow bg-transparent global-dialog",autoHide:n.autoHide?n.autoHide:0,overlayClickClose:!0===n.overlayClickClose,overlayColor:n.overlayColor?n.overlayColor:"#000000",overlayAlpha:n.overlayAlpha?n.overlayAlpha:.5,clsOverlay:"global-overlay"})},close:function(t){e.dialog.close(t)}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={adblockDeferred:0,checkInterval:1e3,fireOnce:!0,checkStop:10,localhost:!1,onAlert:e.noop,onFishingStart:e.noop,onFishingDone:e.noop};e.adblockSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAdblockSetup&&e.adblockSetup(window.metroAdblockSetup);var s={bite:function(){t("<div>").addClass("adblock-bite adsense google-adsense dblclick advert topad top_ads topAds textads sponsoredtextlink_container show_ads right-banner rekl mpu module-ad mid_ad mediaget horizontal_ad headerAd contentAd brand-link bottombanner bottom_ad_block block_ad bannertop banner-right banner-body b-banner b-article-aside__banner b-advert adwrapper adverts advertisment advertisement:not(body) advertise advert_list adtable adsense adpic adlist adleft adinfo adi adholder adframe addiv ad_text ad_space ad_right ad_links ad_body ad_block ad_Right adTitle adText".split(" ").shuffle().join(" ")).css({position:"fixed",height:1,width:1,overflow:"hidden",visibility:"visible",top:0,left:0}).append(t("<a href='https://dblclick.net'>").html("dblclick.net")).appendTo("body"),s.options.adblockDeferred?setTimeout((function(){s.fishing()}),s.options.adblockDeferred):this.fishing()},fishing:function(){var e=s.options,i="number"==typeof e.fireOnce?e.fireOnce:0,o=e.checkStop,r=!1,a=function(){var a=t(".adsense.google-adsense.dblclick.advert.adblock-bite"),l=a.find("a"),c=function(){clearInterval(r),n.exec(e.onFishingDone),t(window).fire("fishing-done"),a.remove()};e.localhost||!t.localhost?!a.length||!l.length||a.css("display").indexOf("none")>-1||l.css("display").indexOf("none")>-1?(n.exec(s.options.onAlert),t(window).fire("adblock-alert"),(!0===s.options.fireOnce||0==--i)&&c()):!1!==o&&0==--o&&c():c()};n.exec(e.onFishingStart),t(window).fire("fishing-start"),r=setInterval((function(){a()}),s.options.checkInterval),a()}};e.Adblock=s,t((function(){s.options=t.extend({},i),t(window).on("metro-initiated",(function(){s.bite()}))}))}(Metro,m4q),function(e,t){"use strict";var n={duration:METRO_ANIMATION_DURATION,ease:"linear"};e.animations={switchIn:function(e){t(e).hide().css({left:0,top:0}).show()},switchOut:function(e){t(e).hide()},switch:function(e,t){this.switchOut(e),this.switchIn(t)},slideUpIn:function(e,i){var s,o=t(e),r=o.parent().outerHeight(!0);s=t.extend({},n,i),o.css({top:r,left:0,zIndex:2}).animate({draw:{top:0,opacity:1},dur:s.duration,ease:s.ease})},slideUpOut:function(e,i){var s,o=t(e),r=o.parent().outerHeight(!0);s=t.extend({},n,i),o.css({zIndex:1}).animate({draw:{top:-r,opacity:0},dur:s.duration,ease:s.ease})},slideUp:function(e,t,n){this.slideUpOut(e,n),this.slideUpIn(t,n)},slideDownIn:function(e,i){var s,o=t(e),r=o.parent().outerHeight(!0);s=t.extend({},n,i),o.css({left:0,top:-r,zIndex:2}).animate({draw:{top:0,opacity:1},dur:s.duration,ease:s.ease})},slideDownOut:function(e,i){var s,o=t(e),r=o.parent().outerHeight(!0);s=t.extend({},n,i),o.css({zIndex:1}).animate({draw:{top:r,opacity:0},dur:s.duration,ease:s.ease})},slideDown:function(e,t,n){this.slideDownOut(e,n),this.slideDownIn(t,n)},slideLeftIn:function(e,i){var s,o=t(e),r=o.parent().outerWidth(!0);s=t.extend({},n,i),o.css({left:r,zIndex:2}).animate({draw:{left:0,opacity:1},dur:s.duration,ease:s.ease})},slideLeftOut:function(e,i){var s,o=t(e),r=o.parent().outerWidth(!0);s=t.extend({},n,i),o.css({zIndex:1}).animate({draw:{left:-r,opacity:0},dur:s.duration,ease:s.ease})},slideLeft:function(e,t,n){this.slideLeftOut(e,n),this.slideLeftIn(t,n)},slideRightIn:function(e,i){var s,o=t(e),r=o.parent().outerWidth(!0);s=t.extend({},n,i),o.css({left:-r,zIndex:2}).animate({draw:{left:0,opacity:1},dur:s.duration,ease:s.ease})},slideRightOut:function(e,i){var s,o=t(e),r=o.parent().outerWidth(!0);s=t.extend({},n,i),o.css({zIndex:1}).animate({draw:{left:r,opacity:0},dur:s.duration,ease:s.ease})},slideRight:function(e,t,n){this.slideRightOut(e,n),this.slideRightIn(t,n)},fadeIn:function(e,i){var s=t.extend({},n,i);t(e).css({top:0,left:0,opacity:0}).animate({draw:{opacity:1},dur:s.duration,ease:s.ease})},fadeOut:function(e,i){var s=t.extend({},n,i);t(e).animate({draw:{opacity:0},dur:s.duration,ease:s.ease})},fade:function(e,t,n){this.fadeOut(e,n),this.fadeIn(t,n)},zoomIn:function(e,i){var s=t.extend({},n,i);t(e).css({top:0,left:0,opacity:0,transform:"scale(3)",zIndex:2}).animate({draw:{scale:1,opacity:1},dur:s.duration,ease:s.ease})},zoomOut:function(e,i){var s=t.extend({},n,i);t(e).css({zIndex:1}).animate({draw:{scale:3,opacity:0},dur:s.duration,ease:s.ease})},zoom:function(e,t,n){this.zoomOut(e,n),this.zoomIn(t,n)},swirlIn:function(e,i){var s=t.extend({},n,i);t(e).css({top:0,left:0,opacity:0,transform:"scale(3) rotate(180deg)",zIndex:2}).animate({draw:{scale:1,rotate:0,opacity:1},dur:s.duration,ease:s.ease})},swirlOut:function(e,i){var s=t.extend({},n,i);t(e).css({zIndex:1}).animate({draw:{scale:3,rotate:"180deg",opacity:0},dur:s.duration,ease:s.ease})},swirl:function(e,t,n){this.swirlOut(e,n),this.swirlIn(t,n)}},!0===window.METRO_GLOBAL_COMMON&&(window.Animations=e.animations)}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={appbarDeferred:0,expand:!1,expandPoint:null,duration:100,onMenuOpen:e.noop,onMenuClose:e.noop,onBeforeMenuOpen:e.noop,onBeforeMenuClose:e.noop,onMenuCollapse:e.noop,onMenuExpand:e.noop,onAppBarCreate:e.noop};e.appBarSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAppBarSetup&&e.appBarSetup(window.metroAppBarSetup),e.Component("app-bar",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("app-bar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("app-bar-create",{element:e})},_createStructure:function(){var i,s,o=this.element,r=this.options,a=n.getStyleOne(o,"background-color");if(o.addClass("app-bar"),0===(i=o.find(".hamburger")).length){i=t("<button>").attr("type","button").addClass("hamburger menu-down");for(var l=0;l<3;l++)t("<span>").addClass("line").appendTo(i);"rgba(0, 0, 0, 0)"!==a&&!0!==e.colors.isLight(a)||i.addClass("dark")}o.prepend(i),0===(s=o.find(".app-bar-menu")).length?i.css("display","none"):n.addCssRule(e.sheet,".app-bar-menu li","list-style: none!important;"),"block"===i.css("display")?(s.hide().addClass("collapsed"),i.removeClass("hidden")):i.addClass("hidden"),(!0===r.expand||n.isValue(r.expandPoint)&&n.mediaExist(r.expandPoint))&&(o.addClass("app-bar-expand"),i.addClass("hidden"))},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.find(".app-bar-menu"),a=s.find(".hamburger");s.on(e.events.click,".hamburger",(function(){0!==r.length&&(r.hasClass("collapsed")?i.open():i.close())})),t(window).on(e.events.resize,(function(){!0!==o.expand&&(n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint)?(s.addClass("app-bar-expand"),i._fireEvent("menu-expand")):(s.removeClass("app-bar-expand"),i._fireEvent("menu-collapse"))),0!==r.length&&("block"!==a.css("display")?(r.show((function(){t(this).removeStyleProperty("display")})),a.addClass("hidden")):(a.removeClass("hidden"),a.hasClass("active")?r.show().removeClass("collapsed"):r.hide().addClass("collapsed")))}),{ns:this.id})},close:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),s=t.find(".hamburger");e._fireEvent("before-menu-close",{menu:i[0]}),i.slideUp(n.duration,(function(){i.addClass("collapsed").removeClass("opened"),s.removeClass("active"),e._fireEvent("menu-close",{menu:i[0]})}))},open:function(){var e=this,t=this.element,n=this.options,i=t.find(".app-bar-menu"),s=t.find(".hamburger");e._fireEvent("before-menu-open",{menu:i[0]}),i.slideDown(n.duration,(function(){i.removeClass("collapsed").addClass("opened"),s.addClass("active"),e._fireEvent("menu-open",{menu:i[0]})}))},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".hamburger"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={audioVolume:.5,audioSrc:"",onAudioStart:e.noop,onAudioEnd:e.noop,onAudioButtonCreate:e.noop};e.audioButtonSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAudioButtonSetup&&e.audioButtonSetup(window.metroAudioButtonSetup),e.Component("audio-button",{init:function(e,t){return this._super(t,e,i,{audio:null,canPlay:null,id:n.elementId("audioButton")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("audioButtonCreate",{element:e})},_createStructure:function(){var e=this.options;this.audio=new Audio(e.audioSrc),this.audio.volume=e.audioVolume},_createEvents:function(){var t=this,n=this.element,i=this.options,s=this.audio;s.addEventListener("loadeddata",(function(){t.canPlay=!0})),s.addEventListener("ended",(function(){t._fireEvent("audioEnd",{src:i.audioSrc,audio:s})})),n.on(e.events.click,(function(){t.play()}),{ns:this.id})},play:function(e){var t=this.element,i=this.options,s=this.audio;""!==i.audioSrc&&this.audio.duration&&this.canPlay&&(this._fireEvent("audioStart",{src:i.audioSrc,audio:s}),s.pause(),s.currentTime=0,s.play(),n.exec(e,[s],t[0]))},stop:function(e){var t=this.element,i=this.options,s=this.audio;s.pause(),s.currentTime=0,this._fireEvent("audioEnd",{src:i.audioSrc,audio:s}),n.exec(e,[s],t[0])},changeAttribute:function(e){var t,n,i=this.element,s=this.options,o=this.audio;"data-audio-src"===e&&(t=i.attr("data-audio-src"))&&""!==t.trim()&&(s.audioSrc=t,o.src=t),"data-audio-volume"===e&&(n=parseFloat(i.attr("data-audio-volume")),isNaN(n)||(s.audioVolume=n,o.volume=n))},destroy:function(){this.element.off(e.events.click,{ns:this.id})}}),e.playSound=function(e){var t,i="string"==typeof e?e:e.audioSrc,s=e&&e.audioVolume?e.audioVolume:.5;i&&((t=new Audio(i)).volume=parseFloat(s),t.addEventListener("loadeddata",(function(){e&&e.onAudioStart&&n.exec(e.onAudioStart,[i],this),this.play()})),t.addEventListener("ended",(function(){e&&e.onAudioEnd&&n.exec(e.onAudioEnd,[null],this)})))}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={audioDeferred:0,playlist:null,src:null,volume:.5,loop:!1,autoplay:!1,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,showPlaylist:!0,showNext:!0,showPrev:!0,showFirst:!0,showLast:!0,showForward:!0,showBackward:!0,showShuffle:!0,showRandom:!0,loopIcon:"<span class='default-icon-loop'></span>",stopIcon:"<span class='default-icon-stop'></span>",playIcon:"<span class='default-icon-play'></span>",pauseIcon:"<span class='default-icon-pause'></span>",muteIcon:"<span class='default-icon-mute'></span>",volumeLowIcon:"<span class='default-icon-low-volume'></span>",volumeMediumIcon:"<span class='default-icon-medium-volume'></span>",volumeHighIcon:"<span class='default-icon-high-volume'></span>",playlistIcon:"<span class='default-icon-playlist'></span>",nextIcon:"<span class='default-icon-next'></span>",prevIcon:"<span class='default-icon-prev'></span>",firstIcon:"<span class='default-icon-first'></span>",lastIcon:"<span class='default-icon-last'></span>",forwardIcon:"<span class='default-icon-forward'></span>",backwardIcon:"<span class='default-icon-backward'></span>",shuffleIcon:"<span class='default-icon-shuffle'></span>",randomIcon:"<span class='default-icon-random'></span>",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onAudioPlayerCreate:e.noop};e.audioPlayerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroAudioPlayerSetup&&e.audioPlayerSetup(window.metroAudioPlayerSetup),e.Component("audio-player",{init:function(e,t){return this._super(t,e,i,{preloader:null,player:null,audio:t,stream:null,volume:null,volumeBackup:0,muted:!1}),this},_create:function(){var e=this.element,t=this.options;this._createPlayer(),this._createControls(),this._createEvents(),!0===t.autoplay&&this.play(),this._fireEvent("audio-player-create",{element:e,player:this.player})},_createPlayer:function(){var e=this.element,n=this.options,i=this.audio,s=e.prev(),o=e.parent(),r=t("<div>").addClass("media-player audio-player "+e[0].className);0===s.length?o.prepend(r):r.insertAfter(s),e.appendTo(r),t.each(["muted","autoplay","controls","height","width","loop","poster","preload"],(function(){e.removeAttr(this)})),e.attr("preload","auto"),i.volume=n.volume,null!==n.src&&this._setSource(n.src),e[0].className="",this.player=r},_setSource:function(e){var n=this.element;n.find("source").remove(),n.removeAttr("src"),Array.isArray(e)?t.each(e,(function(){var e=this;void 0!==e.src&&t("<source>").attr("src",e.src).attr("type",void 0!==e.type?e.type:"").appendTo(n)})):n.attr("src",e)},_createControls:function(){var n,i=this,s=this.element,o=this.options,r=this.elem,a=t("<div>").addClass("controls").addClass(o.clsControls).insertAfter(s),l=t("<div>").addClass("stream").appendTo(a),c=t("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(l),h=t("<div>").addClass("load-audio").appendTo(l),u=t("<div>").addClass("volume").appendTo(a),d=t("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(u),p=t("<div>").addClass("info-box").appendTo(a);!0!==o.showInfo&&p.hide(),h.activity({type:"metro",style:"color"}),h.hide(0),this.preloader=h,e.makePlugin(c,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){r.paused||r.pause()},onStop:function(e){r.seekable.length>0&&(r.currentTime=(i.duration*e/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=c,!0!==o.showStream&&l.hide(),e.makePlugin(d,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:100*o.volume,onChangeValue:function(e){r.volume=e/100}}),this.volume=d,!0!==o.showVolume&&u.hide(),!0===o.showLoop&&(n=t("<button>").attr("type","button").addClass("button square loop").html(o.loopIcon).appendTo(a)),!0===o.showPlay&&t("<button>").attr("type","button").addClass("button square play").html(o.playIcon).appendTo(a),!0===o.showStop&&t("<button>").attr("type","button").addClass("button square stop").html(o.stopIcon).appendTo(a),!0===o.showMute&&t("<button>").attr("type","button").addClass("button square mute").html(o.muteIcon).appendTo(a),!0===o.loop&&(n.addClass("active"),s.attr("loop","loop")),this._setVolume(),o.muted&&(i.volumeBackup=r.volume,e.getPlugin(i.volume,"slider").val(0),r.volume=0),p.html("00:00 / 00:00")},_createEvents:function(){var t=this,i=this.element,s=this.options,o=this.elem,r=this.player;i.on("loadstart",(function(){t.preloader.fadeIn()})),i.on("loadedmetadata",(function(){t.duration=o.duration.toFixed(0),t._setInfo(0,t.duration),n.exec(s.onMetadata,[o,r],i[0])})),i.on("canplay",(function(){t._setBuffer(),t.preloader.fadeOut()})),i.on("progress",(function(){t._setBuffer()})),i.on("timeupdate",(function(){var a=Math.round(100*o.currentTime/t.duration);t._setInfo(o.currentTime,t.duration),e.getPlugin(t.stream,"slider").val(a),n.exec(s.onTime,[o.currentTime,t.duration,o,r],i[0])})),i.on("waiting",(function(){t.preloader.fadeIn()})),i.on("loadeddata",(function(){})),i.on("play",(function(){r.find(".play").html(s.pauseIcon),n.exec(s.onPlay,[o,r],i[0])})),i.on("pause",(function(){r.find(".play").html(s.playIcon),n.exec(s.onPause,[o,r],i[0])})),i.on("stop",(function(){e.getPlugin(t.stream,"slider").val(0),n.exec(s.onStop,[o,r],i[0])})),i.on("ended",(function(){e.getPlugin(t.stream,"slider").val(0),n.exec(s.onEnd,[o,r],i[0])})),i.on("volumechange",(function(){t._setVolume()})),r.on(e.events.click,".play",(function(){o.paused?t.play():t.pause()})),r.on(e.events.click,".stop",(function(){t.stop()})),r.on(e.events.click,".mute",(function(){t._toggleMute()})),r.on(e.events.click,".loop",(function(){t._toggleLoop()}))},_toggleLoop:function(){var e=this.player.find(".loop");0!==e.length&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,!1===this.muted?this.audio.volume=this.volumeBackup:(this.volumeBackup=this.audio.volume,this.audio.volume=0),e.getPlugin(this.volume,"slider").val(!1===this.muted?100*this.volumeBackup:0)},_setInfo:function(e,t){this.player.find(".info-box").html(n.secondsToFormattedString(Math.round(e))+" / "+n.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var t=this.audio.buffered.length?Math.round(Math.floor(this.audio.buffered.end(0))/Math.floor(this.audio.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var e=this.audio,t=this.player,n=this.options,i=t.find(".mute"),s=100*e.volume;s>1&&s<30?i.html(n.volumeLowIcon):s>=30&&s<60?i.html(n.volumeMediumIcon):s>=60&&s<=100?i.html(n.volumeHighIcon):i.html(n.muteIcon)},play:function(e){void 0!==e&&this._setSource(e),void 0===this.element.attr("src")&&0===this.element.find("source").length||this.audio.play()},pause:function(){this.audio.pause()},resume:function(){this.audio.paused&&this.play()},stop:function(){this.audio.pause(),this.audio.currentTime=0,e.getPlugin(this.stream,"slider").val(0)},setVolume:function(t){if(void 0===t)return this.audio.volume;t>1&&(t/=100),this.audio.volume=t,e.getPlugin(this.volume,"slider").val(100*t)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeSource:function(){var e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){var e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}},destroy:function(){var t=this.element,n=this.player;return t.off("all"),n.off("all"),e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={bottomsheetDeferred:0,mode:"list",toggle:null,onOpen:e.noop,onClose:e.noop,onBottomSheetCreate:e.noop};e.bottomSheetSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroBottomSheetSetup&&e.bottomSheetSetup(window.metroBottomSheetSetup),e.Component("bottom-sheet",{init:function(e,t){return this._super(t,e,i,{toggle:null}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("bottom-sheet-create",{element:e})},_createStructure:function(){var e=this.element,i=this.options;e.addClass("bottom-sheet").addClass(i.mode+"-list"),n.isValue(i.toggle)&&t(i.toggle).length>0&&(this.toggle=t(i.toggle))},_createEvents:function(){var t=this,i=this.element;n.isValue(this.toggle)&&this.toggle.on(e.events.click,(function(){t.toggle()})),i.on(e.events.click,"li",(function(){t.close()}))},isOpen:function(){return this.element.hasClass("opened")},open:function(e){var t=this.element;n.isValue(e)&&t.removeClass("list-style grid-style").addClass(e+"-style"),this.element.addClass("opened"),this._fireEvent("open",{element:t})},close:function(){var e=this.element;e.removeClass("opened"),this._fireEvent("close",{element:e})},toggle:function(e){this.isOpen()?this.close():this.open(e)},changeAttribute:function(e){},destroy:function(){var t=this.element;return n.isValue(this.toggle)&&this.toggle.off(e.events.click),t.off(e.events.click,"li"),t}}),e.bottomsheet={isBottomSheet:function(e){return n.isMetroObject(e,"bottom-sheet")},open:function(t,n){if(!this.isBottomSheet(t))return!1;e.getPlugin(t,"bottom-sheet").open(n)},close:function(t){if(!this.isBottomSheet(t))return!1;e.getPlugin(t,"bottom-sheet").close()},toggle:function(e,t){if(!this.isBottomSheet(e))return!1;this.isOpen(e)?this.close(e):this.open(e,t)},isOpen:function(t){return!!this.isBottomSheet(t)&&e.getPlugin(t,"bottom-sheet").isOpen()}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={buttongroupDeferred:0,targets:"button",clsActive:"",requiredButton:!1,mode:e.groupMode.ONE,onButtonClick:e.noop,onButtonGroupCreate:e.noop};e.buttonGroupSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroButtonGroupSetup&&e.buttonGroupSetup(window.metroButtonGroupSetup),e.Component("button-group",{init:function(e,t){return this._super(t,e,i,{active:null,id:n.elementId("button-group")}),this},_create:function(){var e=this.element;this._createGroup(),this._createEvents(),this._fireEvent("button-group-create",{element:e})},_createGroup:function(){var n,i,s=this.element,o=this.options;s.addClass("button-group"),n=s.find(o.targets),i=s.find(".active"),o.mode===e.groupMode.ONE&&0===i.length&&!0===o.requiredButton&&t(n[0]).addClass("active"),o.mode===e.groupMode.ONE&&i.length>1&&(n.removeClass("active").removeClass(o.clsActive),t(n[0]).addClass("active")),s.find(".active").addClass("js-active").addClass(o.clsActive)},_createEvents:function(){var n=this,i=this.element,s=this.options;i.on(e.events.click,s.targets,(function(){var o=t(this);n._fireEvent("button-click",{button:this}),s.mode===e.groupMode.ONE&&o.hasClass("active")||(s.mode===e.groupMode.ONE?(i.find(s.targets).removeClass(s.clsActive).removeClass("active js-active"),o.addClass("active").addClass(s.clsActive).addClass("js-active")):o.toggleClass("active").toggleClass(s.clsActive).toggleClass("js-active"))}))},changeAttribute:function(e){},destroy:function(){var t=this.element,n=this.options;return t.off(e.events.click,n.targets),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={showGhost:!1,events:null,startContent:"days",showTime:!1,initialTime:null,initialHours:null,initialMinutes:null,labelTimeHours:null,labelTimeMinutes:null,animationContent:!0,animationSpeed:10,calendarDeferred:0,dayBorder:!1,excludeDay:null,prevMonthIcon:"<span class='default-icon-chevron-left'></span>",nextMonthIcon:"<span class='default-icon-chevron-right'></span>",prevYearIcon:"<span class='default-icon-chevron-left'></span>",nextYearIcon:"<span class='default-icon-chevron-right'></span>",compact:!1,wide:!1,widePoint:null,pickerMode:!1,show:null,locale:METRO_LOCALE,weekStart:METRO_WEEK_START,outside:!0,buttons:"cancel, today, clear, done",yearsBefore:100,yearsAfter:100,headerFormat:"dddd, MMM DD",showHeader:!0,showFooter:!0,showWeekNumber:!1,isDialog:!1,ripple:!1,rippleColor:"#cccccc",exclude:null,preset:null,minDate:null,maxDate:null,weekDayClick:!1,weekNumberClick:!1,multiSelect:!1,special:null,format:METRO_DATE_FORMAT,inputFormat:null,clsCalendar:"",clsCalendarHeader:"",clsCalendarContent:"",clsCalendarFooter:"",clsCalendarMonths:"",clsCalendarYears:"",clsToday:"",clsSelected:"",clsExcluded:"",clsCancelButton:"",clsTodayButton:"",clsClearButton:"",clsDoneButton:"",clsEventCounter:"",clsWeekend:"",clsCurrentWeek:"",clsCalendarTime:"",clsTime:"",clsTimeHours:"",clsTimeMinutes:"",clsTimeButton:"",clsTimeButtonPlus:"",clsTimeButtonMinus:"",clsSpecial:"",clsEvents:"",clsEvent:"",onCancel:e.noop,onToday:e.noop,onClear:e.noop,onDone:e.noop,onDayClick:e.noop,onDrawDay:e.noop,onDrawMonth:e.noop,onDrawYear:e.noop,onWeekDayClick:e.noop,onWeekNumberClick:e.noop,onMonthChange:e.noop,onYearChange:e.noop,onTimeChange:e.noop,onHoursChange:e.noop,onMinutesChange:e.noop,onCalendarCreate:e.noop};e.calendarSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCalendarSetup&&e.calendarSetup(window.metroCalendarSetup),e.Component("calendar",{init:function(e,t){var s=datetime().align("day");return this._super(t,e,i,{today:s,show:s,current:{year:s.year(),month:s.month(),day:s.day()},preset:[],selected:[],exclude:[],special:[],excludeDay:[],events:[],min:null,max:null,locale:null,minYear:null,maxYear:null,id:n.elementId("calendar"),time:[datetime().hour(),datetime().minute()],content:"days",yearDistance:11,yearGroupStart:s.year()}),this},_create:function(){var t=this.element,i=this.options;this.content=i.startContent,this.minYear=this.current.year-this.options.yearsBefore,this.maxYear=this.current.year+this.options.yearsAfter,t.html("").addClass("calendar "+(!0===i.compact?"compact":"")).addClass(i.clsCalendar),n.isValue(i.initialTime)&&(this.time=i.initialTime.split(":")),n.isValue(i.initialHours)&&n.between(i.initialHours,0,23,!0)&&(this.time[0]=parseInt(i.initialHours)),n.isValue(i.initialMinutes)&&n.between(i.initialMinutes,0,59,!0)&&(this.time[1]=parseInt(i.initialMinutes)),!0===i.dayBorder&&t.addClass("day-border"),n.isValue(i.excludeDay)&&(this.excludeDay=(""+i.excludeDay).toArray(",","int")),n.isValue(i.preset)&&this._dates2array(i.preset,"selected"),n.isValue(i.exclude)&&this._dates2array(i.exclude,"exclude"),n.isValue(i.special)&&this._dates2array(i.special,"special"),n.isValue(i.events)&&this._dates2array(i.events,"events"),!1!==i.buttons&&!1===Array.isArray(i.buttons)&&(i.buttons=i.buttons.split(",").map((function(e){return e.trim()}))),this.min=i.minDate?(i.inputFormat?Datetime.from(i.minDate,i.inputFormat):datetime(i.minDate)).align("day"):null,this.max=i.maxDate?(i.inputFormat?Datetime.from(i.maxDate,i.inputFormat):datetime(i.maxDate)).align("day"):null,i.show&&(this.show=(i.show?i.inputFormat?Datetime.from(i.show,i.inputFormat):datetime(i.show):datetime()).align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()}),this.locale=void 0!==e.locales[i.locale]?e.locales[i.locale]:e.locales["en-US"],this._drawCalendar(),this._createEvents(),(!0===i.wide||!n.isNull(i.widePoint)&&n.mediaExist(i.widePoint))&&t.addClass("calendar-wide"),!0===i.ripple&&!1!==n.isFunc(t.ripple)&&t.ripple({rippleTarget:".button, .prev-month, .next-month, .prev-year, .next-year, .day",rippleColor:this.options.rippleColor}),this._fireEvent("calendar-create")},_dates2array:function(e,i){var s,o=this,r=this.options;n.isNull(e)||(s="string"==typeof e?e.toArray():Array.isArray(e)?e:[],t.each(s,(function(){var e;try{e=(r.inputFormat?Datetime.from(this,r.inputFormat):datetime(this)).align("day").format("YYYY-MM-DD")}catch(e){return}o[i].push(e)})))},_createEvents:function(){var i=this,s=this.element,o=this.options;t(window).on(e.events.resize,(function(){!0!==o.wide&&(!n.isNull(o.widePoint)&&n.mediaExist(o.widePoint)?s.addClass("calendar-wide"):s.removeClass("calendar-wide"))}),{ns:this.id}),s.on(e.events.click,".prev-year-group, .next-year-group",(function(){t(this).hasClass("prev-year-group")?i.yearGroupStart-=i.yearDistance:i.yearGroupStart+=i.yearDistance,i._drawContent()})),s.on(e.events.click,".prev-month, .next-month, .prev-year, .next-year",(function(){var e,n=t(this);n.hasClass("prev-month")&&(e=datetime(i.current.year,i.current.month-1,1)).year()<i.minYear||n.hasClass("next-month")&&(e=datetime(i.current.year,i.current.month+1,1)).year()>i.maxYear||n.hasClass("prev-year")&&(e=datetime(i.current.year-1,i.current.month,1)).year()<i.minYear||n.hasClass("next-year")&&(e=datetime(i.current.year+1,i.current.month,1)).year()>i.maxYear||(i.current={year:e.year(),month:e.month(),day:e.day()},setTimeout((function(){i._drawContent(),(n.hasClass("prev-month")||n.hasClass("next-month"))&&i._fireEvent("month-change",{current:i.current}),(n.hasClass("prev-year")||n.hasClass("next-year"))&&i._fireEvent("year-change",{current:i.current})}),o.ripple?300:1))})),s.on(e.events.click,".button.today",(function(){i.toDay(),i._fireEvent("today",{today:i.today.val(),time:i.time})})),s.on(e.events.click,".button.clear",(function(){var e=datetime();i.selected=[],i.time=[e.hour(),e.minute()],i.yearGroupStart=e.year(),i._drawContent(),i._fireEvent("clear")})),s.on(e.events.click,".button.cancel",(function(){i._drawContent(),i._fireEvent("cancel")})),s.on(e.events.click,".button.done",(function(){i._drawContent(),i._fireEvent("done",{selected:i.selected,time:i.time})})),!0===o.weekDayClick&&s.on(e.events.click,".week-days .week-day",(function(e){var r,a,l,c=[];a=(r=t(this)).index();for(var h=0;h<7;h++)c.push(a),a+=o.showWeekNumber?8:7;!0===o.multiSelect&&(l=s.find(".day").filter((function(e){var n=t(e);return c.indexOf(n.index())>-1&&!n.hasClass("outside disabled excluded")})),t.each(l,(function(){var e=t(this),s=e.data("day");-1===i.selected.indexOf(s)?(i.selected.push(s),e.addClass("selected").addClass(o.clsSelected)):(e.removeClass("selected").removeClass(o.clsSelected),n.arrayDelete(i.selected,s))}))),i._fireEvent("week-day-click",{selected:i.selected,day:r[0]}),e.preventDefault(),e.stopPropagation()})),o.weekNumberClick&&s.on(e.events.click,".week-number",(function(e){var r,a,l,c;a=(r=t(this)).text(),l=r.index(),"#"!==a&&(!0===o.multiSelect&&(c=s.find(".day").filter((function(e){var i=t(e),s=i.index();return n.between(s,l,l+8,!1)&&!i.hasClass("outside disabled excluded")})),t.each(c,(function(){var e=t(this),s=e.data("day");-1===i.selected.indexOf(s)?(i.selected.push(s),e.addClass("selected").addClass(o.clsSelected)):(e.removeClass("selected").removeClass(o.clsSelected),n.arrayDelete(i.selected,s))}))),i._fireEvent("week-number-click",{selected:i.selected,num:a,numElement:r[0]}),e.preventDefault(),e.stopPropagation())})),s.on(e.events.click,".day",(function(e){var r,a,l=t(this);if(a=l.data("day"),r=i.selected.indexOf(a),l.hasClass("outside"))return a=datetime(a),i.current={year:a.year(),month:a.month(),day:a.day()},i._drawContent(),void i._fireEvent("month-change",{current:i.current});l.hasClass("disabled")||(!0===o.pickerMode?(i.selected=[a],i.today=datetime(a),i.current.year=i.today.year(),i.current.month=i.today.month(),i.current.day=i.today.day(),i._drawHeader(),i._drawContent()):-1===r?(!1===o.multiSelect&&(s.find(".day").removeClass("selected").removeClass(o.clsSelected),i.selected=[]),i.selected.push(a),l.addClass("selected").addClass(o.clsSelected)):(l.removeClass("selected").removeClass(o.clsSelected),n.arrayDelete(i.selected,a))),i._fireEvent("day-click",{selected:i.selected,day:l[0],time:i.time}),e.preventDefault(),e.stopPropagation()})),s.on(e.events.click,".curr-month",(function(e){i.content="months",i._drawContent(),e.preventDefault(),e.stopPropagation()})),s.on(e.events.click,".month",(function(e){i.current.month=parseInt(t(this).attr("data-month")),i.content="days",i._drawContent(),i._fireEvent("month-change",{current:i.current}),e.preventDefault(),e.stopPropagation()})),s.on(e.events.click,".curr-year",(function(e){"years"!==i.content&&(i.content="years",i._drawContent(),e.preventDefault(),e.stopPropagation())})),s.on(e.events.click,".year",(function(e){i.current.year=parseInt(t(this).attr("data-year")),i.yearGroupStart=i.current.year,i.content="months",i._drawContent(),i._fireEvent("year-change",{current:i.current}),e.preventDefault(),e.stopPropagation()}))},_drawHeader:function(){var e=this.element,n=this.options,i=e.find(".calendar-header");0===i.length&&(i=t("<div>").addClass("calendar-header").addClass(n.clsCalendarHeader).appendTo(e)),i.html(""),t("<div>").addClass("header-year").html(this.today.year()).appendTo(i),t("<div>").addClass("header-day").html(this.today.format(n.headerFormat,n.locale)).appendTo(i),!1===n.showHeader&&i.hide()},_drawFooter:function(){var e=this.element,n=this.options,i=this.locale.buttons,s=e.find(".calendar-footer");!1!==n.buttons&&(0===s.length&&(s=t("<div>").addClass("calendar-footer").addClass(n.clsCalendarFooter).appendTo(e)),s.html(""),t.each(n.buttons,(function(){var e=t("<button>").attr("type","button").addClass("button "+this+" "+n["cls"+Cake.capitalize(this)+"Button"]).html(i[this]).appendTo(s);"cancel"!==this&&"done"!==this||e.addClass("js-dialog-close")})),!1===n.showFooter&&s.hide())},_drawTime:function(){var n,i,s,o,r=this,a=this.element,l=this.options,c=a.find(".calendar-content"),h=t("<div>").addClass("calendar-time").addClass(l.clsCalendarTime).appendTo(c),u=""+this.time[0],d=""+this.time[1],p=this.locale.calendar.time;h.append(n=t("<div>").addClass("calendar-time__inner")),n.append(o=t("<div>").addClass("calendar-time__inner-row")),o.append(t("<div>").addClass("calendar-time__inner-cell").append(t("<span>").html(l.labelTimeHours||p.hours))),o.append(t("<div>").addClass("calendar-time__inner-cell").append(t("<span>").html(l.labelTimeMinutes||p.minutes))),h.append(n=t("<div>").addClass("calendar-time__inner spinners").addClass(l.clsTime)),n.append(i=t("<input type='text' data-cls-spinner-input='"+l.clsTimeHours+"' data-time-part='hours' data-buttons-position='right' data-min-value='0' data-max-value='23'>").addClass("hours").addClass(l.compact?"input-small":"input-normal")),n.append(s=t("<input type='text' data-cls-spinner-input='"+l.clsTimeMinutes+"' data-time-part='minutes' data-buttons-position='right' data-min-value='0' data-max-value='59'>").addClass("minutes").addClass(l.compact?"input-small":"input-normal")),u=Cake.lpad(u,2,"0"),d=Cake.lpad(d,2,"0"),i.val(u),s.val(d),e.makePlugin(n.find("input[type=text]"),"spinner",{onChange:function(e){var n=parseInt(e);"hours"===t(this).attr("data-time-part")?(r.time[0]=n,r._fireEvent("hours-change",{time:r.time,hours:n})):(r.time[1]=n,r._fireEvent("minutes-change",{time:r.time,minutes:n})),r._fireEvent("time-change",{time:r.time})},clsSpinnerButton:l.clsTimeButton,clsSpinnerButtonPlus:l.clsTimeButtonPlus,clsSpinnerButtonMinus:l.clsTimeButtonMinus}),!1===l.showTime&&h.hide()},_drawContentDays:function(){var n,i,s,o=this,r=this.element,a=this.options,l=r.find(".calendar-content"),c=datetime(this.current.year,this.current.month,this.current.day).useLocale(a.locale).calendar(a.weekStart),h=Datetime.getLocale(a.locale),u=this.show.format("YYYY-MM-DD"),d=datetime();0===l.length&&(l=t("<div>").addClass("calendar-content").addClass(a.clsCalendarContent).appendTo(r)),a.showWeekNumber&&l.addClass("-week-numbers"),l.empty(),n=t("<div>").addClass("calendar-toolbar").appendTo(l),t("<span>").addClass("prev-month").html(a.prevMonthIcon).appendTo(n),t("<span>").addClass("curr-month").html(h.months[this.current.month]).appendTo(n),t("<span>").addClass("next-month").html(a.nextMonthIcon).appendTo(n),t("<span>").addClass("prev-year").html(a.prevYearIcon).appendTo(n),t("<span>").addClass("curr-year").html(this.current.year).appendTo(n),t("<span>").addClass("next-year").html(a.nextYearIcon).appendTo(n),i=t("<div>").addClass("week-days").appendTo(l),a.showWeekNumber&&t("<span>").addClass("week-number").html("#").appendTo(i),t.each(c.weekdays,(function(){t("<span>").addClass("week-day").html(this).appendTo(i)})),s=t("<div>").addClass("days").appendTo(l),t.each(c.days,(function(n){var i=this,r=datetime(i).align("day"),l=r.month()!==o.current.month;a.showWeekNumber&&n%7==0&&t("<span>").addClass("week-number").html(r.weekNumber(a.weekStart)).appendTo(s);var h=t("<span>").addClass("day").html(r.day()).appendTo(s);if(h.data("day",i),i===u&&h.addClass("showed"),l&&(h.addClass("outside"),a.outside||h.empty()),i===c.today&&h.addClass("today"),a.showGhost&&r.day()===d.day()&&h.addClass("coincidental"),o.special.length?-1===o.special.indexOf(i)?h.addClass("disabled excluded").addClass(a.clsExcluded):h.addClass(a.clsSpecial):(o.selected.indexOf(i)>-1&&h.addClass("selected").addClass(a.clsSelected),o.exclude.indexOf(i)>-1&&h.addClass("disabled excluded").addClass(a.clsExcluded),o.min&&r.older(o.min)&&h.addClass("disabled excluded").addClass(a.clsExcluded),o.max&&r.younger(o.max)&&h.addClass("disabled excluded").addClass(a.clsExcluded)),-1!==c.weekends.indexOf(i)&&h.addClass(a.clsWeekend),-1!==c.week.indexOf(i)&&h.addClass(a.clsCurrentWeek),o.events.length){var p=t("<div>").addClass("events").addClass(a.clsEvents).appendTo(h);t.each(o.events,(function(){if(this===i){var n=t("<div>").addClass("event").addClass(a.clsEvent).appendTo(p);a.clsEvent||n.css({backgroundColor:e.colors.random()})}}))}a.animationContent&&h.addClass("to-animate"),o._fireEvent("draw-day",{date:r.val(),day:r.day(),month:r.month(),year:r.year(),cell:h[0]})})),this._drawTime(),this._animateContent(".day")},_drawContentMonths:function(){var e,n,i,s=this.element,o=this.options,r=s.find(".calendar-content"),a=this.locale.calendar.months,l=datetime().year(),c=datetime().month();0===r.length&&(r=t("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(s)),r.clear(),e=t("<div>").addClass("calendar-toolbar").appendTo(r),t("<span>").addClass("prev-year").html(o.prevYearIcon).appendTo(e),t("<span>").addClass("curr-year").html(this.current.year).appendTo(e),t("<span>").addClass("next-year").html(o.nextYearIcon).appendTo(e),r.append(n=t("<div>").addClass("months"));for(var h=12;h<24;h++)n.append(i=t("<div>").attr("data-month",h-12).addClass("month").addClass(h-12===c&&this.current.year===l?"today":"").html(a[h])),o.animationContent&&i.addClass("to-animate"),this._fireEvent("draw-month",{month:h-12,year:this.current.year,cell:i[0]});this._animateContent(".months .month")},_drawContentYears:function(){var e,n,i,s=this.element,o=this.options,r=s.find(".calendar-content");0===r.length&&(r=t("<div>").addClass("calendar-content").addClass(o.clsCalendarContent).appendTo(s)),r.clear(),e=t("<div>").addClass("calendar-toolbar").appendTo(r),t("<span>").addClass("prev-year-group").html(o.prevYearIcon).appendTo(e),t("<span>").addClass("curr-year").html(this.yearGroupStart+" - "+(this.yearGroupStart+this.yearDistance)).appendTo(e),t("<span>").addClass("next-year-group").html(o.nextYearIcon).appendTo(e),r.append(n=t("<div>").addClass("years"));for(var a=this.yearGroupStart;a<=this.yearGroupStart+this.yearDistance;a++)n.append(i=t("<div>").attr("data-year",a).addClass("year").addClass(a===this.current.year?"today":"").html(a)),o.animationContent&&i.addClass("to-animate"),(a<o.minYear||a>o.maxYear)&&i.addClass("disabled"),this._fireEvent("draw-year",{year:a,cell:i[0]});this._animateContent(".years .year")},_drawContent:function(){switch(this.content){case"years":this._drawContentYears();break;case"months":this._drawContentMonths();break;default:this._drawContentDays()}},_drawCalendar:function(){var e=this;setTimeout((function(){e.element.html(""),e._drawHeader(),e._drawContent(),e._drawFooter()}),0)},_animateContent:function(e,n){var i=this.element,s=this.options,o=i.find(".calendar-content");n=n||"to-animate",o.find(e).each((function(e){var i=t(this);setTimeout((function(){i.removeClass(n)}),s.animationSpeed*e)}))},getTime:function(e){var t,n;return e=e||!1,t=Cake.lpad(this.time[0],2,"0"),n=Cake.lpad(this.time[1],2,"0"),e?t+":"+n:this.time},setTime:function(e){Array.isArray(e)?this.time=e:this.time=e.split(":"),this._drawCalendar()},getPreset:function(){return this.preset},getSelected:function(){return this.selected},getExcluded:function(){return this.exclude},getToday:function(){return this.today},getCurrent:function(){return this.current},clearSelected:function(){this.selected=[],this._drawContent()},toDay:function(){this.today=datetime().align("day"),this.current={year:this.today.year(),month:this.today.month(),day:this.today.day()},this.time=[datetime().hour(),datetime().minute()],this.yearGroupStart=datetime().year(),this.content="days",this._drawHeader(),this._drawContent()},setExclude:function(e){var t=this.element,i=this.options;n.isNull(e)&&n.isNull(t.attr("data-exclude"))||(i.exclude=n.isNull(e)?t.attr("data-exclude"):e,this._dates2array(i.exclude,"exclude"),this._drawContent())},setPreset:function(e){var t=this.element,i=this.options;n.isNull(e)&&n.isNull(t.attr("data-preset"))||(i.preset=n.isNull(e)?t.attr("data-preset"):e,this._dates2array(i.preset,"selected"),this._drawContent())},setSpecial:function(e){var t=this.element,i=this.options;n.isNull(e)&&n.isNull(t.attr("data-special"))||(i.special=n.isNull(e)?t.attr("data-special"):e,this._dates2array(i.exclude,"special"),this._drawContent())},showDate:function(e){return this.setShow(e)},setShow:function(e){var t=this.element,n=this.options,i=t.attr("data-show");(e||i)&&(n.show=e||i,n.show?"string"==typeof n.show&&n.inputFormat?this.show=Datetime.from(n.show,n.inputFormat):this.show=datetime(n.show):this.show=datetime(),this.show=this.show.align("day"),this.current={year:this.show.year(),month:this.show.month(),day:this.show.day()},this._drawContent())},setMinDate:function(e){var t=this.element,n=this.options,i=t.attr("data-min-date");(e||i)&&(n.minDate=e||i,this.min=n.minDate?(n.inputFormat?Datetime.from(n.minDate,n.inputFormat):datetime(n.minDate)).align("day"):null,this._drawContent())},setMaxDate:function(e){var t=this.element,n=this.options,i=t.attr("data-max-date");n.maxDate=e||i,this.max=n.maxDate?(n.inputFormat?Datetime.from(n.maxDate,n.inputFormat):datetime(n.maxDate)).align("day"):null,this._drawContent()},i18n:function(t){var n=this.options;return void 0===t?n.locale:void 0!==e.locales[t]&&(n.locale=t,this.locale=e.locales[n.locale],void this._drawCalendar())},changeAttrLocale:function(){var e=this.element;this.i18n(e.attr("data-locale"))},changeAttribute:function(e){switch(e){case"data-exclude":this.setExclude();break;case"data-preset":this.setPreset();break;case"data-special":this.setSpecial();break;case"data-show":this.setShow();break;case"data-min-date":this.setMinDate();break;case"data-max-date":this.setMaxDate();break;case"data-locale":this.changeAttrLocale()}},destroy:function(){var n=this.element,i=this.options;return n.off(e.events.click,".prev-month, .next-month, .prev-year, .next-year"),n.off(e.events.click,".button.today"),n.off(e.events.click,".button.clear"),n.off(e.events.click,".button.cancel"),n.off(e.events.click,".button.done"),n.off(e.events.click,".week-days .day"),n.off(e.events.click,".days-row .day"),n.off(e.events.click,".curr-month"),n.off(e.events.click,".calendar-months li"),n.off(e.events.click,".curr-year"),n.off(e.events.click,".calendar-years li"),n.off(e.events.click),!0===i.ripple&&n.data("ripple").destroy(),t(window).off(e.events.resize,{ns:this.id}),n}}),t(document).on(e.events.click,(function(){t(".calendar .calendar-years").each((function(){t(this).removeClass("open")})),t(".calendar .calendar-months").each((function(){t(this).removeClass("open")}))})),e.defaults.Calendar=i}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={label:"",value:"",calendarpickerDeferred:0,nullValue:!0,useNow:!1,prepend:"",dialogMode:!1,dialogPoint:640,dialogOverlay:!0,overlayColor:"#000000",overlayAlpha:.5,locale:METRO_LOCALE,size:"100%",format:METRO_DATE_FORMAT,inputFormat:null,clearButton:!1,calendarButtonIcon:"<span class='default-icon-calendar'></span>",clearButtonIcon:"<span class='default-icon-cross'></span>",copyInlineStyles:!1,clsPicker:"",clsInput:"",clsPrepend:"",clsLabel:"",onDayClick:e.noop,onCalendarPickerCreate:e.noop,onCalendarShow:e.noop,onCalendarHide:e.noop,onChange:e.noop,onPickerChange:e.noop,onMonthChange:e.noop,onYearChange:e.noop};e.calendarPickerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCalendarPickerSetup&&e.calendarPickerSetup(window.metroCalendarPickerSetup),e.Component("calendar-picker",{init:function(s,o){return this._super(o,s,t.extend({},e.defaults.Calendar,{},i),{value:null,value_date:null,calendar:null,overlay:null,id:n.elementId("calendar-picker"),time:[datetime().hour(),datetime().minute()]}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("calendar-picker-create",{element:this.element})},_createStructure:function(){var i,s,o,r,a,l,c=this,h=this.element,u=this.options,d=t("<div>").addClass("input "+h[0].className+" calendar-picker"),p=t("<div>").addClass("button-group"),f=t("<div>").addClass("drop-shadow"),g=t("body");if(h.attr("type","text"),h.attr("autocomplete","off"),h.attr("readonly",!0),n.isValue(u.initialTime)&&(this.time=u.initialTime.trim().split(":")),n.isValue(u.initialHours)&&(this.time[0]=parseInt(u.initialHours)),n.isValue(u.initialHours)&&(this.time[1]=parseInt(u.initialMinutes)),i=""!==(""+u.value).trim()?u.value:h.val().trim(),n.isValue(i)?(s=i.split(" "),this.value=(u.inputFormat?Datetime.from(s[0],u.inputFormat,u.locale):datetime(s[0])).align("day"),s[1]&&(this.time=s[1].trim().split(":"))):u.useNow&&(this.value=datetime(),this.time=[this.value.hour(),this.value.minute()]),l=i||!0!==u.nullValue?datetime(c.value).format(u.format,u.locale):"",u.showTime&&this.time&&l&&(l+=" "+Cake.lpad(this.time[0],2,"0")+":"+Cake.lpad(this.time[1],2,"0")),h.val(l),d.insertBefore(h),h.appendTo(d),p.appendTo(d),f.appendTo(u.dialogMode?g:d),this.time&&this.time.length&&(r=this.time[0],void 0!==this.time[1]&&(a=this.time[1])),o=u.initialTime,u.initialHours&&(r=u.initialHours),u.initialHours&&(a=u.initialMinutes),e.makePlugin(f,"calendar",{showTime:u.showTime,initialTime:o,initialHours:r,initialMinutes:a,clsCalendarTime:u.clsCalendarTime,clsTime:u.clsTime,clsTimeHours:u.clsTimeHours,clsTimeMinutes:u.clsTimeMinutes,clsTimeButton:u.clsTimeButton,clsTimeButtonPlus:u.clsTimeButtonPlus,clsTimeButtonMinus:u.clsTimeButtonMinus,wide:u.wide,widePoint:u.widePoint,format:u.format,inputFormat:u.inputFormat,pickerMode:!0,show:u.value,locale:u.locale,weekStart:u.weekStart,outside:u.outside,buttons:!1,headerFormat:u.headerFormat,clsCalendar:[u.clsCalendar,"calendar-for-picker",u.dialogMode?"dialog-mode":""].join(" "),clsCalendarHeader:u.clsCalendarHeader,clsCalendarContent:u.clsCalendarContent,clsCalendarFooter:"d-none",clsCalendarMonths:u.clsCalendarMonths,clsCalendarYears:u.clsCalendarYears,clsToday:u.clsToday,clsSelected:u.clsSelected,clsExcluded:u.clsExcluded,ripple:u.ripple,rippleColor:u.rippleColor,exclude:u.exclude,minDate:u.minDate,maxDate:u.maxDate,yearsBefore:u.yearsBefore,yearsAfter:u.yearsAfter,special:u.special,events:u.events,showHeader:!1,showFooter:!1,multiSelect:!1,showWeekNumber:u.showWeekNumber,onDayClick:function(e,t,n,i){var s,o=datetime(e[0]).align("day");c._removeOverlay(),c.value=o,c.time=n,s=o.format(u.format,u.locale),u.showTime&&(s+=" "+Cake.lpad(n[0],2,"0")+":"+Cake.lpad(n[1],2,"0")),h.val(s),h.trigger("change"),f.removeClass("open open-up"),f.hide(),c._fireEvent("change",{val:c.value.val(),time:c.time}),c._fireEvent("day-click",{sel:e,day:t,time:n,el:i}),c._fireEvent("picker-change",{val:c.value.val(),time:c.time})},onTimeChange:function(e){var t;c.time=e,c.value||(c.value=datetime()),t=c.value.format(u.format,u.locale),u.showTime&&(t+=" "+Cake.lpad(e[0],2,"0")+":"+Cake.lpad(e[1],2,"0")),h.val(t),c._fireEvent("change",{val:c.value.val(),time:c.time}),c._fireEvent("picker-change",{val:c.value.val(),time:c.time})},onMonthChange:u.onMonthChange,onYearChange:u.onYearChange}),this.calendar=f,!0===u.clearButton&&t("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(u.clearButtonIcon).appendTo(p),t("<button>").addClass("button").attr("tabindex",-1).attr("type","button").html(u.calendarButtonIcon).appendTo(p),""!==u.prepend&&t("<div>").html(u.prepend).addClass("prepend").addClass(u.clsPrepend).appendTo(d),"rtl"===h.attr("dir")&&d.addClass("rtl"),String(u.size).indexOf("%")>-1?d.css({width:u.size}):d.css({width:parseInt(u.size)+"px"}),h[0].className="",!0===u.copyInlineStyles&&t.each(n.getInlineStyles(h),(function(e,t){d.css(e,t)})),d.addClass(u.clsPicker),h.addClass(u.clsInput),!0===u.dialogOverlay&&(this.overlay=c._overlay()),!0===u.dialogMode?d.addClass("dialog-mode"):n.media("(max-width: "+u.dialogPoint+"px)")&&(d.addClass("dialog-mode"),this.calendar.addClass("dialog-mode")),u.label){var m=t("<label>").addClass("label-for-input").addClass(u.clsLabel).html(u.label).insertBefore(d);h.attr("id")&&m.attr("for",h.attr("id")),"rtl"===h.attr("dir")&&m.addClass("rtl")}h.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.parent(),a=r.find(".input-clear-button"),l=this.calendar,c=e.getPlugin(l[0],"calendar"),h=this.calendar;t(window).on(e.events.resize,(function(){!0!==o.dialogMode&&(n.media("(max-width: "+o.dialogPoint+"px)")?(r.addClass("dialog-mode"),h.appendTo("body").addClass("dialog-mode")):(r.removeClass("dialog-mode"),h.appendTo(r).removeClass("dialog-mode")))}),{ns:this.id}),a.length>0&&a.on(e.events.click,(function(e){s.val("").trigger("change").blur(),i.value=null,e.preventDefault(),e.stopPropagation()})),r.on(e.events.click,"button, input",(function(e){var s=i.value?i.value:datetime(),a=o.inputFormat?s.format(o.inputFormat):s.format("YYYY-MM-DD");s.align("day"),!1===l.hasClass("open")&&!1===l.hasClass("open-up")?(t(".calendar-picker .calendar").removeClass("open open-up").hide(),c.setPreset([a]),c.setShow(s),r.hasClass("dialog-mode")&&i.overlay.appendTo(t("body")),l.addClass("open"),n.inViewport(l[0])||l.addClass("open-up"),i._fireEvent("calendar-show",{calendar:l})):(i._removeOverlay(),l.removeClass("open open-up"),i._fireEvent("calendar-hide",{calendar:l})),e.preventDefault(),e.stopPropagation()})),s.on(e.events.blur,(function(){r.removeClass("focused")})),s.on(e.events.focus,(function(){r.addClass("focused")})),s.on(e.events.change,(function(){n.exec(o.onChange,[i.value.val()],s[0])})),r.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay for-calendar-picker").addClass(n.clsOverlay),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},_removeOverlay:function(){t("body").find(".overlay.for-calendar-picker").remove()},clear:function(){this.value=datetime(),this.time=[datetime().hour(),datetime().minute()],this.element.val("")},val:function(t,i){var s,o=this.element,r=this.options;if(0===arguments.length||n.isNull(t))return{date:this.value.val(),time:this.time};if(""===t)return this.clear();i&&(r.inputFormat=i);var a=t.split(" ");this.value=r.inputFormat?Datetime.from(a[0],r.inputFormat,r.locale):datetime(a[0]),a[1]&&(this.time=a[1].trim().split(":")),this.value.align("day"),e.getPlugin(this.calendar,"calendar").setTime(this.time),s=this.value.format(r.format),r.showTime&&this.time&&s&&(s+=" "+Cake.lpad(this.time[0],2,"0")+":"+Cake.lpad(this.time[1],2,"0")),o.val(s),o.trigger("change")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},i18n:function(t){var n,i=this.options,s=this.calendar;return void 0===t?i.locale:void 0!==e.locales[t]&&((n=s[0].hidden)&&s.css({visibility:"hidden",display:"block"}),e.getPlugin(s[0],"calendar").i18n(t),void(n&&s.css({visibility:"visible",display:"none"})))},getTime:function(e){var t,n;return e=e||!1,t=Cake.lpad(this.time[0],2,"0"),n=Cake.lpad(this.time[1],2,"0"),e?t+":"+n:this.time},changeAttribute:function(t,n){var i=e.getPlugin(this.calendar[0],"calendar");switch(t){case"value":case"data-value":this.val(n);break;case"disabled":this.toggleState();break;case"data-locale":this.i18n(n);break;case"data-special":i.setSpecial(n);break;case"data-exclude":i.setExclude(n);break;case"data-min-date":i.setMinDate(n);break;case"data-max-date":i.setMaxDate(n)}},destroy:function(){var n=this.element,i=n.parent(),s=i.find(".input-clear-button");return t(window).off(e.events.resize,{ns:this.id}),s.off(e.events.click),i.off(e.events.click,"button, input"),n.off(e.events.blur),n.off(e.events.focus),n.off(e.events.change),e.getPlugin(this.calendar,"calendar").destroy(),n}}),t(document).on(e.events.click,".overlay.for-calendar-picker",(function(){t(this).remove(),t(".calendar-for-picker.open").removeClass("open open-up")})),t(document).on(e.events.click,(function(){t(".calendar-picker .calendar").removeClass("open open-up")}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i=["slide","slide-v","fade","switch","zoom","swirl"],s={carouselDeferred:0,autoStart:!1,width:"100%",height:"16/9",effect:i[0],effectFunc:"linear",direction:"left",duration:METRO_ANIMATION_DURATION,period:5e3,stopOnMouse:!0,controls:!0,bullets:!0,bulletsStyle:"square",bulletsSize:"default",controlsOnMouse:!1,controlsOutside:!1,bulletsPosition:"default",controlPrev:"&#x23F4",controlNext:"&#x23F5",clsCarousel:"",clsSlides:"",clsSlide:"",clsControls:"",clsControlNext:"",clsControlPrev:"",clsBullets:"",clsBullet:"",clsBulletOn:"",clsThumbOn:"",onStop:e.noop,onStart:e.noop,onPlay:e.noop,onSlideClick:e.noop,onBulletClick:e.noop,onThumbClick:e.noop,onMouseEnter:e.noop,onMouseLeave:e.noop,onNextClick:e.noop,onPrevClick:e.noop,onSlideShow:e.noop,onSlideHide:e.noop,onCarouselCreate:e.noop};e.carouselSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroCarouselSetup&&e.carouselSetup(window.metroCarouselSetup),e.Component("carousel",{init:function(e,t){return this._super(t,e,s,{height:0,width:0,slides:[],current:null,currentIndex:null,dir:"left",interval:!1,isAnimate:!1,id:n.elementId("carousel")}),this},_create:function(){var e=this.element,n=this.options,i=e.find(".slide"),s=e.find(".slides");this.dir=this.options.direction,e.addClass("carousel").addClass(n.clsCarousel),e.css({maxWidth:n.width}),!0===n.controlsOutside&&e.addClass("controls-outside"),0===s.length&&(s=t("<div>").addClass("slides").appendTo(e),i.appendTo(s)),i.addClass(n.clsSlides),i.length>0&&(this._createSlides(),this._createControls(),this._createBullets(),this._createEvents(),this._resize(),!0===n.controlsOnMouse&&(e.find("[class*=carousel-switch]").fadeOut(0),e.find(".carousel-bullets").fadeOut(0)),!0===n.autoStart?this._start():this._fireEvent("slide-show",{current:this.slides[this.currentIndex][0],prev:void 0})),this._fireEvent("carousel-create",{element:e})},_start:function(){var e=this,t=this.element,n=this.options,i=n.period,s=this.slides[this.currentIndex];void 0!==s.data("period")&&(i=s.data("period")),this.slides.length<=1||(!1===this.interval&&(this.interval=setTimeout((function(){var t="left"===n.direction?"next":"prior";e._slideTo(t,!0)}),i)),this._fireEvent("start",{element:t}))},_stop:function(){clearInterval(this.interval),this.interval=!1},_resize:function(){var e,i=this.element,s=this.options,o=i.outerWidth(),r=[];["16/9","21/9","4/3"].indexOf(s.height)>-1?e=n.aspectRatioH(o,s.height):String(s.height).indexOf("@")>-1?(r=s.height.substr(1).toArray("|"),t.each(r,(function(){var t=this.toArray(",");window.matchMedia(t[0]).matches&&(e=["16/9","21/9","4/3"].indexOf(t[1])>-1?n.aspectRatioH(o,t[1]):parseInt(t[1]))}))):e=parseInt(s.height),i.css({height:e})},_createSlides:function(){var e=this,n=this.element,i=this.options,s=n.find(".slide");t.each(s,(function(n){var s=t(this);if(void 0!==s.data("cover")&&s.css({backgroundImage:"url("+s.data("cover")+")"}),0!==n)switch(i.effect){case"switch":case"slide":s.css("left","100%");break;case"slide-v":s.css("top","100%");break;case"fade":case"zoom":case"swirl":s.css("opacity","0")}else s.addClass("active-slide");s.addClass(i.clsSlide),e.slides.push(s)})),this.currentIndex=0,this.current=this.slides[this.currentIndex]},_createControls:function(){var e,n,i=this.element,s=this.options;!1!==s.controls&&(e=t("<span/>").addClass("carousel-switch-next").addClass(s.clsControls).addClass(s.clsControlNext).html(">"),n=t("<span/>").addClass("carousel-switch-prev").addClass(s.clsControls).addClass(s.clsControlPrev).html("<"),s.controlNext&&e.html(s.controlNext),s.controlPrev&&n.html(s.controlPrev),e.appendTo(i),n.appendTo(i))},_createBullets:function(){var e,n,i=this.element,s=this.options;if(!1!==s.bullets){for(e=t("<div>").addClass("carousel-bullets").addClass(s.bulletsSize+"-size").addClass("bullet-style-"+s.bulletsStyle).addClass(s.clsBullets),"default"===s.bulletsPosition||"center"===s.bulletsPosition?e.addClass("flex-justify-center"):"left"===s.bulletsPosition?e.addClass("flex-justify-start"):e.addClass("flex-justify-end"),n=0;n<this.slides.length;n++){var o=t("<span>").addClass("carousel-bullet").addClass(s.clsBullet).data("slide",n);0===n&&o.addClass("bullet-on").addClass(s.clsBulletOn),o.appendTo(e)}e.appendTo(i)}},_createEvents:function(){var n=this,i=this.element,s=this.options;i.on(e.events.click,".carousel-bullet",(function(){var e=t(this);!1===n.isAnimate&&(n._slideToSlide(e.data("slide")),n._fireEvent("bullet-click",{bullet:e}))})),i.on(e.events.click,".carousel-switch-next",(function(){!1===n.isAnimate&&(n._slideTo("next",!1),n._fireEvent("next-click",{button:this}))})),i.on(e.events.click,".carousel-switch-prev",(function(){!1===n.isAnimate&&(n._slideTo("prev",!1),n._fireEvent("prev-click",{button:this}))})),!0===s.stopOnMouse&&!0===s.autoStart&&(i.on(e.events.enter,(function(){n._stop(),n._fireEvent("mouse-enter",{element:i},!1,!0)})),i.on(e.events.leave,(function(){n._start(),n._fireEvent("mouse-leave",{element:i},!1,!0)}))),!0===s.controlsOnMouse&&(i.on(e.events.enter,(function(){i.find("[class*=carousel-switch]").fadeIn(),i.find(".carousel-bullets").fadeIn()})),i.on(e.events.leave,(function(){i.find("[class*=carousel-switch]").fadeOut(),i.find(".carousel-bullets").fadeOut()}))),i.on(e.events.click,".slide",(function(){var e=t(this);n._fireEvent("slide-click",{slide:e})})),t(window).on(e.events.resize,(function(){n._resize()}),{ns:this.id})},_slideToSlide:function(e){var t,n,i,s=this.element,o=this.options;void 0!==this.slides[e]&&this.currentIndex!==e&&(i=e>this.currentIndex?"next":"prev",t=this.slides[this.currentIndex],n=this.slides[e],this.currentIndex=e,this._effect(t,n,o.effect,i),s.find(".carousel-bullet").removeClass("bullet-on").removeClass(o.clsBulletOn),s.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(o.clsBulletOn))},_slideTo:function(e,t){var n,i,s=this.element,o=this.options;void 0===e&&(e="next"),n=this.slides[this.currentIndex],"next"===e?(this.currentIndex++,this.currentIndex>=this.slides.length&&(this.currentIndex=0)):(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.slides.length-1)),i=this.slides[this.currentIndex],this._effect(n,i,o.effect,e,t),s.find(".carousel-bullet").removeClass("bullet-on").removeClass(o.clsBulletOn),s.find(".carousel-bullet:nth-child("+(this.currentIndex+1)+")").addClass("bullet-on").addClass(o.clsBulletOn)},_effect:function(t,n,s,o,r){var a,l=this,c=this.options,h=c.duration,u=c.effectFunc,d=c.period;void 0!==n.data("duration")&&(h=n.data("duration")),void 0!==n.data("effectFunc")&&(u=n.data("effectFunc")),"switch"===s&&(h=0),t.stop(!0),n.stop(!0),this.isAnimate=!0,setTimeout((function(){l.isAnimate=!1}),h+100),a="slide"===s?"next"===o?"slideLeft":"slideRight":"slide-v"===s?"next"===o?"slideUp":"slideDown":s,i.includes(s)||(a="switch"),function(t,n,i,s){e.animations[t](n,i,s)}(a,t,n,{duration:h,ease:u}),t.removeClass("active-slide"),n.addClass("active-slide"),setTimeout((function(){l._fireEvent("slide-show",{current:n[0],prev:t[0]})}),h),setTimeout((function(){l._fireEvent("slide-hide",{current:t[0],next:n[0]})}),h),!0===r&&(void 0!==n.data("period")&&(d=n.data("period")),this.interval=setTimeout((function(){var e="left"===c.direction?"next":"prior";l._slideTo(e,!0)}),d))},toSlide:function(e){this._slideToSlide(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},stop:function(){clearInterval(this.interval),this._fireEvent("stop")},play:function(){this._start(),this._fireEvent("play")},setEffect:function(e){var t=this.element,n=this.options,s=t.find(".slide");i.includes(e)&&(n.effect=e,s.removeStyleProperty("transform").css({top:0,left:0}))},changeAttribute:function(e,t){"data-effect"===e&&this.setEffect(t)},destroy:function(){var n=this.element,i=this.options;return n.off(e.events.click,".carousel-bullet"),n.off(e.events.click,".carousel-switch-next"),n.off(e.events.click,".carousel-switch-prev"),!0===i.stopOnMouse&&!0===i.autoStart&&(n.off(e.events.enter),n.off(e.events.leave)),!0===i.controlsOnMouse&&(n.off(e.events.enter),n.off(e.events.leave)),n.off(e.events.click,".slide"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={charmsDeferred:0,position:"right",opacity:1,clsCharms:"",onCharmCreate:e.noop,onOpen:e.noop,onClose:e.noop,onToggle:e.noop};e.charmsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCharmsSetup&&e.charmsSetup(window.metroCharmsSetup),e.Component("charms",{init:function(e,t){return this._super(t,e,i,{origin:{background:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("charm-create",{element:e})},_createStructure:function(){var t=this.element,i=this.options;t.addClass("charms").addClass(i.position+"-side").addClass(i.clsCharms),this.origin.background=t.css("background-color"),t.css({backgroundColor:e.colors.toRGBA(n.getStyleOne(t,"background-color"),i.opacity)})},_createEvents:function(){},open:function(){this.element.addClass("open"),this._fireEvent("open")},close:function(){this.element.removeClass("open"),this._fireEvent("close")},toggle:function(){!0===this.element.hasClass("open")?this.close():this.open(),this._fireEvent("toggle")},opacity:function(t){var i=this.element,s=this.options;if(void 0===t)return s.opacity;var o=Math.abs(parseFloat(t));o<0||o>1||(s.opacity=o,i.css({backgroundColor:e.colors.toRGBA(n.getStyleOne(i,"background-color"),o)}))},changeOpacity:function(){var e=this.element;this.opacity(e.attr("data-opacity"))},changeAttribute:function(e){"data-opacity"===e&&this.changeOpacity()},destroy:function(){return this.element}}),e.charms={check:function(e){return!1!==n.isMetroObject(e,"charms")||(console.warn("Element is not a charms component"),!1)},isOpen:function(e){if(!1!==this.check(e))return t(e).hasClass("open")},open:function(t){!1!==this.check(t)&&e.getPlugin(t,"charms").open()},close:function(t){!1!==this.check(t)&&e.getPlugin(t,"charms").close()},toggle:function(t){!1!==this.check(t)&&e.getPlugin(t,"charms").toggle()},closeAll:function(){t("[data-role*=charms]").each((function(){e.getPlugin(this,"charms").close()}))},opacity:function(t,n){!1!==this.check(t)&&e.getPlugin(t,"charms").opacity(n)}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD//gA7Q1JFQVRPUjogZ2QtanBlZyB2MS4wICh1c2luZyBJSkcgSlBFRyB2NjIpLCBxdWFsaXR5ID0gOTAK/9sAQwADAgIDAgIDAwMDBAMDBAUIBQUEBAUKBwcGCAwKDAwLCgsLDQ4SEA0OEQ4LCxAWEBETFBUVFQwPFxgWFBgSFBUU/9sAQwEDBAQFBAUJBQUJFA0LDRQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQU/8AAEQgAUABQAwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+t+KKPxo/GgA70Yo/Gj8aADFH4VesdC1HUl3WtjcXCf344yV/PGKW+0HUtNXddWNzbp/fkjIX88YoAofhR+FH40fjQAfhR+FH40fjQAUUUUAFepeAPh5D9li1LVYhK8g3Q27j5VXszDuT6f5HA+FtOXVvEWn2rjMcko3j1UckfkDX0MBgYHAoARVCKFUBVHAA6ClZQwKkZBGCDS0UAec+Pvh3BJay6lpUQimjBeW3QYVx3Kjsfbv/PyqvpuvnvxfpqaT4l1C1QbY0lJUDsrfMB+RoAyKKKKACiiigDa8GXq6f4p02eQgIJQpJ7Bvlz+tfQP4V8yDg17P4A8cw65ZxWV5IE1KMbfmP+uA7j39R+NAHaUfhSUUAL+FeA+OL1NQ8WalNGQU83YCO+0Bf6V6b498cQ6BZyWlrIJNSkXaApz5QP8AEff0FeKk5OTyTQAUUUUAH40fjRU1naTX93DbQIXmlYIijuTQBc0Dw/eeI74W1mm49XkbhUHqTXsHhz4eaXoCpI8YvbscmaYZAP8Asr0H8/etHwv4cg8M6XHaxANIfmllxy7dz9PStigA/Gk/GlooA5bxJ8PdL19XkWMWd43PnwjGT/tL0P8AP3rx/X/D954cvjbXibT1SReVceoNfRFZHijw5B4m0uS1lAWQfNFLjlG7H6etAHz5+NH41NeWk1hdzW06FJonKMp7EGoaACvQfhBowudTudRkXK2y7I8j+Nup/Afzrz6vafhRaCDwmkgHM8zufwO3/wBloA7Kiij8KACkpaSgBaSj8KKAPJvi/owttTttRjXC3K7JMf3l6H8R/KvPq9p+K1qJ/CbyEcwTI4P1O3/2avFqAP/Z",s={chatDeferred:0,inputTimeFormat:null,timeFormat:"D MMM hh:mm A",name:"John Doe",avatar:i,welcome:null,welcomeAvatar:i,title:null,width:"100%",height:"auto",messages:null,sendButtonTitle:"Send",readonly:!1,locale:METRO_LOCALE,clsChat:"",clsName:"",clsTime:"",clsInput:"",clsSendButton:"",clsMessageLeft:"default",clsMessageRight:"default",onMessage:e.noop,onSend:e.noop,onSendButtonClick:e.noop,onChatCreate:e.noop};e.chatSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroChatSetup&&e.chatSetup(window.metroChatSetup),e.Component("chat",{init:function(e,t){return this._super(t,e,s,{input:null,classes:"primary secondary success alert warning yellow info dark light".split(" "),lastMessage:null}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("chat-create",{element:e})},_createStructure:function(){var e,i,s=this,o=this.element,r=this.options,a=[{html:r.sendButtonTitle,cls:r.clsSendButton+" js-chat-send-button",onclick:r.onSendButtonClick}];o.addClass("chat").addClass(r.clsChat),o.css({width:r.width,height:r.height}),n.isValue(r.title)&&t("<div>").addClass("title").html(r.title).appendTo(o),t("<div>").addClass("messages").appendTo(o),e=t("<div>").addClass("message-input").appendTo(o),(i=t("<input type='text'>")).appendTo(e),i.input({customButtons:a,clsInput:r.clsInput}),r.welcome&&this.add({text:r.welcome,time:datetime(),position:"left",name:"Chat Bot",avatar:r.welcomeAvatar}),n.isValue(r.messages)&&"string"==typeof r.messages&&(r.messages=n.isObject(r.messages)),!n.isNull(r.messages)&&"object"==typeof r.messages&&n.objectLength(r.messages)>0&&t.each(r.messages,(function(){s.add(this)})),o.find(".message-input")[r.readonly?"addClass":"removeClass"]("disabled")},_createEvents:function(){var t=this,i=this.element,s=this.options,o=i.find(".js-chat-send-button"),r=i.find("input[type=text]"),a=function(){var e,i=""+r.val();if(""===i.trim())return!1;e={id:n.elementId("chat-message"),name:s.name,avatar:s.avatar,text:i,position:"right",time:datetime()},t.add(e),r.val(""),t._fireEvent("send",{msg:e}),r.focus()};o.on(e.events.click,(function(){a()})),r.on(e.events.keyup,(function(t){t.keyCode===e.keyCode.ENTER&&a()}))},add:function(e){var i,s,o,r,a,l,c,h=this.element,u=this.options,d=h.find(".messages");return c=u.inputTimeFormat?Datetime.from(e.time,u.inputTimeFormat,u.locale):datetime(e.time),i=t("<div>").addClass("message").addClass(e.position).appendTo(d),r=t("<div>").addClass("message-item").appendTo(i),a=t("<img>").attr("src",e.avatar).addClass("message-avatar").appendTo(r),l=t("<div>").addClass("message-text").append(t("<div>").addClass("message-text-inner").html(Cake.escapeHtml(e.text))).appendTo(r),o=t("<div>").addClass("message-time").addClass(u.clsTime).text(c.format(u.timeFormat)).appendTo(l),s=t("<div>").addClass("message-sender").addClass(u.clsName).text(e.name).appendTo(l),n.isValue(e.id)&&i.attr("id",e.id),"left"===e.position&&n.isValue(u.clsMessageLeft)&&l.addClass(u.clsMessageLeft),"right"===e.position&&n.isValue(u.clsMessageRight)&&l.addClass(u.clsMessageRight),this.lastMessage&&this.lastMessage.position===e.position&&(l.addClass("--next"),a.visible(!1),s.hide()),this._fireEvent("message",{msg:e,el:{message:i,sender:s,time:o,item:r,avatar:a,text:l}}),d.animate({draw:{scrollTop:d[0].scrollHeight},dur:1e3}),this.lastMessage=e,this},addMessages:function(e){var i=this;return n.isValue(e)&&"string"==typeof e&&(e=n.isObject(e)),"object"==typeof e&&n.objectLength(e)>0&&t.each(e,(function(){i.add(this)})),this},delMessage:function(e){return this.element.find(".messages").find("#"+e).remove(),this},updMessage:function(e){var t=this.element.find(".messages").find("#"+e.id);return 0===t.length||(t.find(".message-text").html(e.text),t.find(".message-time").html(e.time)),this},clear:function(){this.element.find(".messages").html(""),this.lastMessage=null},toggleReadonly:function(e){var t=this.element,n=this.options;n.readonly=void 0===e?!n.readonly:e,t.find(".message-input")[n.readonly?"addClass":"removeClass"]("disabled")},changeAttribute:function(e){"data-readonly"===e&&this.toggleReadonly()},destroy:function(){var t=this.element,n=t.find(".js-chat-send-button"),i=t.find("input[type=text]");return n.off(e.events.click),i.off(e.events.keyup),t}}),e.defaults.Chat=s,e.defaults.ChatAvatar=i}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={checkboxDeferred:0,state:-1,transition:!0,style:1,caption:"",captionPosition:"right",clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.metroCheckboxThreeStateSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxThreeStateSetup&&e.metroCheckboxThreeStateSetup(window.metroCheckboxThreeStateSetup),e.Component("checkbox-three-state",{init:function(e,t){return this._super(t,e,i,{origin:{className:""},state:-1}),this},_create:function(){var e=this.options;this.elem.checked&&(e.state=1),this.elem.checked=!1,-1===e.state||"unchecked"===e.state?this.state=-1:0===e.state||"indeterminate"===e.state?this.state=0:this.state=1,this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},_createStructure:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),s.appendTo(e),o.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),o.addClass(i.clsCaption),s.addClass(i.clsCheck),this._drawState(),n.is(":disabled")?this.disable():this.enable()},_drawState:function(){var e=this.element;e[0].checked=!1,this._indeterminate(!1),0===this.state?(e[0].checked=!0,this._indeterminate(!0)):1===this.state&&(e[0].checked=!0)},_createEvents:function(){var e=this.element,t=e.siblings(".check"),n=this;e.on("click",(function(){n.state++,2===n.state&&(n.state=-1),n._drawState()})),e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},check:function(){this.setCheckState(1)},uncheck:function(){this.setCheckState(-1)},indeterminate:function(){this.setCheckState(0)},setCheckState:function(e){return this.state=-1===e||"unchecked"===e?-1:0===e||"indeterminate"===e?0:1,this._drawState(),this},getCheckState:function(e){if(!e)return this.state;switch(this.state){case-1:return"unchecked";case 0:return"indeterminate";case 1:return"checked"}},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggle:function(){this.state++,2===this.state&&(this.state=-1),this._drawState()},changeAttribute:function(e,t){var i,s=this.element,o=this.options,r=s.parent();switch(e){case"disabled":!function(){this.elem.disabled?this.disable():this.enable()}();break;case"data-style":i=parseInt(s.attr("data-style")),n.isInt(i)&&(o.style=i,r.removeClass("style1 style2").addClass("style"+i));break;case"data-state":!function(e){this.toggle(e)}(t)}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={checkboxDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",indeterminate:!1,clsCheckbox:"",clsCheck:"",clsCaption:"",onCheckboxCreate:e.noop};e.checkboxSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCheckboxSetup&&e.checkboxSetup(window.metroCheckboxSetup),e.Component("checkbox",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("checkbox-create")},_createStructure:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap("<label>").addClass("checkbox "+n[0].className).addClass(2===i.style?"style2":""),s.appendTo(e),o.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),this.origin.className=n[0].className,n[0].className="",e.addClass(i.clsCheckbox),o.addClass(i.clsCaption),s.addClass(i.clsCheck),i.indeterminate&&(n[0].indeterminate=!0),n.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},indeterminate:function(e){var t=this.element;e=!!n.isNull(e)||n.bool(e),t[0].indeterminate=e,t.attr("data-indeterminate",e)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var t=this.element;return this.indeterminate(!1),n.isValue(e)?-1===e?this.indeterminate(!0):t.prop("checked",1===e):t.prop("checked",!n.bool(t.prop("checked"))),this},changeAttribute:function(e){var t,i=this.element,s=this.options,o=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-indeterminate":i[0].indeterminate=!0===JSON.parse(i.attr("data-indeterminate"));break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(s.style=t,o.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){var e=this.element;return e.off("focus"),e.off("blur"),e}})}(Metro,m4q),function(e,t){"use strict";var n={clockDeferred:0,showTime:!0,showDate:!0,timeFormat:"24",dateFormat:"american",divider:"&nbsp;&nbsp;",leadingZero:!0,dateDivider:"-",timeDivider:":",onTick:e.noop,onSecond:e.noop,onClockCreate:e.noop};e.clockSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroClockSetup&&e.clockSetup(window.metroClockSetup),e.Component("clock",{init:function(e,t){return this._super(t,e,n,{_clockInterval:null}),this},_create:function(){var e=this,t=this.element;this._fireEvent("clock-create",{element:t}),this._tick(),this._clockInterval=setInterval((function(){e._tick()}),500),this._secondInterval=setInterval((function(){e._second()}),1e3)},_addLeadingZero:function(e){return e<10&&(e="0"+e),e},_second:function(){var e=new Date;this._fireEvent("second",{timestamp:e})},_tick:function(){var e=this.element,t=this.options,n=new Date,i="",s=n.getHours(),o=n.getMinutes(),r=n.getSeconds(),a=n.getDate(),l=n.getMonth()+1,c=n.getFullYear(),h="";12===parseInt(t.timeFormat)&&(h=" AM",s>11&&(h=" PM"),s>12&&(s-=12),0===s&&(s=12)),o=this._addLeadingZero(o),r=this._addLeadingZero(r),t.leadingZero&&(s=this._addLeadingZero(s),l=this._addLeadingZero(l),a=this._addLeadingZero(a)),t.showDate&&("american"===t.dateFormat?(i+="<span class='date-month'>"+l+"</span>",i+="<span class='date-divider'>"+t.dateDivider+"</span>",i+="<span class='date-day'>"+a+"</span>",i+="<span class='date-divider'>"+t.dateDivider+"</span>",i+="<span class='date-year'>"+c+"</span>"):(i+="<span class='date-day'>"+a+"</span>",i+="<span class='date-divider'>"+t.dateDivider+"</span>",i+="<span class='date-month'>"+l+"</span>",i+="<span class='date-divider'>"+t.dateDivider+"</span>",i+="<span class='date-year'>"+c+"</span>"),i+=t.divider),t.showTime&&(i+="<span class='clock-hour'>"+s+"</span>",i+="<span class='clock-divider'>"+t.timeDivider+"</span>",i+="<span class='clock-minute'>"+o+"</span>",i+="<span class='clock-divider'>"+t.timeDivider+"</span>",i+="<span class='clock-second'>"+r+"</span>",i+="<span class='clock-suffix'>"+h+"</span>"),e.html(i),this._fireEvent("tick",{timestamp:n})},changeAttribute:function(e){},destroy:function(){return clearInterval(this._clockInterval),this._clockInterval=null,this.element}})}(Metro,m4q),function(e,t){"use strict";var n={collapseDeferred:0,collapsed:!1,toggleElement:!1,duration:100,onExpand:e.noop,onCollapse:e.noop,onCollapseCreate:e.noop};e.collapseSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroCollapseSetup&&e.collapseSetup(window.metroCollapseSetup),e.Component("collapse",{init:function(e,t){return this._super(t,e,n,{toggle:null}),this},_create:function(){var n,i=this,s=this.element,o=this.options;n=!1!==o.toggleElement?t(o.toggleElement):s.siblings(".collapse-toggle").length>0?s.siblings(".collapse-toggle"):s.siblings("a:nth-child(1)"),!0!==o.collapsed&&!0!==s.attr("collapsed")||s.hide(0),n.on(e.events.click,(function(e){"block"!==s.css("display")||s.hasClass("keep-open")?i._open(s):i._close(s),-1===["INPUT"].indexOf(e.target.tagName)&&e.preventDefault(),e.stopPropagation()})),this.toggle=n,this._fireEvent("collapse-create",{element:s})},_close:function(n,i){var s=t(n),o=e.getPlugin(s[0],"collapse"),r=o.options,a=i?"show":"slideUp",l=i?0:r.duration;this.toggle.removeClass("active-toggle"),s[a](l,(function(){n.trigger("onCollapse",null,n),n.data("collapsed",!0),n.addClass("collapsed"),o._fireEvent("collapse")}))},_open:function(n,i){var s=t(n),o=e.getPlugin(s[0],"collapse"),r=o.options,a=i?"show":"slideDown",l=i?0:r.duration;this.toggle.addClass("active-toggle"),s[a](l,(function(){n.trigger("onExpand",null,n),n.data("collapsed",!1),n.removeClass("collapsed"),o._fireEvent("expand")}))},collapse:function(e){this._close(this.element,e)},expand:function(e){this._open(this.element,e)},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},isCollapsed:function(){return this.element.data("collapsed")},toggleState:function(){var e=this.element;!0===e.attr("collapsed")||!0===e.data("collapsed")?this.collapse():this.expand()},changeAttribute:function(e){switch(e){case"collapsed":case"data-collapsed":this.toggleState()}},destroy:function(){return this.toggle.off(e.events.click),this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={duration:100,prepend:"",append:"",clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",pickerButtonIcon:"<span class='default-icon-equalizer'></span>",defaultValue:"rgba(0, 0, 0, 0)",copyInlineStyles:!1,clsPickerButton:"",clsClearButton:"",onColorSelected:e.noop,onColorPickerCreate:e.noop};e.colorPickerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroColorPickerSetup&&e.colorPickerSetup(window.metroColorPickerSetup),e.Component("color-picker",{init:function(n,s){return this._super(s,n,t.extend({},e.defaults.ColorSelector,{showUserColors:!1,showValues:""},i),{value:null,picker:null,colorSelector:null,colorSelectorBox:null,colorExample:null,inputInterval:null,isOpen:!1}),this},_create:function(){var t=this.element,n=this.options,i=t.val();if(!e.pluginExists("color-selector"))throw new Error("Color selector component required!");this.value=e.colors.isColor(i)?i:e.colors.isColor(n.defaultValue)?n.defaultValue:"rgba(0,0,0,0)",this._createStructure(),this._createEvents(),this._fireEvent("color-picker-create")},_createStructure:function(){var i,s,o,r,a=this,l=this.element,c=this.options,h=l.wrap(t("<div>").addClass("color-picker").addClass(l[0].className));s=t("<div>").addClass("color-example-box").insertBefore(l),(i=t("<div>").addClass("buttons").appendTo(h)).append(t("<button>").addClass("button color-picker-button").addClass(c.clsPickerButton).attr("tabindex",-1).attr("type","button").html(c.pickerButtonIcon)),!0!==c.clearButton||l[0].readOnly||i.append(t("<button>").addClass("button input-clear-button").addClass(c.clsClearButton).attr("tabindex",-1).attr("type","button").html(c.clearButtonIcon)),n.isValue(c.prepend)&&h.prepend(t("<div>").addClass("prepend").addClass(c.clsPrepend).html(c.prepend)),n.isValue(c.append)&&h.append(t("<div>").html(c.append).addClass("append").addClass(c.clsAppend)),r=t("<div>").addClass("color-selector-box").appendTo(h),o=t("<div>").appendTo(r),this.picker=h,this.colorExample=s,this.colorSelector=o,this.colorSelectorBox=r,e.makePlugin(o,"color-selector",{defaultSwatches:c.defaultSwatches,userColors:c.userColors,returnValueType:c.returnValueType,returnAsString:c.returnAsString,showValues:c.showValues,showAsString:c.showAsString,showUserColors:c.showUserColors,target:c.target,controller:l,locale:c.locale,addUserColorTitle:c.addUserColorTitle,userColorsTitle:c.userColorsTitle,hslMode:c.hslMode,showAlphaChannel:c.showAlphaChannel,inputThreshold:c.inputThreshold,initColor:this.value,readonlyInput:c.readonlyInput,clsSelector:c.clsSelector,clsSwatches:c.clsSwatches,clsSwatch:c.clsSwatch,clsValue:c.clsValue,clsLabel:c.clsLabel,clsInput:c.clsInput,clsUserColorButton:c.clsUserColorButton,clsUserColors:c.clsUserColors,clsUserColorsTitle:c.clsUserColorsTitle,clsUserColor:c.clsUserColor,onColor:c.onColor,onColorSelectorCreate:c.onColorSelectorCreate}),e.makePlugin(r,"dropdown",{dropFilter:".color-picker",duration:c.duration,toggleElement:[h],checkDropUp:!0,onDrop:function(){e.getPlugin(o,"color-selector").val(a.value)}}),l[0].className="",!0===c.copyInlineStyles&&t.each(n.getInlineStyles(l),(function(e,t){h.css(e,t)})),this._setColor()},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_setColor:function(){var t=this.colorExample,n=this.value;-1===this.value.indexOf("cmyk")&&-1===this.value.indexOf("hsv")||(n=e.colors.toHEX(this.value)),t.css({backgroundColor:n})},_createEvents:function(){var t=this,n=this.element,i=this.options,s=this.picker,o=this.colorSelector,r=this.colorSelector;s.on(e.events.click,".input-clear-button",(function(t){t.preventDefault(),t.stopPropagation(),n.val(i.defaultValue).trigger("change"),e.getPlugin(o,"color-selector").val(i.defaultValue)})),n.on(e.events.inputchange,(function(){t.value=this.value,t._setColor()})),r.on(e.events.click,(function(e){e.stopPropagation()}))},val:function(t){if(0===arguments.length||!n.isValue(t))return this.value;e.colors.isColor(t)&&(this.value=t,this.element.val(t).trigger("change"),this._setColor())},destroy:function(){this.element.remove()}}),t(document).on(e.events.click,(function(){t(".color-picker").removeClass("open")}))}(Metro,m4q),function(e,t){"use strict";var n="hex, rgb, rgba, hsl, hsla, hsv, cmyk",i=e.utils,s={defaultSwatches:"#FFFFFF,#000000,#FFFB0D,#0532FF,#FF9300,#00F91A,#FF2700,#686868,#EE5464,#D27AEE,#5BA8C4,#E64AA9,#1ba1e2,#6a00ff,#bebebe,#f8f8f8",userColors:null,returnValueType:"hex",returnAsString:!0,showValues:n,showAsString:null,showUserColors:!0,controller:null,locale:"en-US",addUserColorTitle:null,userColorsTitle:null,hslMode:"percent",showAlphaChannel:!0,inputThreshold:300,initColor:null,readonlyInput:!1,clsSelector:"",clsSwatches:"",clsSwatch:"",clsValue:"",clsLabel:"",clsInput:"",clsUserColorButton:"",clsUserColors:"",clsUserColorsTitle:"",clsUserColor:"",onSelectColor:e.noop,onColorSelectorCreate:e.noop};e.colorSelectorSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroColorSelectorSetup&&e.colorSelectorSetup(window.metroColorSelectorSetup),e.Component("color-selector",{init:function(e,t){return this._super(t,e,s,{id:i.elementId("color-selector"),defaultSwatches:[],showValues:[],userColors:[],showAsString:[],hue:0,saturation:0,lightness:1,alpha:1,hsl:null,hsla:null,hsv:null,rgb:null,rgba:null,cmyk:null,hex:null,inputInterval:null,locale:null}),this},_create:function(){var t=this.options;i.isValue(t.defaultSwatches)&&(this.defaultSwatches=t.defaultSwatches.toArray(",").map((function(e){return e.toUpperCase()}))),i.isValue(t.showValues)&&(this.showValues=t.showValues.toArray(",")),i.isValue(t.userColors)&&(this.userColors=t.userColors.toArray(",").map((function(e){return e.toUpperCase()}))),i.isValue(t.showAsString)&&(this.showAsString=t.showAsString.toArray(",")),this.locale=e.locales[t.locale].colorSelector,this._createStructure(),this._createEvents(),this._fireEvent("color-selector-create")},_createStructure:function(){var i,s,o,r,a,l,c,h,u,d,p,f,g,m,v,w=this,b=this.element,y=this.options,C=this.locale;b.addClass("color-selector").addClass(y.clsSelector),b.append(i=t("<div>").addClass("color-box")),i.append(s=t("<div>").addClass("row")),s.append(o=t("<div>").addClass("default-swatches").addClass(y.clsSwatches)),t.each(this.defaultSwatches,(function(){o.append(t("<button>").attr("data-color",this).attr("type","button").addClass("swatch").addClass(y.clsSwatch).css("background-color",this))})),i.append(s=t("<div>").addClass("row")),s.append(r=t("<div>").addClass("color-map")),r.append(f=t("<button>").attr("type","button").addClass("cursor color-cursor")),r.append(d=t("<canvas>").addClass("color-canvas")),s.append(r=t("<div>").addClass("hue-map")),r.append(p=t("<button>").attr("type","button").addClass("cursor hue-cursor")),r.append(u=t("<canvas>").addClass("hue-canvas")),s.append(r=t("<div>").addClass("alpha-map")),r.append(v=t("<button>").attr("type","button").addClass("cursor alpha-cursor")),r.append(m=t("<canvas>").addClass("alpha-canvas")),i.append(s=t("<div>").addClass("row color-values-block")),s.append(a=t("<div>").addClass("color-value-hex")),a.append(t("<input type='radio' name='returnType' value='hex' checked>").addClass("check-color-value-hex")),a.append(g=t("<div>").addClass("color-block as-string color-hex")),g.append(t("<input type='text' data-prepend='HEX:'>").addClass("input-small value-hex")),s.append(a=t("<div>").addClass("color-value-rgb")),a.append(t("<input type='radio' name='returnType' value='rgb'>").addClass("check-color-value-rgb")),a.append(g=t("<div>").addClass("color-block color-rgb")),g.append(t("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),g.append(t("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),g.append(t("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),a.append(g=t("<div>").addClass("color-block as-string color-rgb")),g.append(t("<input type='text' data-prepend='RGB:'>").addClass("input-small value-rgb")),this.showAsString.indexOf("rgb")>-1?a.find(".value-r,.value-g,.value-b").parent().hide():a.find(".value-rgb").parent().hide(),s.append(a=t("<div>").addClass("color-value-rgba")),a.append(t("<input type='radio' name='returnType' value='rgba'>").addClass("check-color-value-rgba")),a.append(g=t("<div>").addClass("color-block color-rgba")),g.append(t("<input type='text' data-prepend='R:'>").addClass("input-small value-r")),g.append(t("<input type='text' data-prepend='G:'>").addClass("input-small value-g")),g.append(t("<input type='text' data-prepend='B:'>").addClass("input-small value-b")),g.append(t("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),a.append(g=t("<div>").addClass("color-block as-string color-rgba")),g.append(t("<input type='text' data-prepend='RGBA:'>").addClass("input-small value-rgba")),this.showAsString.indexOf("rgba")>-1?a.find(".value-r,.value-g,.value-b,.value-a").parent().hide():a.find(".value-rgba").parent().hide(),s.append(a=t("<div>").addClass("color-value-hsl")),a.append(t("<input type='radio' name='returnType' value='hsl'>").addClass("check-color-value-hsl")),a.append(g=t("<div>").addClass("color-block color-hsl")),g.append(t("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),g.append(t("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),g.append(t("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),a.append(g=t("<div>").addClass("color-block as-string color-hsl")),g.append(t("<input type='text' data-prepend='HSL:'>").addClass("input-small value-hsl")),this.showAsString.indexOf("hsl")>-1?a.find(".value-h,.value-s,.value-l").parent().hide():a.find(".value-hsl").parent().hide(),s.append(a=t("<div>").addClass("color-value-hsla")),a.append(t("<input type='radio' name='returnType' value='hsla'>").addClass("check-color-value-hsla")),a.append(g=t("<div>").addClass("color-block color-hsla")),g.append(t("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),g.append(t("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),g.append(t("<input type='text' data-prepend='L:'>").addClass("input-small value-l")),g.append(t("<input type='text' data-prepend='A:'>").addClass("input-small value-a")),a.append(g=t("<div>").addClass("color-block as-string color-hsla")),g.append(t("<input type='text' data-prepend='HSLA:'>").addClass("input-small value-hsla")),this.showAsString.indexOf("hsla")>-1?a.find(".value-h,.value-s,.value-l,.value-a").parent().hide():a.find(".value-hsla").parent().hide(),s.append(a=t("<div>").addClass("color-value-hsv")),a.append(t("<input type='radio' name='returnType' value='hsv'>").addClass("check-color-value-hsl")),a.append(g=t("<div>").addClass("color-block color-hsv")),g.append(t("<input type='text' data-prepend='H:'>").addClass("input-small value-h")),g.append(t("<input type='text' data-prepend='S:'>").addClass("input-small value-s")),g.append(t("<input type='text' data-prepend='V:'>").addClass("input-small value-v")),a.append(g=t("<div>").addClass("color-block as-string color-hsv")),g.append(t("<input type='text' data-prepend='HSV:'>").addClass("input-small value-hsv")),this.showAsString.indexOf("hsv")>-1?a.find(".value-h,.value-s,.value-v").parent().hide():a.find(".value-hsv").parent().hide(),s.append(a=t("<div>").addClass("color-value-cmyk")),a.append(t("<input type='radio' name='returnType' value='cmyk'>").addClass("check-color-value-cmyk")),a.append(g=t("<div>").addClass("color-block color-cmyk")),g.append(t("<input type='text' data-prepend='C:'>").addClass("input-small value-c")),g.append(t("<input type='text' data-prepend='M:'>").addClass("input-small value-m")),g.append(t("<input type='text' data-prepend='Y:'>").addClass("input-small value-y")),g.append(t("<input type='text' data-prepend='K:'>").addClass("input-small value-k")),a.append(g=t("<div>").addClass("color-block as-string color-cmyk")),g.append(t("<input type='text' data-prepend='CMYK:'>").addClass("input-small value-cmyk")),this.showAsString.indexOf("cmyk")>-1?a.find(".value-s,.value-m,.value-y,.value-k").parent().hide():a.find(".value-cmyk").parent().hide(),i.append(s=t("<div>").addClass("row user-colors-container")),s.append(t("<div>").addClass("user-colors-title").addClass(y.clsUserColorsTitle).html(y.userColorsTitle||C.userColorsTitle)),s.append(t("<div>").addClass("user-colors").addClass(y.clsUserColors)),s.append(h=t("<div>").addClass("user-colors-actions")),h.append(t("<button>").addClass("button add-button").addClass(y.clsUserColorButton).html("<span class='user-swatch'></span><span>"+(y.addUserColorTitle||C.addUserColorButton)+"</span>")),l=i.find("input[type=text]"),e.makePlugin(l,"input",{clearButton:!1,clsPrepend:y.clsLabel,clsComponent:y.clsInput}),l.addClass(y.clsValue),y.readonlyInput&&l.attr("readonly",!0),(c=i.find("input[type=radio]").each((function(){t(this).attr("name",w.id+"-returnType")}))).each((function(){t(this).val()===y.returnValueType&&(this.checked=!0)})),e.makePlugin(c,"radio",{style:2}),t.each(n.toArray(","),(function(){-1===w.showValues.indexOf(this)&&b.find(".color-value-"+this).hide()})),y.showUserColors||b.find(".user-colors-container").hide(),y.showAlphaChannel||(b.addClass("no-alpha-channel"),t.each(["rgba","hsla"],(function(){b.find(".color-value-"+this).hide()}))),this._fillUserColors(),this.hueCanvas=u,this.hueCursor=p,this.shadeCanvas=d,this.shadeCursor=f,this.alphaCanvas=m,this.alphaCursor=v,this._createShadeCanvas(),this._createHueCanvas(),this._createAlphaCanvas(),this._setColorValues(),this._updateCursorsColor(),y.initColor&&e.colors.isColor(y.initColor)&&this._colorToPos("string"==typeof y.initColor?e.colors.parse(y.initColor):y.initColor)},_createShadeCanvas:function(e){var t=this.shadeCanvas[0],n=t.getContext("2d");n.clearRect(0,0,t.width,t.height),e||(e="#f00"),n.clearRect(0,0,t.width,t.height),n.fillStyle=e,n.fillRect(0,0,t.width,t.height);var i=n.createLinearGradient(0,0,t.width,0);i.addColorStop(0,"#fff"),i.addColorStop(1,"transparent"),n.fillStyle=i,n.fillRect(0,0,t.width,t.height);var s=n.createLinearGradient(0,0,0,t.height);s.addColorStop(0,"transparent"),s.addColorStop(1,"#000"),n.fillStyle=s,n.fillRect(0,0,t.width,t.height)},_createHueCanvas:function(){var e=this.hueCanvas[0],t=e.getContext("2d"),n=t.createLinearGradient(0,0,0,e.height);n.addColorStop(0,"hsl(0,100%,50%)"),n.addColorStop(.17,"hsl(298.8, 100%, 50%)"),n.addColorStop(.33,"hsl(241.2, 100%, 50%)"),n.addColorStop(.5,"hsl(180, 100%, 50%)"),n.addColorStop(.67,"hsl(118.8, 100%, 50%)"),n.addColorStop(.83,"hsl(61.2,100%,50%)"),n.addColorStop(1,"hsl(360,100%,50%)"),t.clearRect(0,0,e.width,e.height),t.fillStyle=n,t.fillRect(0,0,e.width,e.height)},_createAlphaCanvas:function(){var t=this.alphaCanvas[0],n=t.getContext("2d"),i=n.createLinearGradient(0,0,0,t.height),s=new e.colorPrimitive.HSLA(this.hue,1,.5,1).toString();i.addColorStop(0,s),i.addColorStop(1,"rgba(0,0,0,0)"),n.clearRect(0,0,t.width,t.height),n.fillStyle=i,n.fillRect(0,0,t.width,t.height)},_updateHueCursor:function(e){this.hueCursor.css({top:e})},_updateAlphaCursor:function(e){this.alphaCursor.css({top:e})},_getHueColor:function(e){var t,n,i,s=this.hueCanvas,o=s.offset(),r=s.height();(t=e-o.top)>r&&(t=r),t<0&&(t=0),360==(i=360-t/r*360)&&(i=0),n="hsl("+i+", 100%, 50%)",this.hue=i,this._createShadeCanvas(n),this._createAlphaCanvas(),this._updateHueCursor(t),this._updateCursorsColor(),this._setColorValues()},_getAlphaValue:function(e){var t,n,i=this.alphaCanvas,s=i.offset(),o=i.height();(t=e-s.top)>o&&(t=o),t<0&&(t=0),n=1-t/o,this.alpha=n.toFixed(2),this._updateAlphaCursor(t),this._updateCursorsColor(),this._setColorValues()},_getShadeColor:function(e,t){var n=this.shadeCanvas,i=n.offset(),s=n.width(),o=n.height(),r=e-i.left,a=t-i.top;r>s&&(r=s),r<0&&(r=0),a>o&&(a=o),a<0&&(a=.1);var l=1-a/o*100/100,c=r/s*100/100,h=l/2*(2-c),u=l*c/(1-Math.abs(2*h-1));isNaN(h)&&(h=0),isNaN(u)&&(u=0),this.lightness=h,this.saturation=u,this._updateShadeCursor(r,a),this._updateCursorsColor(),this._setColorValues()},_updateCursorsColor:function(){this.shadeCursor.css({backgroundColor:e.colors.toHEX(new e.colorPrimitive.HSL(this.hue,this.saturation,this.lightness))}),this.hueCursor.css({backgroundColor:e.colors.toHEX(new e.colorPrimitive.HSL(this.hue,1,.5))}),this.alphaCursor.css({backgroundColor:e.colors.toRGBA(new e.colorPrimitive.HSL(this.hue,1,.5),this.alpha).toString()})},_updateShadeCursor:function(e,t){this.shadeCursor.css({top:t,left:e})},_colorToPos:function(t){var n=this.shadeCanvas[0].getBoundingClientRect(),i=this.hueCanvas[0].getBoundingClientRect(),s=this.alphaCanvas[0].getBoundingClientRect(),o=e.colors.toHSL(t),r=e.colors.toHSLA(t,t.a),a=e.colors.toHSV(t),l=n.width*a.s,c=n.height*(1-a.v),h=i.height-o.h/360*i.height,u=(1-r.a)*s.height;this.hue=o.h,this.saturation=o.s,this.lightness=o.l,this.alpha=r.a,this._updateHueCursor(h),this._updateShadeCursor(l,c),this._updateAlphaCursor(u),this._updateCursorsColor(),this._createShadeCanvas("hsl("+this.hue+", 100%, 50%)"),this._createAlphaCanvas(),this._setColorValues()},_setColorValues:function(){var n=this.element,i=this.options,s=e.colors.toHSL(new e.colorPrimitive.HSL(this.hue,this.saturation,this.lightness)),o=e.colors.toHSLA(new e.colorPrimitive.HSLA(this.hue,this.saturation,this.lightness,this.alpha)),r=e.colors.toRGB(s),a=e.colors.toRGBA(r,this.alpha),l=e.colors.toHSV(s),c=e.colors.toCMYK(s),h=e.colors.toHEX(s),u=t(i.controller),d="percent"===i.hslMode;this.hsl=s,this.hsla=o,this.hsv=l,this.rgb=r,this.rgba=a,this.hex=h,this.cmyk=c,n.find(".color-value-hex .value-hex input").val(h),n.find(".color-value-rgb .value-r input").val(r.r),n.find(".color-value-rgb .value-g input").val(r.g),n.find(".color-value-rgb .value-b input").val(r.b),n.find(".color-value-rgb .value-rgb input").val(r.toString()),n.find(".color-value-rgba .value-r input").val(a.r),n.find(".color-value-rgba .value-g input").val(a.g),n.find(".color-value-rgba .value-b input").val(a.b),n.find(".color-value-rgba .value-a input").val(a.a),n.find(".color-value-rgba .value-rgba input").val(a.toString()),n.find(".color-value-hsl .value-h input").val(s.h.toFixed(0)),n.find(".color-value-hsl .value-s input").val(d?Math.round(100*s.s)+"%":s.s.toFixed(4)),n.find(".color-value-hsl .value-l input").val(d?Math.round(100*s.l)+"%":s.l.toFixed(4)),n.find(".color-value-hsl .value-hsl input").val(s.toString()),n.find(".color-value-hsla .value-h input").val(o.h.toFixed(0)),n.find(".color-value-hsla .value-s input").val(d?Math.round(100*o.s)+"%":s.s.toFixed(4)),n.find(".color-value-hsla .value-l input").val(d?Math.round(100*o.l)+"%":s.l.toFixed(4)),n.find(".color-value-hsla .value-a input").val(o.a),n.find(".color-value-hsla .value-hsla input").val(o.toString()),n.find(".color-value-hsv .value-h input").val(l.h.toFixed(0)),n.find(".color-value-hsv .value-s input").val(d?Math.round(100*l.s)+"%":l.s.toFixed(4)),n.find(".color-value-hsv .value-v input").val(d?Math.round(100*l.v)+"%":l.v.toFixed(4)),n.find(".color-value-hsv .value-hsv input").val(l.toString()),n.find(".color-value-cmyk .value-c input").val(c.c.toFixed(0)),n.find(".color-value-cmyk .value-m input").val(c.m.toFixed(0)),n.find(".color-value-cmyk .value-y input").val(c.y.toFixed(0)),n.find(".color-value-cmyk .value-k input").val(c.k.toFixed(0)),n.find(".color-value-cmyk .value-cmyk input").val(c.toString()),n.find(".user-colors-actions .user-swatch").css({backgroundColor:h}),u&&u.length&&u.val(this.val()).trigger("change"),this._fireEvent("select-color",{color:this.val(),primitive:{hsl:this.hsl,hsla:this.hsla,rgb:this.rgb,rgba:this.rgba,hsv:this.hsv,cmyk:this.cmyk,hex:this.hex}})},_clearInputInterval:function(){clearInterval(this.inputInterval),this.inputInterval=!1},_createEvents:function(){var n=this,s=this.element,o=this.options,r=s.find(".hue-map"),a=s.find(".alpha-map"),l=s.find(".color-map"),c=t(o.controller);s.find(".color-values-block input[type=text]").on(e.events.inputchange,(function(){var i=t(this);n._clearInputInterval(),n.inputInterval||(n.inputInterval=setTimeout((function(){var s,o,r,a=i.closest(".color-block");a.hasClass("color-hex")?s="hex":a.hasClass("color-rgb")?s="rgb":a.hasClass("color-rgba")?s="rgba":a.hasClass("color-hsl")?s="hsl":a.hasClass("color-hsla")?s="hsla":a.hasClass("color-hsv")?s="hsv":a.hasClass("color-cmyk")&&(s="cmyk"),a.hasClass("as-string")?o=i.val():(r=[],t.each(a.find("input"),(function(){r.push(this.value)})),o=s+"("+r.join(", ")+")"),o&&e.colors.isColor(o)&&n.val(o),n._clearInputInterval()}),o.inputThreshold))})),c&&c.length&&c.on(e.events.inputchange,(function(){n._clearInputInterval(),n.inputInterval||(n.inputInterval=setTimeout((function(){var t=c.val();t&&e.colors.isColor(t)&&n.val(t),n._clearInputInterval()}),o.inputThreshold))})),a.on(e.events.startAll,(function(s){n._getAlphaValue(i.pageXY(s).y),n.alphaCursor.addClass("dragging"),t(document).on(e.events.moveAll,(function(e){e.preventDefault(),n._getAlphaValue(i.pageXY(e).y)}),{ns:n.id,passive:!1}),t(document).on(e.events.stopAll,(function(){n.alphaCursor.removeClass("dragging"),t(document).off(e.events.moveAll,{ns:n.id}),t(document).off(e.events.stopAll,{ns:n.id})}),{ns:n.id})})),r.on(e.events.startAll,(function(s){n._getHueColor(i.pageXY(s).y),n.hueCursor.addClass("dragging"),t(document).on(e.events.moveAll,(function(e){e.preventDefault(),n._getHueColor(i.pageXY(e).y)}),{ns:n.id,passive:!1}),t(document).on(e.events.stopAll,(function(){n.hueCursor.removeClass("dragging"),t(document).off(e.events.moveAll,{ns:n.id}),t(document).off(e.events.stopAll,{ns:n.id})}),{ns:n.id})})),l.on(e.events.startAll,(function(s){n._getShadeColor(i.pageXY(s).x,i.pageXY(s).y),n.shadeCursor.addClass("dragging"),t(document).on(e.events.moveAll,(function(e){e.preventDefault(),n._getShadeColor(i.pageXY(e).x,i.pageXY(e).y)}),{ns:n.id,passive:!1}),t(document).on(e.events.stopAll,(function(){n.shadeCursor.removeClass("dragging"),t(document).off(e.events.moveAll,{ns:n.id}),t(document).off(e.events.stopAll,{ns:n.id})}),{ns:n.id})})),s.on("click",".swatch",(function(){n._colorToPos(t(this).attr("data-color"))})),s.on("click",".add-button",(function(){var i=e.colors.toHEX(new e.colorPrimitive.HSL(n.hue,n.saturation,n.lightness)).toUpperCase();n.userColors.indexOf(i)>-1||(n.userColors.push(i),s.find(".user-colors").append(t("<button>").attr("data-color",i).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:i})))})),s.find("input[type=radio]").on("click",(function(){o.returnValueType=t(this).val(),n._setColorValues()}))},val:function(t){var n=this.options;if(!i.isValue(t)||!e.colors.isColor(t)){var s;switch(n.returnValueType.toLowerCase()){case"rgb":s=this.rgb;break;case"rgba":s=this.rgba;break;case"hsl":s=this.hsl;break;case"hsla":s=this.hsla;break;case"hsv":s=this.hsv;break;case"cmyk":s=this.cmyk;break;default:s=this.hex}return n.returnAsString?s.toString():s}e.colors.isColor(t)&&this._colorToPos(e.colors.parse(t))},user:function(e){if(!i.isValue(e))return this.userColors;(Array.isArray(e)||"string"==typeof e)&&(this.userColors="string"==typeof e?e.toArray(",").map((function(e){return e.toUpperCase()})):e.map((function(e){return e.toUpperCase()})),this._fillUserColors())},_fillUserColors:function(){var e=this.element.find(".user-colors").clear();t.each(this.userColors,(function(){e.append(t("<button>").attr("data-color",this).attr("type","button").addClass("swatch user-swatch").css({backgroundColor:this}))}))},changeAttribute:function(e,t){var n=this.options;"data-return-value-type"===e&&(n.returnValueType=t),"data-return-as-string"===e&&(n.returnValueType=i.bool(t))},destroy:function(){this.element.remove()}}),e.defaults.ColorSelector=s}(Metro,m4q),function(e,t){"use strict";var n="hex",i="rgba",s="hsla",o="cmyk";e.colorsSetup=function(e){r=t.extend({},r,e)},void 0!==typeof window.metroColorsSetup&&e.colorsSetup(window.metroColorsSetup);var r={angle:30,resultType:"hex",results:6,baseLight:"#ffffff",baseDark:"self"};function a(e,t){for(e+=t;e>=360;)e-=360;for(;e<0;)e+=360;return e}function l(e){return Math.min(1,Math.max(0,e))}function c(e,t,n){this.r=e||0,this.g=t||0,this.b=n||0}function h(e,t,n,i){this.r=e||0,this.g=t||0,this.b=n||0,this.a=0===i?0:i||1}function u(e,t,n){this.h=e||0,this.s=t||0,this.v=n||0}function d(e,t,n){this.h=e||0,this.s=t||0,this.l=n||0}function p(e,t,n,i){this.h=e||0,this.s=t||0,this.l=n||0,this.a=0===i?0:i||1}function f(e,t,n,i){this.c=e||0,this.m=t||0,this.y=n||0,this.k=i||0}c.prototype.toString=function(){return"rgb("+[this.r,this.g,this.b].join(", ")+")"},h.prototype.toString=function(){return"rgba("+[this.r,this.g,this.b,parseFloat(this.a).toFixed(2)].join(", ")+")"},u.prototype.toString2=function(){return"hsv("+[this.h,this.s,this.v].join(", ")+")"},u.prototype.toString=function(){return"hsv("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.v)+"%"].join(", ")+")"},d.prototype.toString2=function(){return"hsl("+[this.h,this.s,this.l].join(", ")+")"},d.prototype.toString=function(){return"hsl("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%"].join(", ")+")"},p.prototype.toString2=function(){return"hsla("+[this.h,this.s,this.l,this.a].join(", ")+")"},p.prototype.toString=function(){return"hsla("+[Math.round(this.h),Math.round(100*this.s)+"%",Math.round(100*this.l)+"%",parseFloat(this.a).toFixed(2)].join(", ")+")"},f.prototype.toString=function(){return"cmyk("+[this.c,this.m,this.y,this.k].join(", ")+")"};var g={PALETTES:{ALL:"all",METRO:"metro",STANDARD:"standard"},metro:{lime:"#a4c400",green:"#60a917",emerald:"#008a00",blue:"#00AFF0",teal:"#00aba9",cyan:"#1ba1e2",cobalt:"#0050ef",indigo:"#6a00ff",violet:"#aa00ff",pink:"#dc4fad",magenta:"#d80073",crimson:"#a20025",red:"#CE352C",orange:"#fa6800",amber:"#f0a30a",yellow:"#fff000",brown:"#825a2c",olive:"#6d8764",steel:"#647687",mauve:"#76608a",taupe:"#87794e"},standard:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32dc32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdd5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",slyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},all:{},init:function(){return this.all=t.extend({},this.standard,this.metro),this},color:function(e,t){return void 0!==this[t=t||this.PALETTES.ALL][e]&&this[t][e]},palette:function(e){return e=e||this.PALETTES.ALL,Object.keys(this[e])},expandHexColor:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");return"#"===e[0]&&4===e.length?"#"+e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(function(e,t,n,i){return t+t+n+n+i+i})):"#"===e[0]?e:"#"+e},colors:function(e){return e=e||this.PALETTES.ALL,Object.values(this[e])},random:function(e,i){var s;return e=e||n,i=void 0!==i?i:1,s="#"+((1<<24)+(t.random(0,255)<<16)+(t.random(0,255)<<8)+t.random(0,255)).toString(16).slice(1),"hex"===e?s:this.toColor(s,e,i)},parse:function(e){var t=e.toLowerCase().trim(),n=t.replace(/[^%\d.,]/g,"").split(",").map((function(e){return e.indexOf("%")>-1&&(e=""+parseInt(e)/100),e.indexOf(".")>-1?parseFloat(e):parseInt(e)}));return this.metro[t]?this.expandHexColor(this.metro[t]):this.standard[t]?this.expandHexColor(this.standard[t]):"#"===t[0]?this.expandHexColor(t):0===t.indexOf("rgba")&&4===n.length?new h(n[0],n[1],n[2],n[3]):0===t.indexOf("rgb")&&3===n.length?new c(n[0],n[1],n[2]):0===t.indexOf("cmyk")&&4===n.length?new f(n[0],n[1],n[2],n[3]):0===t.indexOf("hsv")&&3===n.length?new u(n[0],n[1],n[2]):0===t.indexOf("hsla")&&4===n.length?new p(n[0],n[1],n[2],n[3]):0===t.indexOf("hsl")&&3===n.length?new d(n[0],n[1],n[2]):void 0},createColor:function(e,t){var n;return e=e||"hex","string"==typeof(t=t||"#000000")&&(n=this.parse(t)),this.isColor(n)||(n="#000000"),this.toColor(n,e.toLowerCase())},isDark:function(e){if(this.isColor(e)){var t=this.toRGB(e);return(299*t.r+587*t.g+114*t.b)/1e3<128}},isLight:function(e){return!this.isDark(e)},isHSV:function(e){return e instanceof u},isHSL:function(e){return e instanceof d},isHSLA:function(e){return e instanceof p},isRGB:function(e){return e instanceof c},isRGBA:function(e){return e instanceof h},isCMYK:function(e){return e instanceof f},isHEX:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isColor:function(e){var t="string"==typeof e?this.parse(e):e;return!!t&&(this.isHEX(t)||this.isRGB(t)||this.isRGBA(t)||this.isHSV(t)||this.isHSL(t)||this.isHSLA(t)||this.isCMYK(t))},check:function(e,n){var i=this,s="string"==typeof n?[n]:n,o=!1;if(t.each(s,(function(){i["is"+this.toUpperCase()](e)&&(o=!0)})),!o)throw new Error("Value is not a "+n+" color type!")},colorType:function(e){return this.isHEX(e)?n:this.isRGB(e)?"rgb":this.isRGBA(e)?i:this.isHSV(e)?"hsv":this.isHSL(e)?"hsl":this.isHSLA(e)?s:this.isCMYK(e)?o:"unknown"},equal:function(e,t){return!(!this.isColor(e)||!this.isColor(t))&&this.toHEX(e)===this.toHEX(t)},colorToString:function(e){return e.toString()},hex2rgb:function(e){if("string"!=typeof e)throw new Error("Value is not a string!");var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(this.expandHexColor(e)),n=[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)];return t?new c(n[0],n[1],n[2]):null},rgb2hex:function(e){return this.check(e,"rgb"),"#"+((1<<24)+(e.r<<16)+(e.g<<8)+e.b).toString(16).slice(1)},rgb2hsv:function(e){this.check(e,"rgb");var t,n,i,s=new u,o=e.r/255,r=e.g/255,a=e.b/255,l=Math.max(o,r,a),c=Math.min(o,r,a),h=l-c;return i=l,n=0===l?0:1-c/l,t=l===c?0:l===o&&r>=a?(r-a)/h*60:l===o&&r<a?(r-a)/h*60+360:l===r?(a-o)/h*60+120:l===a?(o-r)/h*60+240:0,s.h=t,s.s=n,s.v=i,s},hsv2rgb:function(e){var t,n,i;this.check(e,"hsv");var s=e.h,o=100*e.s,r=100*e.v,a=(100-o)*r/100,l=s%60/60*(r-a),h=a+l,u=r-l;switch(Math.floor(s/60)){case 0:t=r,n=h,i=a;break;case 1:t=u,n=r,i=a;break;case 2:t=a,n=r,i=h;break;case 3:t=a,n=u,i=r;break;case 4:t=h,n=a,i=r;break;case 5:t=r,n=a,i=u}return new c(Math.round(255*t/100),Math.round(255*n/100),Math.round(255*i/100))},hsv2hex:function(e){return this.check(e,"hsv"),this.rgb2hex(this.hsv2rgb(e))},hex2hsv:function(e){return this.check(e,"hex"),this.rgb2hsv(this.hex2rgb(e))},rgb2cmyk:function(e){this.check(e,"rgb");var t=new f,n=e.r/255,i=e.g/255,s=e.b/255;return t.k=Math.min(1-n,1-i,1-s),t.c=1-t.k==0?0:(1-n-t.k)/(1-t.k),t.m=1-t.k==0?0:(1-i-t.k)/(1-t.k),t.y=1-t.k==0?0:(1-s-t.k)/(1-t.k),t.c=Math.round(100*t.c),t.m=Math.round(100*t.m),t.y=Math.round(100*t.y),t.k=Math.round(100*t.k),t},cmyk2rgb:function(e){return this.check(e,"cmyk"),new c(Math.floor(255*(1-e.c/100)*(1-e.k/100)),Math.ceil(255*(1-e.m/100)*(1-e.k/100)),Math.ceil(255*(1-e.y/100)*(1-e.k/100)))},hsv2hsl:function(e){var t,n,i,s;return this.check(e,"hsv"),t=e.h,i=(2-e.s)*e.v,n=e.s*e.v,0===i||0===(s=i<=1?i:2-i)?n=0:n/=s,new d(t,n,i/=2)},hsl2hsv:function(e){var t,n,i,s;return this.check(e,["hsl","hsla"]),t=e.h,i=((s=2*e.l)+(n=e.s*(s<=1?s:2-s)))/2,new u(t,n=s+n===0?0:2*n/(s+n),i)},rgb2websafe:function(e){return this.check(e,"rgb"),new c(51*Math.round(e.r/51),51*Math.round(e.g/51),51*Math.round(e.b/51))},rgba2websafe:function(e){this.check(e,"rgba");var t=this.rgb2websafe(e);return new h(t.r,t.g,t.b,e.a)},hex2websafe:function(e){return this.check(e,"hex"),this.rgb2hex(this.rgb2websafe(this.hex2rgb(e)))},hsv2websafe:function(e){return this.check(e,"hsv"),this.rgb2hsv(this.rgb2websafe(this.toRGB(e)))},hsl2websafe:function(e){return this.check(e,"hsl"),this.hsv2hsl(this.rgb2hsv(this.rgb2websafe(this.toRGB(e))))},cmyk2websafe:function(e){return this.check(e,"cmyk"),this.rgb2cmyk(this.rgb2websafe(this.cmyk2rgb(e)))},websafe:function(e){return this.isHEX(e)?this.hex2websafe(e):this.isRGB(e)?this.rgb2websafe(e):this.isRGBA(e)?this.rgba2websafe(e):this.isHSV(e)?this.hsv2websafe(e):this.isHSL(e)?this.hsl2websafe(e):this.isCMYK(e)?this.cmyk2websafe(e):e},toColor:function(e,t,n){var i;switch(t.toLowerCase()){case"hex":i=this.toHEX(e);break;case"rgb":i=this.toRGB(e);break;case"rgba":i=this.toRGBA(e,n);break;case"hsl":i=this.toHSL(e);break;case"hsla":i=this.toHSLA(e,n);break;case"hsv":i=this.toHSV(e);break;case"cmyk":i=this.toCMYK(e);break;default:i=e}return i},toHEX:function(e){var t="string"==typeof e?this.parse(e):e;if(!t)throw new Error("Unknown color format!");return"string"==typeof t?t:this.rgb2hex(this.toRGB(t))},toRGB:function(e){var t="string"==typeof e?this.parse(e):e;if(this.isRGB(t))return t;if(this.isRGBA(t))return new c(t.r,t.g,t.b);if(this.isHSV(t))return this.hsv2rgb(t);if(this.isHSL(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHSLA(t))return this.hsv2rgb(this.hsl2hsv(t));if(this.isHEX(t))return this.hex2rgb(t);if(this.isCMYK(t))return this.cmyk2rgb(t);throw new Error("Unknown color format!")},toRGBA:function(e,t){if(this.isRGBA(e))return t&&(e.a=t),e;var n=this.toRGB(e);return new h(n.r,n.g,n.b,t)},toHSV:function(e){return this.rgb2hsv(this.toRGB(e))},toHSL:function(e){return this.hsv2hsl(this.rgb2hsv(this.toRGB(e)))},toHSLA:function(e,t){if(this.isHSLA(e))return t&&(e.a=t),e;var n=this.hsv2hsl(this.rgb2hsv(this.toRGB(e)));return n.a=t,new p(n.h,n.s,n.l,n.a)},toCMYK:function(e){return this.rgb2cmyk(this.toRGB(e))},grayscale:function(e){return this.desaturate(e,100)},lighten:function(e,t){var n,o,r;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return t=0===t?0:t||10,(n=this.toHSL(e)).l+=t/100,n.l=l(n.l),(o=this.colorType(e).toLowerCase())!==i&&o!==s||(r=e.a),this.toColor(n,o,r)},darken:function(e,t){return this.lighten(e,-t)},spin:function(e,t){var n,o,r,a;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return a=((n=this.toHSL(e)).h+t)%360,n.h=a<0?360+a:a,(o=this.colorType(e).toLowerCase())!==i&&o!==s||(r=e.a),this.toColor(n,o,r)},brighten:function(e,t){var n,o,r;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toRGB(e)).r=Math.max(0,Math.min(255,n.r-Math.round(-t/100*255))),n.g=Math.max(0,Math.min(255,n.g-Math.round(-t/100*255))),n.b=Math.max(0,Math.min(255,n.b-Math.round(-t/100*255))),(o=this.colorType(e).toLowerCase())!==i&&o!==s||(r=e.a),this.toColor(n,o,r)},saturate:function(e,t){var n,o,r;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s+=t/100,n.s=l(n.s),(o=this.colorType(e).toLowerCase())!==i&&o!==s||(r=e.a),this.toColor(n,o,r)},desaturate:function(e,t){var n,o,r;if(!this.isColor(e))throw new Error(e+" is not a valid color value!");return(n=this.toHSL(e)).s-=t/100,n.s=l(n.s),(o=this.colorType(e).toLowerCase())!==i&&o!==s||(r=e.a),this.toColor(n,o,r)},hueShift:function(e,t,n,o){var r,a=this.toHSV(e),l=this.colorType(e).toLowerCase(),c=a.h,h=n||0,u=o||0;for(c+=t||0;c>=360;)c-=360;for(;c<0;)c+=360;return a.h=c,a.s+=h,a.s>1&&(a.s=1),a.s<0&&(a.s=0),a.v+=u,a.v>1&&(a.v=1),a.v<0&&(a.v=0),l!==i&&l!==s||(r=e.a),this.toColor(a,l,r)},shade:function(e,t){if(!this.isColor(e))throw new Error(e+" is not a valid color value!");t/=100;var n,o,r,a,l=this.colorType(e).toLowerCase(),h=this.toRGB(e),u=t<0?0:255,d=t<0?-1*t:t;return n=Math.round((u-h.r)*d)+h.r,o=Math.round((u-h.g)*d)+h.g,r=Math.round((u-h.b)*d)+h.b,l!==i&&l!==s||(a=e.a),this.toColor(new c(n,o,r),l,a)},mix:function(e,t,n){n=0===n?0:n||50;var i=new c(0,0,0),s=this.toRGB(e),o=this.toRGB(t),r=n/100;return i.r=Math.round((o.r-s.r)*r+s.r),i.g=Math.round((o.g-s.g)*r+s.g),i.b=Math.round((o.b-s.b)*r+s.b),this.toHEX(i)},multiply:function(e,t){var n=this.toRGB(e),i=this.toRGB(t),s=new c;return n.b=Math.floor(n.b*i.b/255),n.g=Math.floor(n.g*i.g/255),n.r=Math.floor(n.r*i.r/255),this.toHEX(s)},materialPalette:function(e,n){var i=t.extend({},r,n),s=i.baseLight,o="self"!==i.baseDark&&i.baseDark?i.baseDark:this.multiply(e,e);return{50:this.mix(s,e,10),100:this.mix(s,e,30),200:this.mix(s,e,50),300:this.mix(s,e,70),400:this.mix(s,e,85),500:this.mix(s,e,100),600:this.mix(o,e,92),700:this.mix(o,e,83),800:this.mix(o,e,74),900:this.mix(o,e,65),A100:this.lighten(this.saturate(this.mix(o,e,15),80),65),A200:this.lighten(this.saturate(this.mix(o,e,15),80),55),A400:this.lighten(this.saturate(this.mix(s,e,100),55),10),A700:this.lighten(this.saturate(this.mix(o,e,83),65),10)}},monochromatic:function(e,n){for(var i=t.extend({},r,n),s=i.resultType,o=i.results,a=this.toHSV(e),l=a.h,c=a.s,h=a.v,d=[],p=1/o,f=this;o--;)d.push(new u(l,c,h)),h=(h+p)%1;return d.map((function(e){return f["to"+s.toUpperCase()](e)}))},complementary:function(e,n){var i=t.extend({},r,n),s=this.toHSL(e),o=this,l=i.resultType;return[s,new d(a(s.h,180),s.s,s.l)].map((function(e){return o["to"+l.toUpperCase()](e)}))},splitComplementary:function(e,n){var i=t.extend({},r,n),s=this.toHSL(e),o=s.h,l=this,c=i.resultType,h=i.angle;return[s,new d(a(o,180-h),s.s,s.l),new d(a(o,180+h),s.s,s.l)].map((function(e){return l["to"+c.toUpperCase()](e)}))},doubleComplementary:function(e,n){var i=t.extend({},r,n),s=i.resultType,o=i.angle,l=this.toHSL(e),c=l.h,h=this;return[l,new d(a(c,180),l.s,l.l),new d(a(c,o),l.s,l.l),new d(a(c,180+o),l.s,l.l)].map((function(e){return h["to"+s.toUpperCase()](e)}))},square:function(e,n){var i,s=t.extend({},r,n).resultType,o=[],l=this.toHSL(e),c=l.h,h=this;for(o.push(l),i=1;i<4;i++)c=a(c,90),o.push(new d(c,l.s,l.l));return o.map((function(e){return h["to"+s.toUpperCase()](e)}))},tetradic:function(e,n){var i=t.extend({},r,n),s=i.resultType,o=i.angle,l=this.toHSL(e),c=l.h,h=this;return[l,new d(a(c,180),l.s,l.l),new d(a(c,180-o),l.s,l.l),new d(a(c,-o),l.s,l.l)].map((function(e){return h["to"+s.toUpperCase()](e)}))},triadic:function(e,n){var i=t.extend({},r,n).resultType,s=this.toHSL(e),o=s.h,l=this;return[s,new d(a(o,120),s.s,s.l),new d(a(o,240),s.s,s.l)].map((function(e){return l["to"+i.toUpperCase()](e)}))},analogous:function(e,n){var i=t.extend({},r,n),s=i.resultType,o=i.angle,l=this.toHSL(e),c=this;return[l,new d(a(l.h,-o),l.s,l.l),new d(a(l.h,+o),l.s,l.l)].map((function(e){return c["to"+s.toUpperCase()](e)}))},createScheme:function(e,t,n){switch(t.toLowerCase()){case"analogous":case"analog":return this.analogous(e,n);case"triadic":case"triad":return this.triadic(e,n);case"tetradic":case"tetra":return this.tetradic(e,n);case"monochromatic":case"mono":return this.monochromatic(e,n);case"complementary":case"complement":case"comp":return this.complementary(e,n);case"double-complementary":case"double-complement":case"double":return this.doubleComplementary(e,n);case"split-complementary":case"split-complement":case"split":return this.splitComplementary(e,n);case"square":return this.square(e,n);case"material":return this.materialPalette(e,n)}},getScheme:function(){return this.createScheme.apply(this,arguments)},add:function(e,t,n){var i="string"==typeof e?this.parse(e):e,s="string"==typeof t?this.parse(t):t,o=this.toRGBA(i),r=this.toRGBA(s),a=new h,l=(""+n).toLowerCase()||"hex";return a.r=Math.round((o.r+r.r)/2),a.g=Math.round((o.g+r.g)/2),a.b=Math.round((o.b+r.b)/2),a.a=Math.round((o.a+r.a)/2),this["to"+l.toUpperCase()](a)}},m=function(e,t){this._setValue(e),this._setOptions(t)};m.prototype={_setValue:function(e){var t;t="string"==typeof e?g.parse(e):e,g.isColor(t)||(t="#000000"),this._value=t,this._type=g.colorType(this._value)},_setOptions:function(e){e="object"==typeof e?e:{},this._options=t.extend({},r,e)},getOptions:function(){return this._options},setOptions:function(e){this._setOptions(e)},setValue:function(e){this._setValue(e)},getValue:function(){return this._value},channel:function(e,t){var n=this._type.toUpperCase();return["red","green","blue"].indexOf(e)>-1&&(this.toRGB(),this._value[e[0]]=t,this["to"+n]()),"alpha"===e&&this._value.a&&(this._value.a=t),["hue","saturation","value"].indexOf(e)>-1&&(this.toHSV(),this._value[e[0]]=t,this["to"+n]()),["lightness"].indexOf(e)>-1&&(this.toHSL(),this._value[e[0]]=t,this["to"+n]()),["cyan","magenta","yellow","black"].indexOf(e)>-1&&(this.toCMYK(),this._value[e[0]]=t,this["to"+n]()),this},channels:function(e){var n=this;return t.each(e,(function(e,t){n.channel(e,t)})),this},toRGB:function(){return this._value=g.toRGB(this._value),this._type="rgb",this},rgb:function(){return this._value?new m(g.toRGB(this._value)):void 0},toRGBA:function(e){return g.isRGBA(this._value)?e&&(this._value=g.toRGBA(this._value,e)):this._value=g.toRGBA(this._value,e),this._type=i,this},rgba:function(e){return this._value?new m(g.toRGBA(this._value,e)):void 0},toHEX:function(){return this._value=g.toHEX(this._value),this._type=n,this},hex:function(){return this._value?new m(g.toHEX(this._value)):void 0},toHSV:function(){return this._value=g.toHSV(this._value),this._type="hsv",this},hsv:function(){return this._value?new m(g.toHSV(this._value)):void 0},toHSL:function(){return this._value=g.toHSL(this._value),this._type="hsl",this},hsl:function(){return this._value?new m(g.toHSL(this._value)):void 0},toHSLA:function(e){return g.isHSLA(this._value)?e&&(this._value=g.toHSLA(this._value,e)):this._value=g.toHSLA(this._value,e),this._type=s,this},hsla:function(e){return this._value?new m(g.toHSLA(this._value,e)):void 0},toCMYK:function(){return this._value=g.toCMYK(this._value),this._type=o,this},cmyk:function(){return this._value?new m(g.toCMYK(this._value)):void 0},toWebsafe:function(){return this._value=g.websafe(this._value),this._type=g.colorType(this._value),this},websafe:function(){return this._value?new m(g.websafe(this._value)):void 0},toString:function(){return this._value?g.colorToString(this._value):"undefined"},toDarken:function(e){return this._value=g.darken(this._value,e),this},darken:function(e){return new m(g.darken(this._value,e))},toLighten:function(e){return this._value=g.lighten(this._value,e),this},lighten:function(e){return new m(g.lighten(this._value,e))},isDark:function(){return this._value?g.isDark(this._value):void 0},isLight:function(){return this._value?g.isLight(this._value):void 0},toHueShift:function(e,t,n){return this._value=g.hueShift(this._value,e,t,n),this},hueShift:function(e,t,n){return new m(g.hueShift(this._value,e,t,n))},toGrayscale:function(){return this._value=g.grayscale(this._value,this._type),this},grayscale:function(){return new m(g.grayscale(this._value,this._type))},type:function(){return g.colorType(this._value)},createScheme:function(e,t,n){return this._value?g.createScheme(this._value,e,t,n):void 0},getScheme:function(){return this.createScheme.apply(this,arguments)},equal:function(e){return g.equal(this._value,e)},toAdd:function(e){return this._value=g.add(this._value,e,this._type),this},add:function(e){return new m(g.add(this._value,e,this._type))}},e.colors=g.init(),window.Color=e.Color=m,window.ColorPrimitive=e.colorPrimitive={RGB:c,RGBA:h,HSV:u,HSL:d,HSLA:p,CMYK:f},!0===window.METRO_GLOBAL_COMMON&&(window.Colors=e.colors)}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={name:"cookies_accepted",template:null,templateSource:null,acceptButton:".cookie-accept-button",cancelButton:".cookie-cancel-button",message:"Our website uses cookies to monitor traffic on our website and ensure that we can provide our customers with the best online experience possible.",duration:"30days",clsContainer:"",clsMessage:"",clsButtons:"",clsAcceptButton:"alert",clsCancelButton:"",onAccept:e.noop,onDecline:e.noop};e.cookieDisclaimer={init:function(n){var s=this,o=e.cookie;this.options=t.extend({},i,n),this.disclaimer=t("<div>"),o.getCookie(this.options.name)||(this.options.template?fetch(this.options.template).then(e.fetch.text).then((function(e){s.create(e)})):this.options.templateSource?this.create(t(this.options.templateSource)):this.create())},create:function(i){var s,o=e.cookie,r=this.options,a=this.disclaimer;a.addClass("cookie-disclaimer-block").addClass(r.clsContainer),i?i instanceof t?a.append(i):a.html(i):(s=t("<div>").addClass("cookie-disclaimer-actions").addClass(r.clsButtons).append(t("<button>").addClass("button cookie-accept-button").addClass(r.clsAcceptButton).html("Accept")).append(t("<button>").addClass("button cookie-cancel-button").addClass(r.clsCancelButton).html("Cancel")),a.html(t("<div>").addClass(r.clsMessage).html(r.message)).append(t("<hr>").addClass("thin")).append(s)),a.appendTo(t("body")),a.on(e.events.click,r.acceptButton,(function(){var e=0,i=(""+r.duration).toArray(" ");t.each(i,(function(){var t=""+this;t.includes("day")?e+=24*parseInt(t)*60*60*1e3:t.includes("hour")?e+=60*parseInt(t)*60*1e3:t.includes("min")?e+=60*parseInt(t)*1e3:t.includes("sec")?e+=1e3*parseInt(t):e+=parseInt(t)})),o.setCookie(r.name,!0,e),n.exec(r.onAccept),a.remove()})),a.on(e.events.click,r.cancelButton,(function(){n.exec(r.onDecline),a.remove()}))}}}(Metro,m4q),function(e,t){"use strict";var n={path:"/",expires:null,maxAge:null,domain:null,secure:!1,samesite:null};e.cookieSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroCookieSetup&&e.cookieSetup(window.metroCookieSetup),e.cookie={getCookies:function(){var e=document.cookie.toArray(";"),n={};return t.each(e,(function(){var e=this.split("=");n[e[0]]=e[1]})),n},getCookie:function(e){var t,n,i=encodeURIComponent(e)+"=",s=document.cookie.toArray(";");for(t=0;t<s.length;t++){for(n=s[t];" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(i))return decodeURIComponent(n.substring(i.length,n.length))}return null},setCookie:function(e,i,s){var o,r,a=encodeURIComponent(e),l=encodeURIComponent(i),c=[];s&&"object"!=typeof s?((o=new Date).setTime(o.getTime()+parseInt(s)),r=t.extend({},n,{expires:o.toUTCString()})):r=t.extend({},n,s),t.each(r,(function(e,t){"secure"!==e&&t&&c.push(Cake.dashedName(e)+"="+t),"secure"===e&&!0===t&&c.push("secure")})),document.cookie=a+"="+l+"; "+c.join("; ")},delCookie:function(e){this.setCookie(e,!1,{maxAge:-1})}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={countdownDeferred:0,stopOnBlur:!0,animate:"none",ease:"linear",duration:600,inputFormat:null,locale:METRO_LOCALE,days:0,hours:0,minutes:0,seconds:0,date:null,start:!0,clsCountdown:"",clsPart:"",clsZero:"",clsAlarm:"",clsDays:"",clsHours:"",clsMinutes:"",clsSeconds:"",onAlarm:e.noop,onTick:e.noop,onZero:e.noop,onBlink:e.noop,onCountdownCreate:e.noop};e.countdownSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCountdownSetup&&e.countdownSetup(window.metroCountdownSetup),e.Component("countdown",{init:function(t,s){return this._super(s,t,i,{locale:e.locales["en-US"],breakpoint:(new Date).getTime(),blinkInterval:null,tickInterval:null,zeroDaysFired:!1,zeroHoursFired:!1,zeroMinutesFired:!1,zeroSecondsFired:!1,fontSize:parseInt(n.getStyleOne(s,"font-size")),current:{d:0,h:0,m:0,s:0},inactiveTab:!1,id:n.elementId("countdown"),duration:600}),this},_create:function(){var t=this.options;this.locale=void 0!==e.locales[t.locale]?e.locales[t.locale]:e.locales["en-US"],this.duration=+t.duration<=0||+t.duration>=1e3?600:+t.duration,this._build(),this._createEvents()},_setBreakpoint:function(){var e=this.options;this.breakpoint=datetime().time(),e.date&&(this.breakpoint=(e.inputFormat?Datetime.from(e.date,e.inputFormat):datetime(e.date)).time()),parseInt(e.days)>0&&(this.breakpoint+=864e5*parseInt(e.days)),parseInt(e.hours)>0&&(this.breakpoint+=36e5*parseInt(e.hours)),parseInt(e.minutes)>0&&(this.breakpoint+=6e4*parseInt(e.minutes)),parseInt(e.seconds)>0&&(this.breakpoint+=1e3*parseInt(e.seconds))},_build:function(){var e,i,s=this,o=this.element,r=this.options,a=datetime().time();o.attr("id")||o.attr("id",n.elementId("countdown")),n.isValue(o.attr("id"))||o.attr("id",n.elementId("countdown")),o.addClass("countdown").addClass(r.clsCountdown),this._setBreakpoint(),e=Math.round((s.breakpoint-a)/864e5),t.each(["days","hours","minutes","seconds"],(function(){var n=t("<div>").addClass("part "+this).addClass(r.clsPart).attr("data-label",s.locale.calendar.time[this]).appendTo(o);if("days"===this&&n.addClass(r.clsDays),"hours"===this&&n.addClass(r.clsHours),"minutes"===this&&n.addClass(r.clsMinutes),"seconds"===this&&n.addClass(r.clsSeconds),t("<div>").addClass("digit").appendTo(n),t("<div>").addClass("digit").appendTo(n),"days"===this&&e>=100)for(var i=0;i<String(Math.round(e/100)).length;i++)t("<div>").addClass("digit").appendTo(n)})),(i=o.find(".digit")).append(t("<span class='digit-placeholder'>").html("0")),i.append(t("<span class='digit-value'>").html("0")),this._fireEvent("countdown-create",{element:o}),!0===r.start?this.start():this.tick()},_createEvents:function(){var e=this;t(document).on("visibilitychange",(function(){document.hidden?e.pause():e.resume()}),{ns:this.id})},blink:function(){this.element.toggleClass("blink"),this._fireEvent("blink",{time:this.current})},tick:function(){var e,t,n,i,s,o=this.element,r=this.options,a=datetime().time(),l=o.find(".days"),c=o.find(".hours"),h=o.find(".minutes"),u=o.find(".seconds");if((e=Math.floor((this.breakpoint-a)/1e3))<=-1)return this.stop(),o.addClass(r.clsAlarm),void this._fireEvent("alarm",{time:a});e-=86400*(t=Math.floor(e/86400)),this.current.d!==t&&(this.current.d=t,this.draw("days",t)),0===t&&!1===this.zeroDaysFired&&(this.zeroDaysFired=!0,l.addClass(r.clsZero),this._fireEvent("zero",{part:"days",value:l})),e-=3600*(n=Math.floor(e/3600)),this.current.h!==n&&(this.current.h=n,this.draw("hours",n)),0===t&&0===n&&!1===this.zeroHoursFired&&(this.zeroHoursFired=!0,c.addClass(r.clsZero),this._fireEvent("zero",{part:"hours",value:c})),e-=60*(i=Math.floor(e/60)),this.current.m!==i&&(this.current.m=i,this.draw("minutes",i)),0===t&&0===n&&0===i&&!1===this.zeroMinutesFired&&(this.zeroMinutesFired=!0,h.addClass(r.clsZero),this._fireEvent("zero",{part:"minutes",value:h})),s=Math.floor(e/1),this.current.s!==s&&(this.current.s=s,this.draw("seconds",s)),0===t&&0===n&&0===i&&0===s&&!1===this.zeroSecondsFired&&(this.zeroSecondsFired=!0,u.addClass(r.clsZero),this._fireEvent("zero",{part:"seconds",value:u})),this._fireEvent("tick",{days:t,hours:n,minutes:i,seconds:s})},draw:function(e,n){var i,s,o,r,a,l,c=this.element,h=this.options,u=this.duration,d=function(e,n){var i,s=e.height();e.siblings("-old-digit").remove(),(i=e.clone().appendTo(e.parent())).css({top:-1*s+"px"}),e.addClass("-old-digit").animate({draw:{top:s,opacity:0},dur:u,ease:h.ease,onDone:function(){t(this).remove()}}),i.html(n).animate({draw:{top:0,opacity:1},dur:u,ease:h.ease})},p=function(e,n){var i;e.siblings("-old-digit").remove(),(i=e.clone().appendTo(e.parent())).css({opacity:0}),e.addClass("-old-digit").animate({draw:{opacity:0},dur:u/2,ease:h.ease,onDone:function(){t(this).remove()}}),i.html(n).animate({draw:{opacity:1},dur:u,ease:h.ease})},f=function(e,n){var i,s=e.height(),o=parseInt(e.style("font-size"));e.siblings("-old-digit").remove(),(i=e.clone().appendTo(e.parent())).css({top:0,left:0,opacity:1}),e.addClass("-old-digit").animate({draw:{top:s,opacity:0,fontSize:0},dur:u,ease:h.ease,onDone:function(){t(this).remove()}}),i.html(n).animate({draw:{top:0,opacity:1,fontSize:[0,o]},dur:u,ease:h.ease})};for(1===(n=""+n).length&&(n="0"+n),a=n.length,s=(i=c.find("."+e+" .digit:not(-old-digit)")).length,l=0;l<a;l++)if(r=i.eq(s-1).find(".digit-value"),o=Math.floor(parseInt(n)/Math.pow(10,l))%10,s--,parseInt(r.text())!==o)switch((""+h.animate).toLowerCase()){case"slide":d(r,o);break;case"fade":p(r,o);break;case"zoom":f(r,o);break;default:r.html(o)}},start:function(){var e=this,t=this.element;!1!==t.data("paused")&&(clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t.data("paused",!1),this._setBreakpoint(),this.tick(),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3))},stop:function(){var e=this.element;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),e.data("paused",!0),e.find(".digit").html("0"),this.current={d:0,h:0,m:0,s:0}},pause:function(){clearInterval(this.blinkInterval),clearInterval(this.tickInterval),this.element.data("paused",!0)},resume:function(){var e=this;this.element.data("paused",!1),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3)},reset:function(){var e=this,n=this.element,i=this.options;clearInterval(this.blinkInterval),clearInterval(this.tickInterval),n.find(".part").removeClass(i.clsZero);var s=n.find(".digit").clear();s.append(t("<span class='digit-placeholder'>").html("0")),s.append(t("<span class='digit-value'>").html("0")),this._setBreakpoint(),n.data("paused",!1),this.tick(),this.blinkInterval=setInterval((function(){e.blink()}),500),this.tickInterval=setInterval((function(){e.tick()}),1e3)},resetWith:function(n){var i=this.element,s=this.options;"string"==typeof n?(i.attr("data-date",n),s.date=n):"object"==typeof n&&t.each(["days","hours","minutes","seconds"],(function(t,o){e.utils.isValue(n[o])&&(i.attr("data-"+o,n[o]),s[o]=n[o])})),this.reset()},togglePlay:function(){!0===this.element.attr("data-pause")?this.pause():this.start()},isPaused:function(){return this.element.data("paused")},getBreakpoint:function(e){return!0===e?new Date(this.breakpoint):this.breakpoint},getLeft:function(){var e=(new Date).getTime(),t=Math.floor(this.breakpoint-e);return{days:Math.round(t/864e5),hours:Math.round(t/36e5),minutes:Math.round(t/6e4),seconds:Math.round(t/1e3)}},i18n:function(n){var i=this,s=this.element,o=this.options;return void 0===n?o.locale:void 0!==e.locales[n]&&(o.locale=n,this.locale=e.locales[o.locale],void t.each(["days","hours","minutes","seconds"],(function(){var e=".part."+this;s.find(e).attr("data-label",i.locale.calendar.time[this])})))},changeAttrLocale:function(){var e=this.element.attr("data-locale");this.i18n(e)},changeAttribute:function(e,t){switch(e){case"data-pause":this.togglePlay();break;case"data-locale":this.i18n(t);break;case"data-duration":this.duration=+t<=0||+t>=1e3?600:+t}},destroy:function(){return clearInterval(this.blinkInterval),clearInterval(this.tickInterval),t(document).off("visibilitychange",{ns:this.id}),this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={startOnViewport:!0,counterDeferred:0,duration:2e3,value:0,from:0,timeout:0,delimiter:",",prefix:"",suffix:"",onStart:e.noop,onStop:e.noop,onTick:e.noop,onCounterCreate:e.noop};e.counterSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCounterSetup&&e.counterSetup(window.metroCounterSetup),e.Component("counter",{init:function(e,s){return this._super(s,e,i,{numbers:[],html:t(s).html(),started:!1,id:n.elementId("counter")}),this},_create:function(){this._createEvents(),this._fireEvent("counter-create"),this._run()},_createEvents:function(){var e=this,i=this.element,s=this.options;t.window().on("scroll",(function(){!0===s.startOnViewport&&n.inViewport(i[0])&&!e.started&&e.start()}),{ns:this.id})},_run:function(){var e=this.element,t=this.options;this.started=!1,(!0!==t.startOnViewport||n.inViewport(e[0]))&&this.start()},startInViewport:function(e,t){var i=this.options;n.isValue(t)&&(i.from=+t),n.isValue(e)&&(i.value=+e),this._run()},start:function(e,t){var i=this,s=this.element,o=this.options;n.isValue(t)&&(o.from=+t),n.isValue(e)&&(o.value=+e),this.started=!0,this._fireEvent("start"),s.animate({draw:{innerHTML:[o.from,o.value]},defer:o.timeout,dur:o.duration,onFrame:function(){i._fireEvent("tick",{value:+this.innerHTML}),this.innerHTML=o.prefix+Number(this.innerHTML).format(0,0,o.delimiter)+o.suffix},onDone:function(){i._fireEvent("stop")}})},reset:function(){this.started=!1,this.element.html(this.html)},changeAttribute:function(e,t){var n=this.options;"data-value"===e&&(n.value=+t),"data-from"===e&&(n.from=+t)},destroy:function(){return t.window().off("scroll",{ns:this.id}),this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={cubeDeferred:0,rules:null,color:null,flashColor:null,flashInterval:1e3,numbers:!1,offBefore:!0,attenuation:.3,stopOnBlur:!1,cells:4,margin:8,showAxis:!1,axisStyle:"arrow",cellClick:!1,autoRestart:5e3,clsCube:"",clsCell:"",clsSide:"",clsSideLeft:"",clsSideRight:"",clsSideTop:"",clsSideLeftCell:"",clsSideRightCell:"",clsSideTopCell:"",clsAxis:"",clsAxisX:"",clsAxisY:"",clsAxisZ:"",custom:e.noop,onTick:e.noop,onCubeCreate:e.noop};e.cubeSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroCubeSetup&&e.cubeSetup(window.metroCubeSetup),e.cubeDefaultRules=[{on:{top:[16],left:[4],right:[1]},off:{top:[13,4],left:[1,16],right:[13,4]}},{on:{top:[12,15],left:[3,8],right:[2,5]},off:{top:[9,6,3],left:[5,10,15],right:[14,11,8]}},{on:{top:[11],left:[7],right:[6]},off:{top:[1,2,5],left:[9,13,14],right:[15,12,16]}},{on:{top:[8,14],left:[2,12],right:[9,3]},off:{top:[16],left:[4],right:[1]}},{on:{top:[10,7],left:[6,11],right:[10,7]},off:{top:[12,15],left:[3,8],right:[2,5]}},{on:{top:[13,4],left:[1,16],right:[13,4]},off:{top:[11],left:[7],right:[6]}},{on:{top:[9,6,3],left:[5,10,15],right:[14,11,8]},off:{top:[8,14],left:[2,12],right:[9,3]}},{on:{top:[1,2,5],left:[9,13,14],right:[15,12,16]},off:{top:[10,7],left:[6,11],right:[10,7]}}],e.Component("cube",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("cube"),rules:null,interval:!1,ruleInterval:!1,running:!1,intervals:[]}),this},_create:function(){var t=this.element,n=this.options;null===n.rules?this.rules=e.cubeDefaultRules:this._parseRules(n.rules),this._createCube(),this._createEvents(),this._fireEvent("cube-create",{element:t})},_parseRules:function(e){if(null==e)return!1;if(n.isObject(e))return this.rules=n.isObject(e),!0;try{return this.rules=JSON.parse(e),!0}catch(e){return console.warn("Unknown or empty rules for cell flashing!"),!1}},_createCube:function(){var i=this.element,s=this.options,o=n.elementId("cube"),r=Math.pow(s.cells,2);i.addClass("cube").addClass(s.clsCube),i.attr("id")||i.attr("id",o),this.id=i.attr("id"),this._createCssForFlashColor(),this._createCssForCellSize(),t.each(["left","right","top"],(function(){var e,n,o;for(e=t("<div>").addClass("side "+this+"-side").addClass(s.clsSide).appendTo(i),"left"===this&&e.addClass(s.clsSideLeft),"right"===this&&e.addClass(s.clsSideRight),"top"===this&&e.addClass(s.clsSideTop),o=0;o<r;o++)(n=t("<div>").addClass("cube-cell").addClass("cell-id-"+(o+1)).addClass(s.clsCell)).data("id",o+1).data("side",this),n.appendTo(e),!0===s.numbers&&n.html(o+1)}));var a=i.find(".cube-cell");null!==s.color&&(e.colors.isColor(s.color)?a.css({backgroundColor:s.color,borderColor:s.color}):a.addClass(s.color)),t.each(["x","y","z"],(function(){var e=this,n=t("<div>").addClass("axis "+s.axisStyle).addClass("axis-"+e).addClass(s.clsAxis);"x"===e&&n.addClass(s.clsAxisX),"y"===e&&n.addClass(s.clsAxisY),"z"===e&&n.addClass(s.clsAxisZ),n.appendTo(i)})),!1===s.showAxis&&i.find(".axis").hide(),this._run()},_run:function(){var t=this,i=this.element,s=this.options,o=0;clearInterval(this.interval),i.find(".cube-cell").removeClass("light"),s.custom!==e.noop?n.exec(s.custom,[i]):(i.find(".cube-cell").removeClass("light"),t._start(),o=n.isObject(this.rules)?n.objectLength(this.rules):0,this.interval=setInterval((function(){t._start()}),o*s.flashInterval))},_createCssForCellSize:function(){var t,i,s=this.element,o=this.options,r=e.sheet;8===o.margin&&4===o.cells||(t=parseInt(n.getStyleOne(s,"width")),i=Math.ceil((t/2-o.margin*o.cells*2)/o.cells),n.addCssRule(r,"#"+s.attr("id")+" .side .cube-cell","width: "+i+"px!important; height: "+i+"px!important; margin: "+o.margin+"px!important;"))},_createCssForFlashColor:function(){var t,i,s,o=this.element,r=this.options,a=e.sheet,l=[],c=[];if(null!==r.flashColor){for(t="0 0 10px "+e.colors.toRGBA(r.flashColor,1),i="0 0 10px "+e.colors.toRGBA(r.flashColor,r.attenuation),s=0;s<3;s++)l.push(t),c.push(i);n.addCssRule(a,"@keyframes pulsar-cell-"+o.attr("id"),"0%, 100% { box-shadow: "+l.join(",")+"} 50% { box-shadow: "+c.join(",")+" }"),n.addCssRule(a,"#"+o.attr("id")+" .side .cube-cell.light","animation: pulsar-cell-"+o.attr("id")+" 2.5s 0s ease-out infinite; background-color: "+r.flashColor+"!important; border-color: "+r.flashColor+"!important;")}},_createEvents:function(){var n=this,i=this.element,s=this.options;t(window).on(e.events.blur,(function(){!0===s.stopOnBlur&&!0===n.running&&n._stop()}),{ns:i.attr("id")}),t(window).on(e.events.focus,(function(){!0===s.stopOnBlur&&!1===n.running&&n._start()}),{ns:i.attr("id")}),i.on(e.events.click,".cube-cell",(function(){!0===s.cellClick&&t(this).toggleClass("light")}))},_start:function(){var e=this;this.element.find(".cube-cell").removeClass("light"),this.running=!0,t.each(this.rules,(function(t,n){e._execRule(t,n)}))},_stop:function(){this.running=!1,clearInterval(this.interval),t.each(this.intervals,(function(){clearInterval(this)}))},_tick:function(e,t){var i=this,s=this.options;void 0===t&&(t=s.flashInterval*e);var o=setTimeout((function(){i._fireEvent("tick",{index:e}),clearInterval(o),n.arrayDelete(i.intervals,o)}),t);this.intervals.push(o)},_toggle:function(e,t,i,s){var o=this;void 0===s&&(s=this.options.flashInterval*i);var r=setTimeout((function(){e["on"===t?"addClass":"removeClass"]("light"),clearInterval(r),n.arrayDelete(o.intervals,r)}),s);this.intervals.push(r)},start:function(){this._start()},stop:function(){this._stop()},toRule:function(e,t){var i=this,s=this.element,o=this.options,r=this.rules;if(null!=r&&void 0!==r[e]){clearInterval(this.ruleInterval),this.ruleInterval=!1,this.stop(),s.find(".cube-cell").removeClass("light");for(var a=0;a<=e;a++)this._execRule(a,r[a],t);n.isInt(o.autoRestart)&&o.autoRestart>0&&(this.ruleInterval=setTimeout((function(){i._run()}),o.autoRestart))}},_execRule:function(e,n,i){var s=this,o=this.element;this._tick(e,i),t.each(["left","right","top"],(function(){var r="."+this+"-side",a=this,l=void 0!==n.on&&void 0!==n.on[a]&&n.on[a],c=void 0!==n.off&&void 0!==n.off[a]&&n.off[a];!1!==l&&t.each(l,(function(){var t=o.find(r+" .cell-id-"+this);s._toggle(t,"on",e,i)})),!1!==c&&t.each(c,(function(){var t=o.find(r+" .cell-id-"+this);s._toggle(t,"off",e,i)}))}))},rule:function(e){if(void 0===e)return this.rules;!0===this._parseRules(e)&&(this.options.rules=e,this.stop(),this.element.find(".cube-cell").removeClass("light"),this._run())},axis:function(e){var t=!0===e?"show":"hide";this.element.find(".axis")[t]()},changeRules:function(){var e=this.element,t=this.options,n=e.attr("data-rules");!0===this._parseRules(n)&&(this.stop(),e.find(".cube-cell").removeClass("light"),t.rules=n,this._run())},changeAxisVisibility:function(){var e=this.element,t=!0===JSON.parse(e.attr("data-show-axis"))?"show":"hide";e.find(".axis")[t]()},changeAxisStyle:function(){var e=this.element,t=e.attr("data-axis-style");e.find(".axis").removeClass("arrow line no-style").addClass(t)},changeAttribute:function(e){switch(e){case"data-rules":this.changeRules();break;case"data-show-axis":this.changeAxisVisibility();break;case"data-axis-style":this.changeAxisStyle()}},destroy:function(){var n=this.element;return clearInterval(this.interval),this.interval=null,t(window).off(e.events.blur,{ns:n.attr("id")}),t(window).off(e.events.focus,{ns:n.attr("id")}),n.off(e.events.click,".cube-cell"),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={label:"",datepickerDeferred:0,gmt:0,format:"YYYY-MM-DD",inputFormat:null,locale:METRO_LOCALE,value:null,distance:3,month:!0,day:!0,year:!0,minYear:null,maxYear:null,defaultYearDistance:100,scrollSpeed:4,copyInlineStyles:!1,clsPicker:"",clsPart:"",clsMonth:"",clsDay:"",clsYear:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"<span class='default-icon-check'></span>",cancelButtonIcon:"<span class='default-icon-cross'></span>",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onDatePickerCreate:e.noop};e.datePickerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDatePickerSetup&&e.datePickerSetup(window.metroDatePickerSetup),e.Component("date-picker",{init:function(e,t){return this._super(t,e,i,{picker:null,isOpen:!1,value:datetime(),locale:null,listTimer:{day:null,month:null,year:null}}),this},_create:function(){var t=this.element,i=this.options,s=datetime();i.distance<1&&(i.distance=1),n.isValue(t.val())&&(i.value=t.val()),n.isValue(i.value)&&(this.value=i.inputFormat?Datetime.from(i.value,i.inputFormat,i.locale):datetime(i.value)),void 0===e.locales[i.locale]&&(i.locale=METRO_LOCALE),this.locale=e.locales[i.locale].calendar,null===i.minYear&&(i.minYear=s.year()-i.defaultYearDistance),null===i.maxYear&&(i.maxYear=s.year()+i.defaultYearDistance),this._createStructure(),this._createEvents(),this._set(),this._fireEvent("datepicker-create",{element:t})},_createStructure:function(){var e,i,s,o,r,a,l,c,h,u,d=this.element,p=this.options,f=n.elementId("datepicker");if((e=t("<div>").attr("id",f).addClass("wheel-picker date-picker "+d[0].className).addClass(p.clsPicker)).insertBefore(d),d.appendTo(e),p.label){var g=t("<label>").addClass("label-for-input").addClass(p.clsLabel).html(p.label).insertBefore(e);d.attr("id")&&g.attr("for",d.attr("id")),"rtl"===d.attr("dir")&&g.addClass("rtl")}if(l=t("<div>").addClass("date-wrapper").appendTo(e),!0===p.month&&(i=t("<div>").addClass("month").addClass(p.clsPart).addClass(p.clsMonth).appendTo(l)),!0===p.day&&(s=t("<div>").addClass("day").addClass(p.clsPart).addClass(p.clsDay).appendTo(l)),!0===p.year&&(o=t("<div>").addClass("year").addClass(p.clsPart).addClass(p.clsYear).appendTo(l)),c=t("<div>").addClass("select-wrapper").appendTo(e),h=t("<div>").addClass("select-block").appendTo(c),!0===p.month){for(i=t("<ul>").addClass("sel-month").appendTo(h),r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i);for(r=0;r<12;r++)t("<li>").addClass("js-month-"+r+" js-month-real-"+this.locale.months[r].toLowerCase()).html(this.locale.months[r]).data("value",r).appendTo(i);for(r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i)}if(!0===p.day){for(s=t("<ul>").addClass("sel-day").appendTo(h),r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s);for(r=0;r<31;r++)t("<li>").addClass("js-day-"+r+" js-day-real-"+(r+1)).html(r+1).data("value",r+1).appendTo(s);for(r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s)}if(!0===p.year){for(o=t("<ul>").addClass("sel-year").appendTo(h),r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o);for(r=p.minYear,a=0;r<=p.maxYear;r++,a++)t("<li>").addClass("js-year-"+a+" js-year-real-"+r).html(r).data("value",r).appendTo(o);for(r=0;r<p.distance;r++)t("<li>").html("&nbsp;").data("value",-1).appendTo(o)}if(h.height(40*(2*p.distance+1)),u=t("<div>").addClass("action-block").appendTo(c),t("<button>").attr("type","button").addClass("button action-ok").addClass(p.clsButton).addClass(p.clsOkButton).html(p.okButtonIcon).appendTo(u),t("<button>").attr("type","button").addClass("button action-cancel").addClass(p.clsButton).addClass(p.clsCancelButton).html(p.cancelButtonIcon).appendTo(u),d[0].className="",!0===p.copyInlineStyles)for(r=0;r<d[0].style.length;r++)e.css(d[0].style[r],d.css(d[0].style[r]));d.prop("disabled")&&e.addClass("disabled"),this.picker=e},_createEvents:function(){var i=this,s=this.options,o=this.picker;o.on(e.events.start,".select-block ul",(function(i){if(!i.changedTouches){var r=this,a=n.pageXY(i).y;t(document).on(e.events.move,(function(e){r.scrollTop-=s.scrollSpeed*(a>n.pageXY(e).y?-1:1),a=n.pageXY(e).y}),{ns:o.attr("id")}),t(document).on(e.events.stop,(function(){t(document).off(e.events.move,{ns:o.attr("id")}),t(document).off(e.events.stop,{ns:o.attr("id")})}),{ns:o.attr("id")})}})),o.on(e.events.click,(function(e){!1===i.isOpen&&i.open(),e.stopPropagation()})),o.on(e.events.click,".action-ok",(function(e){var t,n,s,r=o.find(".sel-month li.active"),a=o.find(".sel-day li.active"),l=o.find(".sel-year li.active");t=0===r.length?i.value.getMonth():r.data("value"),n=0===a.length?i.value.getDate():a.data("value"),s=0===l.length?i.value.getFullYear():l.data("value"),i.value=datetime(s,t,n),i._correct(),i._set(),i.close(),e.stopPropagation()})),o.on(e.events.click,".action-cancel",(function(e){i.close(),e.stopPropagation()})),t.each(["month","day","year"],(function(){var e=this,t=o.find(".sel-"+e);t.on("scroll",(function(){i.isOpen&&(i.listTimer[e]&&(clearTimeout(i.listTimer[e]),i.listTimer[e]=null),i.listTimer[e]||(i.listTimer[e]=setTimeout((function(){var r,a,l;i.listTimer[e]=null,r=Math.round(Math.ceil(t.scrollTop())/40),l=(a=t.find(".js-"+e+"-"+r)).position().top-40*s.distance,t.find(".active").removeClass("active"),t[0].scrollTop=l,a.addClass("active"),n.exec(s.onScroll,[a,t,o],t[0])}),150)))}))}))},_correct:function(){var e=this.value.month(),t=this.value.day(),n=this.value.year();this.value=datetime(n,e,t)},_set:function(){var e=this.element,t=this.options,n=this.picker,i=this.locale.months[this.value.month()],s=this.value.day(),o=this.value.year();!0===t.month&&n.find(".month").html(i),!0===t.day&&n.find(".day").html(s),!0===t.year&&n.find(".year").html(o),e.val(this.value.format(t.format,t.locale)).trigger("change"),this._fireEvent("set",{value:this.value.val(),elementValue:e.val(),picker:n})},open:function(){var e,t,i,s,o,r=this.options,a=this.picker,l=this.value.month(),c=this.value.day()-1,h=this.value.year(),u=a.find(".select-wrapper");u.parent().removeClass("for-top for-bottom"),u.show(0),a.find("li").removeClass("active"),s=n.inViewport(u[0]),o=n.rect(u[0]),!s&&o.top>0&&u.parent().addClass("for-bottom"),!s&&o.top<0&&u.parent().addClass("for-top"),!0===r.month&&(e=a.find(".sel-month")).scrollTop(0).animate({draw:{scrollTop:e.find("li.js-month-"+l).addClass("active").position().top-40*r.distance},dur:100}),!0===r.day&&(t=a.find(".sel-day")).scrollTop(0).animate({draw:{scrollTop:t.find("li.js-day-"+c).addClass("active").position().top-40*r.distance},dur:100}),!0===r.year&&(i=a.find(".sel-year")).scrollTop(0).animate({draw:{scrollTop:i.find("li.js-year-real-"+h).addClass("active").position().top-40*r.distance},dur:100}),this.isOpen=!0,this._fireEvent("open",{value:this.value.val(),picker:a})},close:function(){var e=this.picker;e.find(".select-wrapper").hide(0),this.isOpen=!1,this._fireEvent("close",{value:this.value.val(),picker:e})},val:function(e){var t=this.options;if(!n.isValue(e))return this.element.val();this.value=t.inputFormat?Datetime.from(e,t.inputFormat,t.locale):datetime(e),this._set()},date:function(e,t){if(void 0===e)return this.value.val();try{this.value=Datetime.from(e,t,this.options.locale),this._set()}catch(e){return!1}},i18n:function(n){var i,s,o=this.element,r=this.options;if(r.locale=n||o.attr("data-locale"),this.locale=e.locales[r.locale].calendar,!0===r.month){for(i=o.closest(".date-picker").find(".sel-month").html(""),s=0;s<r.distance;s++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i);for(s=0;s<12;s++)t("<li>").addClass("js-month-"+s+" js-month-real-"+this.locale.months[s].toLowerCase()).html(this.locale.months[s]).data("value",s).appendTo(i);for(s=0;s<r.distance;s++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i)}this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,t){switch(e){case"disabled":this.toggleState();break;case"data-value":this.val(t);break;case"data-locale":this.i18n(t);break;case"data-format":this.options.format=t,this._set()}},destroy:function(){var n=this.element,i=this.picker;return t.each(["moth","day","year"],(function(){i.find(".sel-"+this).off("scroll")})),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),n}}),t(document).on(e.events.click,(function(){t.each(t(".date-picker"),(function(){t(this).find("input").each((function(){e.getPlugin(this,"datepicker").close()}))}))}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={dialogDeferred:0,closeButton:!1,leaveOverlayOnClose:!1,toTop:!1,toBottom:!1,locale:METRO_LOCALE,title:"",content:"",actions:{},actionsAlign:"right",defaultAction:!0,overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,width:"480",height:"auto",shadow:!0,closeAction:!0,clsDialog:"",clsTitle:"",clsContent:"",clsAction:"",clsDefaultAction:"",clsOverlay:"",autoHide:0,removeOnClose:!1,show:!1,_runtime:!1,onShow:e.noop,onHide:e.noop,onOpen:e.noop,onClose:e.noop,onDialogCreate:e.noop};e.dialogSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDialogSetup&&e.dialogSetup(window.metroDialogSetup),e.Component("dialog",{_counter:0,init:function(e,t){return this._super(t,e,i,{interval:null,overlay:null,id:n.elementId("dialog")}),this},_create:function(){var t=this.options;this.locale=void 0!==e.locales[t.locale]?e.locales[t.locale]:e.locales["en-US"],this._build()},_build:function(){var i,s=this,o=this.element,r=this.options,a=t("body");if(o.addClass("dialog"),!0===r.shadow&&o.addClass("shadow-on"),""!==r.title&&this.setTitle(r.title),""!==r.content&&this.setContent(r.content),!0===r.defaultAction||!1!==r.actions&&"object"==typeof r.actions&&n.objectLength(r.actions)>0){var l,c=o.find(".dialog-actions");0===c.length&&(c=t("<div>").addClass("dialog-actions").addClass("text-"+r.actionsAlign).appendTo(o)),!0===r.defaultAction&&0===n.objectLength(r.actions)&&0===o.find(".dialog-actions > *").length&&(l=t("<button>").addClass("button js-dialog-close").addClass(r.clsDefaultAction).html(this.locale.buttons.ok)).appendTo(c),n.isObject(r.actions)&&t.each(n.isObject(r.actions),(function(){var i=this;l=t("<button>").addClass("button").addClass(i.cls).html(i.caption),void 0!==i.onclick&&l.on(e.events.click,(function(){n.exec(i.onclick,[o])})),l.appendTo(c)}))}!0===r.overlay&&(i=this._overlay(),this.overlay=i),!0===r.closeAction&&o.on(e.events.click,".js-dialog-close",(function(){s.close()}));var h=o.find("closer");0===h.length&&(h=t("<span>").addClass("button square closer js-dialog-close")).appendTo(o),!0!==r.closeButton&&h.hide(),o.css({width:r.width,height:r.height,visibility:"hidden",top:"100%",left:(t(window).width()-o.outerWidth())/2}),o.addClass(r.clsDialog),o.find(".dialog-title").addClass(r.clsTitle),o.find(".dialog-content").addClass(r.clsContent),o.find(".dialog-actions").addClass(r.clsAction),o.appendTo(a),r.show&&this.open(),t(window).on(e.events.resize,(function(){s.setPosition()}),{ns:this.id}),this._fireEvent("dialog-create",{element:o})},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay").addClass(n.clsOverlay),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},hide:function(t){var i=this.element,s=0;this.options.onHide!==e.noop&&(s=500,this._fireEvent("hide")),setTimeout((function(){n.exec(t,null,i[0]),i.css({visibility:"hidden",top:"100%"})}),s)},show:function(e){var t=this.element;this.setPosition(),t.css({visibility:"visible"}),this._fireEvent("show"),n.exec(e,null,t[0])},setPosition:function(){var e,n,i=this.element,s=this.options;!0!==s.toTop&&!0!==s.toBottom?((e=(t(window).height()-i.outerHeight())/2)<0&&(e=0),n="auto"):(!0===s.toTop&&(e=0,n="auto"),!0!==s.toTop&&!0===s.toBottom&&(n=0,e="auto")),i.css({top:e,bottom:n,left:(t(window).width()-i.outerWidth())/2})},setContent:function(e){var i=this.element,s=i.find(".dialog-content");0===s.length&&(s=t("<div>").addClass("dialog-content")).appendTo(i),!n.isQ(e)&&n.isFunc(e)&&(e=n.exec(e)),n.isQ(e)?e.appendTo(s):s.html(e)},setTitle:function(e){var n=this.element,i=n.find(".dialog-title");0===i.length&&(i=t("<div>").addClass("dialog-title")).appendTo(n),i.html(e)},close:function(){var e=this,i=this.element,s=this.options;n.bool(s.leaveOverlayOnClose)||t("body").find(".overlay").remove(),this.hide((function(){i.data("open",!1),e._fireEvent("close"),!0===s.removeOnClose&&i.remove()}))},open:function(){var n=this,i=this.element,s=this.options;!0===s.overlay&&0===t(".overlay").length&&(this.overlay.appendTo(t("body")),!0===s.overlayClickClose&&this.overlay.on(e.events.click,(function(){n.close()}))),this.show((function(){n._fireEvent("open"),i.data("open",!0),parseInt(s.autoHide)>0&&setTimeout((function(){n.close()}),parseInt(s.autoHide))}))},toggle:function(){this.element.data("open")?this.close():this.open()},isOpen:function(){return!0===this.element.data("open")},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".js-dialog-close"),n.find(".button").off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}}),e.dialog={isDialog:function(e){return n.isMetroObject(e,"dialog")},open:function(t,n,i){if(!this.isDialog(t))return!1;var s=e.getPlugin(t,"dialog");void 0!==i&&s.setTitle(i),void 0!==n&&s.setContent(n),s.open()},close:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").close()},toggle:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").toggle()},isOpen:function(n){if(!this.isDialog(n))return!1;e.getPlugin(t(n)[0],"dialog").isOpen()},remove:function(n){if(!this.isDialog(n))return!1;var i=e.getPlugin(t(n)[0],"dialog");i.options.removeOnClose=!0,i.close()},create:function(n){var i;i=t("<div>").appendTo(t("body"));var s=t.extend({},{show:!0,closeAction:!0,removeOnClose:!0},void 0!==n?n:{});return s._runtime=!0,e.makePlugin(i,"dialog",s)}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={donutDeferred:0,size:100,hole:.8,value:0,background:"#ffffff",color:"",stroke:"#d1d8e7",fill:"#49649f",fontSize:0,total:100,cap:"%",showText:!0,showValue:!1,animate:0,onChange:e.noop,onDrawValue:function(e){return e},onDonutCreate:e.noop};e.donutSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDonutSetup&&e.donutSetup(window.metroDonutSetup),e.Component("donut",{init:function(e,t){return this._super(t,e,i,{value:0,animation_change_interval:null}),this},_create:function(){var e=this.element,t=this.options;e.addClass("donut"),this._setElementSize(),this._draw(),this._addEvents(),this.val(t.value),this._fireEvent("donut-create",{element:e})},_setElementSize:function(){var e=this.element,t=this.options,n=t.size;e.css({width:n,background:t.background}),e.css({height:e.width()})},_draw:function(){var e=this.element,t=this.options,n="",i=e.width()/2,s=i*(1-(1-t.hole)/2),o=i*(1-t.hole),r="rotate(-90 "+i+","+i+")",a=0===t.fontSize?s*t.hole*.6:t.fontSize;n+="<svg>",n+="   <circle class='donut-back' r='"+s+"px' cx='"+i+"px' cy='"+i+"px' transform='"+r+"' fill='none' stroke='"+t.stroke+"' stroke-width='"+o+"'/>",n+="   <circle class='donut-fill' r='"+s+"px' cx='"+i+"px' cy='"+i+"px' transform='"+r+"' fill='none' stroke='"+t.fill+"' stroke-width='"+o+"'/>",!0===t.showText&&(n+="   <text class='donut-title' x='"+i+"px' y='"+i+"px' dy='"+a/3+"px' text-anchor='middle' fill='"+(""!==t.color?t.color:t.fill)+"' font-size='"+a+"px'></text>"),n+="</svg>",e.html(n)},_addEvents:function(){var e=this;t(window).on("resize",(function(){e._setElementSize(),e._draw(),e.val(e.value)}))},_setValue:function(i){var s=this.element,o=this.options,r=s.find(".donut-fill"),a=s.find(".donut-title"),l=s.width()/2*(1-(1-o.hole)/2),c=Math.round(2*Math.PI*l),h=o.showValue?i:n.percent(o.total,i,!0),u=Math.round(+i*c/o.total),d=r.attr("stroke-dasharray"),p=u-(d=void 0===d?0:+d.split(" ")[0]);r.animate({draw:function(e,n){t(this).attr("stroke-dasharray",d+p*n+" "+c)},dur:o.animate}),a.html(e.utils.exec(o.onDrawValue,[h+o.cap]))},val:function(e){var t=this.options;return void 0===e?this.value:!(parseInt(e)<0||parseInt(e)>t.total)&&(this._setValue(e),this.value=e,void this._fireEvent("change",{value:this.value}))},setColor:function(e){var n=["background","fill","stroke","color"],i=this;return t.each(e,(function(e,t){-1!==n.indexOf(e)&&(i.options[e]=t)})),this._draw(),this.val(this.value),this},changeValue:function(){this.val(this.element.attr("data-value"))},changeAttribute:function(e,t){switch(e){case"data-value":this.changeValue();break;case"data-background":this.setColor({background:t});break;case"data-fill":this.setColor({fill:t});break;case"data-stroke":this.setColor({stroke:t});break;case"data-color":this.setColor({color:t})}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n={height:"auto",multiSelect:!1,moveRightIcon:"<span>&rsaquo;</span>",moveRightAllIcon:"<span>&raquo;</span>",moveLeftIcon:"<span>&lsaquo;</span>",moveLeftAllIcon:"<span>&laquo;</span>",clsBox:"",clsMoveButton:"",clsMoveRightButton:"",clsMoveRightAllButton:"",clsMoveLeftButton:"",clsMoveLeftAllButton:"",clsListLeft:"",clsListRight:"",onDoubleSelectBoxCreate:e.noop};e.doubleSelectBoxSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroDoubleSelectBoxSetup&&e.doubleSelectBoxSetup(window.metroDoubleSelectBoxSetup),e.Component("double-select-box",{init:function(e,t){return this._super(t,e,n,{select1:null,select2:null,list1:null,list2:null}),this},_create:function(){var e=this.element;if(this.options,2!==e.children("select").length)throw new Error("Component DoubleSelectBox required two select elements!");this._createStructure(),this._createEvents(),this._fireEvent("double-select-box-create")},_drawList:function(){var e=this;this.list1.clear(),this.select1.find("option").each((function(n,i){var s=t(i),o=s.attr("data-template")?s.attr("data-template").replace(/\$1/g,s.text()):s.text();e.list1.append(t("<li>").html(o).attr("data-value",i.value).data("option",i))})),this.list2.clear(),this.select2.find("option").each((function(n,i){var s=t(i),o=s.attr("data-template")?s.attr("data-template").replace(/\$1/g,s.text()):s.text();e.list2.append(t("<li>").html(o).attr("data-value",i.value).data("option",i))}))},_createStructure:function(){var e,n,i=this.element,s=this.options,o=i.children("select"),r=o.eq(0),a=o.eq(1),l=t("<div>").addClass("controls").insertBefore(a);i.addClass("double-select-box").addClass(s.clsBox).css({height:s.height}),o.prop("multiple",!0),l.append(t([t("<button>").attr("type","button").addClass("button --move-right").addClass(s.clsMoveButton).addClass(s.clsMoveRightButton).html(s.moveRightIcon),t("<button>").attr("type","button").addClass("button --move-right-all").addClass(s.clsMoveButton).addClass(s.clsMoveRightAllButton).html(s.moveRightAllIcon),t("<button>").attr("type","button").addClass("button --move-left-all").addClass(s.clsMoveButton).addClass(s.clsMoveLeftAllButton).html(s.moveLeftAllIcon),t("<button>").attr("type","button").addClass("button --move-left").addClass(s.clsMoveButton).addClass(s.clsMoveLeftButton).html(s.moveLeftIcon)])),e=t("<ul>").addClass("--list1").addClass(s.clsListLeft).insertBefore(r),n=t("<ul>").addClass("--list2").addClass(s.clsListRight).insertBefore(a),this.select1=r,this.select2=a,this.list1=e,this.list2=n,this._drawList()},_moveItems:function(e,n){t.each(e,(function(){var e=t(this),i=e.data("option");t(i).appendTo(n[0]),e.removeClass("active").appendTo(n[1])}))},_move:function(e,t){var n=this;"selected"===t?"ltr"===e?n._moveItems(this.list1.find("li.active"),[n.select2,n.list2]):n._moveItems(this.list2.find("li.active"),[n.select1,n.list1]):"ltr"===e?n._moveItems(this.list1.find("li"),[n.select2,n.list2]):n._moveItems(this.list2.find("li"),[n.select1,n.list1])},_createEvents:function(){var e=this,n=this.element,i=this.options,s=n.find("li");s.on("click",(function(){var n=t(this);!1===i.multiSelect&&(e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active")),n.addClass("active")})),s.on("dblclick",(function(){var n=t(this),i=n.parent().hasClass("--list1")?"ltr":"rtl";e.list1.find("li").removeClass("active"),e.list2.find("li").removeClass("active"),n.addClass("active"),e._move(i,"selected")})),n.on("click","button",(function(){var n=t(this);if(n.hasClass("--move-right"))e._move("ltr","selected");else if(n.hasClass("--move-right-all"))e._move("ltr","all");else if(n.hasClass("--move-left"))e._move("rtl","selected");else{if(!n.hasClass("--move-left-all"))throw new Error("Pressed unregistered button!");e._move("rtl","all")}}))},changeAttribute:function(e,t){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={doublesliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,valueMin:null,valueMax:null,hint:!1,hintAlways:!1,hintPositionMin:e.position.TOP,hintPositionMax:e.position.TOP,hintMaskMin:"$1",hintMaskMax:"$1",target:null,size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsMarker:"",clsMarkerMin:"",clsMarkerMax:"",clsHint:"",clsHintMin:"",clsHintMax:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onChange:e.noop,onChangeValue:e.noop,onFocus:e.noop,onBlur:e.noop,onDoubleSliderCreate:e.noop};e.doubleSliderSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDoubleSliderSetup&&e.doubleSliderSetup(window.metroDoubleSliderSetup),e.Component("double-slider",{init:function(e,t){return this._super(t,e,i,{slider:null,valueMin:null,valueMax:null,keyInterval:!1,id:n.elementId("slider")}),this},_create:function(){var e=this.element,t=this.options;this.valueMin=n.isValue(t.valueMin)?+t.valueMin:+t.min,this.valueMax=n.isValue(t.valueMax)?+t.valueMax:+t.max,this._createSlider(),this._createEvents(),this.val(this.valueMin,this.valueMax),this._fireEvent("double-slider-create",{element:e})},_createSlider:function(){var n,i=this.element,s=this.options,o=t("<div>").addClass("slider-wrapper"),r=t("<div>").addClass("slider").addClass(s.clsSlider).addClass(this.elem.className),a=t("<div>").addClass("backside").addClass(s.clsBackside),l=t("<div>").addClass("complete").addClass(s.clsComplete),c=t("<button>").attr("type","button").addClass("marker marker-min").addClass(s.clsMarker).addClass(s.clsMarkerMin),h=t("<button>").attr("type","button").addClass("marker marker-max").addClass(s.clsMarker).addClass(s.clsMarkerMax),u=t("<div>").addClass("hint hint-min").addClass(s.hintPositionMin+"-side").addClass(s.clsHint).addClass(s.clsHintMin),d=t("<div>").addClass("hint hint-max").addClass(s.hintPositionMax+"-side").addClass(s.clsHint).addClass(s.clsHintMax);if(s.size>0&&r.outerWidth(s.size),r.insertBefore(i),i.appendTo(r),o.insertBefore(r),r.appendTo(o),a.appendTo(r),l.appendTo(r),c.appendTo(r),h.appendTo(r),u.appendTo(c),d.appendTo(h),!0===s.hintAlways&&t([u,d]).css({display:"block"}).addClass("permanent-hint"),!0===s.showMinMax){var p=t("<div>").addClass("slider-min-max").addClass(s.clsMinMax);t("<span>").addClass("slider-text-min").addClass(s.clsMin).html(s.min).appendTo(p),t("<span>").addClass("slider-text-max").addClass(s.clsMax).html(s.max).appendTo(p),s.minMaxPosition===e.position.TOP?p.insertBefore(r):p.insertAfter(r)}if(i[0].className="",!0===s.copyInlineStyles)for(n=0;n<i[0].style.length;n++)r.css(i[0].style[n],i.css(i[0].style[n]));i.is(":disabled")?this.disable():this.enable(),this.slider=r},_createEvents:function(){var n=this,i=this.slider,s=this.options,o=i.find(".marker");o.on(e.events.startAll,(function(){var i=t(this).find(".hint");!0===s.hint&&!0!==s.hintAlways&&i.fadeIn(300),t(document).on(e.events.moveAll,(function(e){n._move(e),n._fireEvent("move",{min:n.valueMin,max:n.valueMax})}),{ns:n.id}),t(document).on(e.events.stopAll,(function(){t(document).off(e.events.moveAll,{ns:n.id}),t(document).off(e.events.stopAll,{ns:n.id}),!0!==s.hintAlways&&i.fadeOut(300),n._fireEvent("stop",{min:n.valueMin,max:n.valueMax})}),{ns:n.id}),n._fireEvent("start",{min:n.valueMin,max:n.valueMax})})),o.on(e.events.focus,(function(){n._fireEvent("focus",{min:n.valueMin,max:n.valueMax})})),o.on(e.events.blur,(function(){n._fireEvent("blur",{min:n.valueMin,max:n.valueMax})})),t(window).on(e.events.resize,(function(){n.val(n.valueMin,n.valueMax)}),{ns:n.id})},_convert:function(e,t){var n=this.slider,i=this.options,s=n.outerWidth()-n.find(".marker").outerWidth();switch(t){case"pix2prc":return 100*e/s;case"pix2val":return this._convert(e,"pix2prc")*((i.max-i.min)/100)+i.min;case"val2prc":return(e-i.min)/((i.max-i.min)/100);case"prc2pix":return e/(100/s);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){var t,n=e,i=this.options.accuracy,s=this.options.min,o=this.options.max;return 0===i||isNaN(i)?n:((n=Math.round(e/i)*i)<s&&(n=s),n>o&&(n=o),n.toFixed((t=i)%1==0?0:t.toString().split(".")[1].length))},_move:function(e){var i,s,o,r=t(e.target).closest(".marker").hasClass("marker-min"),a=this.slider,l=a.offset(),c=a.find(".marker").outerWidth(),h=a.find(".marker-min"),u=a.find(".marker-max"),d=a.outerWidth();i=n.pageXY(e).x-l.left-c/2,r?(s=0,o=parseInt(u.css("left"))-c):(s=parseInt(h.css("left"))+c,o=d-c),i<s||i>o||(this[r?"valueMin":"valueMax"]=this._correct(this._convert(i,"pix2val")),this._redraw())},_hint:function(){var e=this,i=this.options;this.slider.find(".hint").each((function(){var s=t(this),o=s.hasClass("hint-min"),r=o?i.hintMaskMin:i.hintMaskMax,a=+(o?e.valueMin:e.valueMax)||0;s.text(r.replace("$1",a.toFixed(n.decCount(i.accuracy))))}))},_value:function(){var e,i=this.element,s=this.options,o=+this.valueMin||0,r=+this.valueMax||0;if(s.roundValue&&(o=o.toFixed(n.decCount(s.accuracy)),r=r.toFixed(n.decCount(s.accuracy))),e=[o,r].join(", "),"INPUT"===i[0].tagName&&i.val(e),null!==s.target){var a=t(s.target);0!==a.length&&t.each(a,(function(){var n=t(this);"INPUT"===this.tagName?n.val(e):n.text(e),n.trigger("change")}))}this._fireEvent("change-value",{val:e}),this._fireEvent("change",{val:e})},_marker:function(){var e=this.slider,i=e.find(".marker-min"),s=e.find(".marker-max"),o=e.find(".complete"),r=parseInt(n.getStyleOne(i,"width")),a=n.isVisible(e);a&&t([i,s]).css({"margin-top":0,"margin-left":0}),a?(i.css("left",this._convert(this.valueMin,"val2pix")),s.css("left",this._convert(this.valueMax,"val2pix"))):(i.css({left:this._convert(this.valueMin,"val2prc")+"%","margin-top":0===this._convert(this.valueMin,"val2prc")?0:-1*r/2}),s.css({left:this._convert(this.valueMax,"val2prc")+"%","margin-top":0===this._convert(this.valueMax,"val2prc")?0:-1*r/2})),o.css({left:this._convert(this.valueMin,"val2pix"),width:this._convert(this.valueMax,"val2pix")-this._convert(this.valueMin,"val2pix")})},_redraw:function(){this._marker(),this._value(),this._hint()},val:function(e,t){var i=this.options;if(!n.isValue(e)&&!n.isValue(t))return[this.valueMin,this.valueMax];e<i.min&&(e=i.min),t<i.min&&(t=i.min),e>i.max&&(e=i.max),t>i.max&&(t=i.max),this.valueMin=this._correct(e),this.valueMax=this._correct(t),this._redraw()},changeValue:function(){var e=this.element,t=+e.attr("data-value-min"),n=+e.attr("data-value-max");this.val(t,n)},disable:function(){var e=this.element;e.data("disabled",!0),e.parent().addClass("disabled")},enable:function(){var e=this.element;e.data("disabled",!1),e.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value-min":case"data-value-max":this.changeValue();break;case"disabled":this.toggleState()}},destroy:function(){var n=this.element,i=this.slider,s=i.find(".marker");return s.off(e.events.startAll),s.off(e.events.focus),s.off(e.events.blur),s.off(e.events.keydown),s.off(e.events.keyup),i.off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={dragitemsDeferred:0,target:null,dragItem:"li",dragMarker:".drag-item-marker",drawDragMarker:!1,clsDragItemAvatar:"",clsDragItem:"",canDrag:!0,onDragStartItem:e.noop,onDragMoveItem:e.noop,onDragDropItem:e.noop,onTarget:e.noop,onTargetIn:e.noop,onTargetOut:e.noop,onDragItemsCreate:e.noop};e.dragItemsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDragItemsSetup&&e.dragItemsSetup(window.metroDragItemsSetup),e.Component("drag-items",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("dragItems"),canDrag:!1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("drag-items-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options;e.addClass("drag-items-target"),!0===n.drawDragMarker&&e.find(n.dragItem).each((function(){t("<span>").addClass("drag-item-marker").appendTo(this)})),n.canDrag?this.on():this.off()},_createEvents:function(){var i,s,o,r=this,a=this.element,l=this.options,c=t.document(),h=t.body(),u={top:0,left:0};a.on(e.events.startAll,l.drawDragMarker?l.dragMarker:l.dragItem,(function(a){var d,p=t(a.target).closest(l.dragItem);n.isRightMouse(a)||!0===r.canDrag&&(p.addClass("dragged-item").addClass(l.clsDragItem),d=t("<div>").addClass("dragged-item-avatar").addClass(l.clsDragItemAvatar),i=p.offset(),s=p.width(),o=p.height(),u.top=n.pageXY(a).y-i.top,u.left=n.pageXY(a).x-i.left,d.css({top:i.top,left:i.left,width:s,height:o}).appendTo(h),r._fireEvent("drag-start-item",{dragItem:p[0],avatar:d[0]}),c.on(e.events.moveAll,(function(e){!function(e,i,s){var o=n.pageXY(e).x,a=n.pageXY(e).y,c=a-u.top,h=o-u.left;i.css({top:c,left:h});var d=document.elementsFromPoint(o,a).filter((function(e){return t(e).hasClass("drag-items-target")}));if(0!==d.length){r._fireEvent("target",{target:d});var p=document.elementsFromPoint(o,a).filter((function(e){var n=t(e);return t.matches(e,l.dragItem)&&!n.hasClass("dragged-item-avatar")}))[0];if(n.isValue(p)){var f,g=t(p),m=g.offset(),v=a-m.top,w=o-m.left,b={w:g.width(),h:g.height()};f=w<b.w/3&&(v<b.h/2||v>b.h/2)?"left":w>2*b.w/3&&(v<b.h/2||v>b.h/2)?"right":w>b.w/3&&w<2*b.w/3&&v>b.h/2?"bottom":"top",g.hasClass("dragged-item")||("top"===f||"left"===f?s.insertBefore(g):s.insertAfter(g))}else s.appendTo(d)}}(e,d,p),r._fireEvent("drag-move-item",{dragItem:p[0],avatar:d[0]}),e.preventDefault()}),{ns:r.id,passive:!1}),c.on(e.events.stopAll,(function(){r._fireEvent("drag-drop-item",{dragItem:p[0],avatar:d[0]}),p.removeClass("dragged-item").removeClass(l.clsDragItem),d.remove(),c.off(e.events.moveAll,{ns:r.id}),c.off(e.events.stopAll,{ns:r.id})}),{ns:r.id}),l.drawDragMarker&&(a.preventDefault(),a.stopPropagation()))}))},on:function(){this.canDrag=!0,this.element.find(".drag-item-marker").show()},off:function(){this.canDrag=!1,this.element.find(".drag-item-marker").hide()},toggle:function(){this.canDrag=this.canDrag?this.off():this.on()},changeAttribute:function(e){var t=this.element,n=this.options;"data-can-drag"===e&&(n.canDtag=JSON.parse(t.attr("data-can-drag")),n.canDtag?this.on():this.off())},destroy:function(){var t=this.element,n=this.options;return t.off(e.events.startAll,n.drawDragMarker?n.dragMarker:n.dragItem),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={dragContext:null,draggableDeferred:0,dragElement:"self",dragArea:"parent",timeout:0,boundaryRestriction:!0,onCanDrag:e.noop_true,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onDraggableCreate:e.noop};e.draggableSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDraggableSetup&&e.draggableSetup(window.metroDraggableSetup),e.Component("draggable",{init:function(e,t){return this._super(t,e,i,{drag:!1,move:!1,backup:{cursor:"default",zIndex:"0"},dragArea:null,dragElement:null,id:n.elementId("draggable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("draggable-create",{element:this.element})},_createStructure:function(){var e=this,i=this.element,s=this.options,o=i.offset(),r="self"!==s.dragElement?i.find(s.dragElement):i;i.data("canDrag",!0),this.dragElement=r,r[0].ondragstart=function(){return!1},i.css("position","absolute"),"document"!==s.dragArea&&"window"!==s.dragArea||(s.dragArea="body"),setImmediate((function(){e.dragArea="parent"===s.dragArea?i.parent():t(s.dragArea),"parent"!==s.dragArea&&(i.appendTo(e.dragArea),i.css({top:o.top,left:o.left}))})),i.attr("id")||i.attr("id",n.elementId("draggable"))},_createEvents:function(){var i=this,s=this.element,o=this.options,r={x:0,y:0};this.dragElement.on(e.events.startAll,(function(a){var l="parent"!==o.dragArea?s.offset():s.position(),c=n.pageXY(a).x-l.left,h=n.pageXY(a).y-l.top,u=function(e){var t=n.pageXY(e).y-h,a=n.pageXY(e).x-c;o.boundaryRestriction&&(t<0&&(t=0),a<0&&(a=0),t>i.dragArea.outerHeight()-s.outerHeight()&&(t=i.dragArea.outerHeight()-s.outerHeight()),a>i.dragArea.outerWidth()-s.outerWidth()&&(a=i.dragArea.outerWidth()-s.outerWidth())),r.y=t,r.x=a,s.css({left:a,top:t})};!1!==s.data("canDrag")&&!0===n.exec(o.onCanDrag,[s])&&(!1===e.isTouchable&&1!==a.which||(i.drag=!0,i.backup.cursor=s.css("cursor"),i.backup.zIndex=s.css("z-index"),s.addClass("draggable"),u(a),i._fireEvent("drag-start",{position:r,context:o.dragContext}),t(document).on(e.events.moveAll,(function(e){e.preventDefault(),u(e),i._fireEvent("drag-move",{position:r,context:o.dragContext})}),{ns:i.id,passive:!1}),t(document).on(e.events.stopAll,(function(){s.removeClass("draggable"),i.drag&&(t(document).off(e.events.moveAll,{ns:i.id}),t(document).off(e.events.stopAll,{ns:i.id})),i.drag=!1,i.move=!1,i._fireEvent("drag-stop",{position:r,context:o.dragContext})}),{ns:i.id})))}))},off:function(){this.element.data("canDrag",!1)},on:function(){this.element.data("canDrag",!0)},changeAttribute:function(e,t){},destroy:function(){var t=this.element;return this.dragElement.off(e.events.startAll),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={dropdownDeferred:0,dropFilter:null,toggleElement:null,noClose:!1,duration:50,checkDropUp:!1,dropUp:!1,onDrop:e.noop,onUp:e.noop,onDropdownCreate:e.noop};e.dropdownSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroDropdownSetup&&e.dropdownSetup(window.metroDropdownSetup),e.Component("dropdown",{init:function(e,t){return this._super(t,e,i,{_toggle:null,displayOrigin:null,isOpen:!1}),this},_create:function(){var e=this,t=this.element;this._createStructure(),this._createEvents(),this._fireEvent("dropdown-create",{element:t}),t.hasClass("open")&&(t.removeClass("open"),setTimeout((function(){e.open(!0)}),0))},_createStructure:function(){var e,i=this.element,s=this.options;s.dropUp&&i.addClass("drop-up"),e=null!==s.toggleElement?t(s.toggleElement):i.siblings(".dropdown-toggle").length>0?i.siblings(".dropdown-toggle"):i.prev(),this.displayOrigin=n.getStyleOne(i,"display"),i.hasClass("v-menu")&&i.addClass("for-dropdown"),i.css("display","none"),this._toggle=e},_createEvents:function(){var i=this,s=this.element,o=this.options,r=this._toggle,a=s.parent();r.on(e.events.click,(function(e){if(a.siblings(a[0].tagName).removeClass("active-container"),t(".active-container").removeClass("active-container"),"none"===s.css("display")||s.hasClass("keep-open")){if(t("[data-role*=dropdown]").each((function(e,r){s.parents("[data-role*=dropdown]").is(r)||t(r).hasClass("keep-open")||"none"===t(r).css("display")||(n.isValue(o.dropFilter)?t(r).closest(o.dropFilter).length>0&&i._close(r):i._close(r))})),s.hasClass("horizontal")){s.css({visibility:"hidden",display:"block"});var r=0;t.each(s.children("li"),(function(){r+=t(this).outerWidth(!0)})),s.css({visibility:"visible",display:"none"}),s.css("width",r)}i._open(s),a.addClass("active-container")}else i._close(s);e.preventDefault(),e.stopPropagation()})),!0===o.noClose&&s.addClass("keep-open").on(e.events.click,(function(e){e.stopPropagation()})),t(s).find("li.disabled a").on(e.events.click,(function(e){e.preventDefault()}))},_close:function(n,i){n=t(n);var s=e.getPlugin(n,"dropdown"),o=s._toggle,r=s.options,a="slideUp";o.removeClass("active-toggle").removeClass("active-control"),s.element.parent().removeClass("active-container"),i&&(a="hide"),n[a](i?0:r.duration,(function(){s._fireEvent("close"),s._fireEvent("up"),!r.dropUp&&r.checkDropUp&&s.element.removeClass("drop-up")})),this.isOpen=!1},_open:function(i,s){i=t(i);var o=e.getPlugin(i,"dropdown"),r=o._toggle,a=o.options;r.addClass("active-toggle").addClass("active-control"),i.slideDown(s?0:a.duration,(function(){!a.dropUp&&a.checkDropUp&&(n.inViewport(o.element[0])||(o.element.addClass("drop-up"),n.inViewport(o.element[0])||o.element.removeClass("drop-up"))),o._fireEvent("open"),o._fireEvent("drop")})),this.isOpen=!0},close:function(e){this._close(this.element,e)},open:function(e){this._open(this.element,e)},toggle:function(){this.isOpen?this.close():this.open()},changeAttribute:function(){},destroy:function(){this._toggle.off(e.events.click)}}),t(document).on(e.events.click,(function(){t("[data-role*=dropdown]").each((function(){var n=t(this);"none"===n.css("display")||n.hasClass("keep-open")||n.hasClass("stay-open")||n.hasClass("ignore-document-click")||e.getPlugin(n,"dropdown").close()}))}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={init:function(){return this},options:{csvDelimiter:"\t",csvNewLine:"\r\n",includeHeader:!0},setup:function(e){return this.options=t.extend({},this.options,e),this},base64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64toBlob:function(e,t,n){t=t||"",n=n||512;var i,s=window.atob(e),o=[];for(i=0;i<s.length;i+=n){var r,a=s.slice(i,i+n),l=new Array(a.length);for(r=0;r<a.length;r+=1)l[r]=a.charCodeAt(r);var c=new window.Uint8Array(l);o.push(c)}return new Blob(o,{type:t})},tableToCSV:function(e,i,s){var o,r,a,l,c,h,u,d="";if(o=t.extend({},this.options,s),e=t(e)[0],n.bool(o.includeHeader))for(a=e.querySelectorAll("thead")[0],l=0;l<a.rows.length;l++){for(h=a.rows[l],c=0;c<h.cells.length;c++)u=h.cells[c],d+=(c?o.csvDelimiter:"")+u.textContent.trim();d+=o.csvNewLine}for(r=e.querySelectorAll("tbody")[0],l=0;l<r.rows.length;l++){for(h=r.rows[l],c=0;c<h.cells.length;c++)u=h.cells[c],d+=(c?o.csvDelimiter:"")+u.textContent.trim();d+=o.csvNewLine}return n.isValue(i)?this.createDownload(this.base64("\ufeff"+d),"application/csv",i):d},createDownload:function(e,t,i){var s,o,r;return(o=document.createElement("a")).style.display="none",document.body.appendChild(o),s=this.b64toBlob(e,t),r=window.URL.createObjectURL(s),o.href=r,o.download=i||n.elementId("download"),o.click(),window.URL.revokeObjectURL(r),document.body.removeChild(o),!0},arrayToCsv:function(e,i,s){var o,r,a,l="";for(o=t.extend({},this.options,s),r=0;r<e.length;r++)"object"!=typeof(a=e[r])?l+=a+o.csvNewLine:(t.each(a,(function(e,t){l+=(e?o.csvDelimiter:"")+t.toString()})),l+=o.csvNewLine);return n.isValue(i)?this.createDownload(this.base64("\ufeff"+l),"application/csv",i):l}};e.export=i.init(),!0===window.METRO_GLOBAL_COMMON&&(window.Export=e.export)}(Metro,m4q),function(e,t){"use strict";var n={fileDeferred:0,label:"",mode:"input",buttonTitle:"Choose file(s)",filesTitle:"file(s) selected",dropTitle:"<strong>Choose a file(s)</strong> or drop it here",dropIcon:"<span class='default-icon-upload'></span>",prepend:"",clsComponent:"",clsPrepend:"",clsButton:"",clsCaption:"",clsLabel:"",copyInlineStyles:!1,onSelect:e.noop,onFileCreate:e.noop};e.fileSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroFileSetup&&e.fileSetup(window.metroFileSetup),e.Component("file",{init:function(e,t){return this._super(t,e,n),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("file-create",{element:e})},_createStructure:function(){var e,n,i=this.element,s=this.options,o=t("<label>").addClass(("input"===s.mode?" file ":"button"===s.mode?" file-button ":" drop-zone ")+i[0].className).addClass(s.clsComponent),r=t("<span>").addClass("caption").addClass(s.clsCaption),a=t("<span>").addClass("files").addClass(s.clsCaption);if(o.insertBefore(i),i.appendTo(o),"drop"===s.mode||"dropzone"===s.mode?(e=t(s.dropIcon).addClass("icon").appendTo(o),r.html(s.dropTitle).insertAfter(e),a.html("0 "+s.filesTitle).insertAfter(r)):"button"===s.mode?((n=t("<span>").addClass("button").attr("tabindex",-1).html(s.buttonTitle)).appendTo(o),n.addClass(s.clsButton)):(r.insertBefore(i),(n=t("<span>").addClass("button").attr("tabindex",-1).html(s.buttonTitle)).appendTo(o),n.addClass(s.clsButton),"rtl"===i.attr("dir")&&o.addClass("rtl"),""!==s.prepend&&t("<div>").html(s.prepend).addClass("prepend").addClass(s.clsPrepend).appendTo(o)),i[0].className="",!0===s.copyInlineStyles)for(var l=0,c=i[0].style.length;l<c;l++)o.css(i[0].style[l],i.css(i[0].style[l]));if(s.label){var h=t("<label>").addClass("label-for-input").addClass(s.clsLabel).html(s.label).insertBefore(o);i.attr("id")&&h.attr("for",i.attr("id")),"rtl"===i.attr("dir")&&h.addClass("rtl")}i.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var t=this,n=this.element,i=this.options,s=n.closest("label"),o=s.find(".caption"),r=s.find(".files"),a=n.closest("form");a.length&&a.on("reset",(function(){t.clear()})),s.on(e.events.click,"button",(function(){n[0].click()})),n.on(e.events.change,(function(){var e,s=[];Array.from(this.files).forEach((function(e){s.push(e.name)})),"input"===i.mode?(e=s.join(", "),o.html(e),o.attr("title",e)):r.html(n[0].files.length+" "+i.filesTitle),t._fireEvent("select",{files:this.files})})),n.on(e.events.focus,(function(){s.addClass("focused")})),n.on(e.events.blur,(function(){s.removeClass("focused")})),"input"!==i.mode&&(s.on("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault()})),s.on("dragenter dragover",(function(){s.addClass("drop-on")})),s.on("dragleave",(function(){s.removeClass("drop-on")})),s.on("drop",(function(e){n[0].files=e.dataTransfer.files,r.html(n[0].files.length+" "+i.filesTitle),s.removeClass("drop-on"),n.trigger("change")})))},clear:function(){var e=this.element,t=this.options;"input"===t.mode?e.siblings(".caption").html(""):(e.siblings(".caption").html(t.dropTitle),e.siblings(".files").html("0 "+t.filesTitle)),e.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleDir:function(){"rtl"===this.element.attr("dir")?this.element.parent().addClass("rtl"):this.element.parent().removeClass("rtl")},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"dir":this.toggleDir()}},destroy:function(){var t=this.element,n=t.parent();return t.off(e.events.change),n.off(e.events.click,"button"),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={gradientType:"linear",gradientShape:"",gradientPosition:"",gradientSize:"",gradientColors:"#000, #fff",gradientRepeat:!1,onGradientBoxCreate:e.noop};e.gradientBoxSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroGradientBoxSetup&&e.gradientBoxSetup(window.metroGradientBoxSetup),e.Component("gradient-box",{init:function(e,t){return this._super(t,e,i,{colors:[],shape:"",size:"",position:"",type:"linear",func:"linear-gradient",repeat:!1}),this},_create:function(){var e=this.options;this.colors=e.gradientColors.toArray(","),this.type=e.gradientType.toLowerCase(),this.shape=e.gradientShape.toLowerCase(),this.size=e.gradientSize.toLowerCase(),this.repeat=e.gradientRepeat,this.func=(this.repeat?"repeating-":"")+this.type+"-gradient","linear"===this.type?e.gradientPosition?(this.position=!1===isNaN(e.gradientPosition)?e.gradientPosition+"deg":e.gradientPosition,-1===this.position.indexOf("deg")&&-1===this.position.indexOf("to ")&&(this.position="to "+this.position)):this.position="to bottom":(this.position=e.gradientPosition.toLowerCase(),this.position&&-1===this.position.indexOf("at ")&&(this.position="at "+this.position)),this._createStructure(),this._setGradient(),this._fireEvent("gradient-box-create")},_createStructure:function(){this.element.addClass("gradient-box")},_setGradient:function(){var e,t=this.element,n=[];"radial"===this.type&&this.shape&&n.push(this.shape),"radial"===this.type&&this.size&&n.push(this.size),this.position&&n.push((-1===this.position.indexOf("at")?"at ":"")+this.position),e=this.func+"("+(n.length?n.join(" ")+", ":"")+this.colors.join(", ")+")",t.css({background:e})},changeAttribute:function(e,t){if(-1!==e.indexOf("data-gradient-")){switch(e){case"data-gradient-type":this.type=t,this.func=t.toLowerCase()+"-gradient";break;case"data-gradient-colors":this.colors=t?t.toArray(","):["#fff","#000"];break;case"data-gradient-shape":this.shape=t.toLowerCase();break;case"data-gradient-size":this.size=t.toLowerCase();break;case"data-gradient-position":this.position=t.toLowerCase();break;case"data-gradient-repeat":this.repeat=n.bool(t)}this._setGradient()}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n={gravatarDeferred:0,email:"",size:80,default:"mp",onGravatarCreate:e.noop};e.gravatarSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroGravatarSetup&&e.gravatarSetup(window.metroGravatarSetup),e.Component("gravatar",{init:function(e,t){return this._super(t,e,n),this},_create:function(){var e=this.element;this.get(),this._fireEvent("gravatar-create",{element:e})},getImage:function(e,n,i,s){var o=t("<img>").attr("alt",e);return o.attr("src",this.getImageSrc(e,n)),!0===s?o:o[0]},getImageSrc:function(t,n,i){return void 0===t||""===t.trim()?"":(n=n||80,i=e.utils.encodeURI(i)||"404","//www.gravatar.com/avatar/"+e.md5(t.toLowerCase().trim())+"?size="+n+"&d="+i)},get:function(){var e=this.element,t=this.options,n="IMG"===e[0].tagName?e:e.find("img");if(0!==n.length)return n.attr("src",this.getImageSrc(t.email,t.size,t.default)),this},resize:function(e){this.options.size=void 0!==e?e:this.element.attr("data-size"),this.get()},email:function(e){this.options.email=void 0!==e?e:this.element.attr("data-email"),this.get()},changeAttribute:function(e){switch(e){case"data-size":this.resize();break;case"data-email":this.email()}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={hintDeferred:0,hintHide:5e3,clsHint:"",hintText:"",hintPosition:e.position.TOP,hintOffset:4,onHintShow:e.noop,onHintHide:e.noop,onHintCreate:e.noop};e.hintSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroHintSetup&&e.hintSetup(window.metroHintSetup),e.Component("hint",{init:function(e,t){return this._super(t,e,i,{hint:null,hint_size:{width:0,height:0},id:n.elementId("hint")}),this},_create:function(){this._createEvents(),this._fireEvent("hint-create",{element:this.element})},_createEvents:function(){var n=this,i=this.element,s=this.options,o=!1;i.on(e.events.enter,(function(){o=!0,setTimeout((function(){o&&(n.createHint(),+s.hintHide>0&&setTimeout((function(){n.removeHint()}),s.hintHide))}),s.hintDeferred)})),i.on(e.events.leave,(function(){o=!1,n.removeHint()})),t(window).on(e.events.scroll+" "+e.events.resize,(function(){null!==n.hint&&n.setPosition()}),{ns:this.id})},createHint:function(){var e=this.elem,i=this.element,s=this.options,o=t("<div>").addClass("hint").addClass(s.clsHint).html(s.hintText);if(this.hint=o,this.hint_size=n.hiddenElementSize(o),t(".hint:not(.permanent-hint)").remove(),"TD"===e.tagName||"TH"===e.tagName){var r=t("<div/>").css("display","inline-block").html(i.html());i.html(r),this.element=r}this.setPosition(),o.appendTo(t("body")),this._fireEvent("hint-show",{hint:o[0]})},setPosition:function(){var n=this.hint,i=this.hint_size,s=this.options,o=this.element;s.hintPosition===e.position.BOTTOM?(n.addClass("bottom"),n.css({top:o.offset().top-t(window).scrollTop()+o.outerHeight()+s.hintOffset,left:o.offset().left+o.outerWidth()/2-i.width/2-t(window).scrollLeft()})):s.hintPosition===e.position.RIGHT?(n.addClass("right"),n.css({top:o.offset().top+o.outerHeight()/2-i.height/2-t(window).scrollTop(),left:o.offset().left+o.outerWidth()-t(window).scrollLeft()+s.hintOffset})):s.hintPosition===e.position.LEFT?(n.addClass("left"),n.css({top:o.offset().top+o.outerHeight()/2-i.height/2-t(window).scrollTop(),left:o.offset().left-i.width-t(window).scrollLeft()-s.hintOffset})):(n.addClass("top"),n.css({top:o.offset().top-t(window).scrollTop()-i.height-s.hintOffset,left:o.offset().left-t(window).scrollLeft()+o.outerWidth()/2-i.width/2}))},removeHint:function(){var t=this,n=this.hint,i=this.options.onHintHide===e.noop?0:300;null!==n&&(this._fireEvent("hint-hide",{hint:n[0]}),setTimeout((function(){n.hide(0,(function(){n.remove(),t.hint=null}))}),i))},changeText:function(){this.options.hintText=this.element.attr("data-hint-text")},changeAttribute:function(e){"data-hint-text"===e&&this.changeText()},destroy:function(){var n=this.element;this.removeHint(),n.off(e.events.enter+"-hint"),n.off(e.events.leave+"-hint"),t(window).off(e.events.scroll+"-hint")}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta"},shiftNums:{"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},shiftNumsInverse:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"},textAcceptingInputTypes:["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"],getKey:function(e){var t,n=e.keyCode,s=String.fromCharCode(n).toLowerCase();return t=e.shiftKey?i.shiftNums[s]?i.shiftNums[s]:s:void 0===i.specialKeys[n]?s:i.specialKeys[n],i.getModifier(e).length?i.getModifier(e).join("+")+"+"+t:t},getModifier:function(e){var t=[];return e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.shiftKey&&t.push("shift"),t}};function s(s,o){return this.each((function(){t(this).on(e.events.keyup+".hotkey-method-"+s,(function(e){var r=i.getKey(e),a=t(this),l=""+a.attr("href");s===r&&(a.is("a")&&l&&"#"!==l.trim()&&(window.location.href=l),n.exec(o,[e,r,s],this))}))}))}t.fn.hotkey=s,window.METRO_JQUERY&&window.jquery_present&&(jQuery.fn.hotkey=s),t(document).on(e.events.keyup+".hotkey-data",(function(s){var o,r,a,l;METRO_HOTKEYS_FILTER_INPUT_ACCEPTING_ELEMENTS&&/textarea|input|select/i.test(s.target.nodeName)||METRO_HOTKEYS_FILTER_CONTENT_EDITABLE&&t(s.target).attr("contenteditable")||METRO_HOTKEYS_FILTER_TEXT_INPUTS&&i.textAcceptingInputTypes.indexOf(s.target.type)>-1||(a=i.getKey(s),n.keyInObject(e.hotkeys,a)&&(o=t(e.hotkeys[a][0]),r=e.hotkeys[a][1],l=(""+o.attr("href")).trim(),r?n.exec(r):o.is("a")&&l&&l.length>0&&"#"!==l.trim()?window.location.href=l:o.click()))}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={htmlcontainerDeferred:0,method:"get",htmlSource:null,requestData:null,requestOptions:null,insertMode:"default",onHtmlLoad:e.noop,onHtmlLoadFail:e.noop,onHtmlLoadDone:e.noop,onHtmlContainerCreate:e.noop};e.htmlContainerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroHtmlContainerSetup&&e.htmlContainerSetup(window.metroHtmlContainerSetup),e.Component("html-container",{init:function(e,t){return this._super(t,e,i,{data:null,opt:{},htmlSource:""}),this},_create:function(){var e=this.element,t=this.options;"string"==typeof t.requestData&&(t.requestData=JSON.parse(t.requestData)),n.isObject(t.requestData)&&(this.data=n.isObject(t.requestData)),"string"==typeof t.requestOptions&&(t.requestOptions=JSON.parse(t.requestOptions)),n.isObject(t.requestOptions)&&(this.opt=n.isObject(t.requestOptions)),t.method=t.method.toUpperCase(),n.isValue(t.htmlSource)&&(this.htmlSource=t.htmlSource,this._load()),this._fireEvent("html-container-create",{element:e})},_load:function(){var n=this,i=this.element,s=this.options,o={method:s.method};this.data&&(o.body=this.data),this.opt&&(o.headers=this.opt),fetch(this.htmlSource,o).then(e.fetch.status).then(e.fetch.text).then((function(e){var o=t(e);switch(0===o.length&&(o=t("<div>").html(e)),s.insertMode.toLowerCase()){case"prepend":i.prepend(o);break;case"append":i.append(o);break;case"replace":o.insertBefore(i).script(),i.remove();break;default:i.html(o)}n._fireEvent("html-load",{data:e,source:s.htmlSource,requestData:n.data,requestOptions:n.opt})})).catch((function(e){n._fireEvent("html-load-fail",{error:e})}))},load:function(e,t,i){e&&(this.htmlSource=e),t&&(this.data=n.isObject(t)),i&&(this.opt=n.isObject(i)),this._load()},changeAttribute:function(e){var t,i,s,o=this.element,r=this.options;switch(e){case"data-html-source":s=o.attr("data-html-source"),n.isNull(s)||(""===s.trim()&&o.html(""),r.htmlSource=s,this._load());break;case"data-insert-mode":i=o.attr("data-insert-mode"),n.isValue(i)&&(r.insertMode=i);break;case"data-request-data":t=o.attr("data-request-data"),this.load(r.htmlSource,t)}},destroy:function(){}})}(Metro,m4q),function(e,t){"use strict";var n={image:null,size:"cover",repeat:!1,color:"transparent",attachment:"scroll",origin:"border",onImageBoxCreate:e.noop};e.imageBoxSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroImageBoxSetup&&e.imageBoxSetup(window.metroImageBoxSetup),e.Component("image-box",{init:function(e,t){return this._super(t,e,n,{}),this},_create:function(){this._createStructure(),this._fireEvent("image-box-create")},_createStructure:function(){this.element.addClass("image-box"),this._drawImage()},_drawImage:function(){var e,t=this.element,n=this.options,i=new Image;t.attr("data-original")||t.attr("data-original",n.image),t.css({backgroundImage:"url("+n.image+")",backgroundSize:n.size,backgroundRepeat:n.repeat?"repeat":"no-repeat",backgroundColor:n.color,backgroundAttachment:n.attachment,backgroundOrigin:n.origin}),i.src=n.image,i.onload=function(){e=this.height>=this.width,t.removeClass("image-box__portrait image-box__landscape").addClass("image-box__"+(e?"portrait":"landscape"))}},changeAttribute:function(e,t){var n=e.replace("data-","");["image","size","repeat","color","attachment","origin"].indexOf(n)>-1&&(this.options[n]=t,this._drawImage())},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={imagecompareDeferred:0,width:"100%",height:"auto",onSliderMove:e.noop,onImageCompareCreate:e.noop};e.imageCompareSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroImageCompareSetup&&e.imageCompareSetup(window.metroImageCompareSetup),e.Component("image-compare",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("image-compare")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-compare-create",{element:e})},_createStructure:function(){var e,i,s,o,r,a,l=this.element,c=this.options;switch(n.isValue(l.attr("id"))||l.attr("id",n.elementId("image-compare")),l.addClass("image-compare").css({width:c.width}),r=l.width(),c.height){case"16/9":case"21/9":case"4/3":a=n.aspectRatioH(r,c.height);break;case"auto":a=n.aspectRatioH(r,"16/9");break;default:a=c.height}l.css({height:a}),e=t("<div>").addClass("image-container").appendTo(l),i=t("<div>").addClass("image-container-overlay").appendTo(l).css({width:r/2}),(s=t("<div>").addClass("image-slider").appendTo(l)).css({top:a/2-s.height()/2,left:r/2-s.width()/2}),o=l.find("img"),t.each(o,(function(n){var s=t("<div>").addClass("image-wrapper");s.css({width:r,height:a,backgroundImage:"url("+this.src+")"}),s.appendTo(0===n?e:i)}))},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.find(".image-container-overlay"),a=s.find(".image-slider");a.on(e.events.startAll,(function(){var o=s.width();t(document).on(e.events.moveAll,(function(e){var t,l=n.getCursorPositionX(s[0],e);l<0&&(l=0),l>o&&(l=o),r.css({width:l}),t=l-a.width()/2,a.css({left:t}),i._fireEvent("slider-move",{x:l,l:t})}),{ns:i.id}),t(document).on(e.events.stopAll,(function(){t(document).off(e.events.moveAll,{ns:i.id}),t(document).off(e.events.stopAll,{ns:i.id})}),{ns:i.id})})),t(window).on(e.events.resize,(function(){var e,i=s.width();if("100%"===o.width){switch(o.height){case"16/9":case"21/9":case"4/3":e=n.aspectRatioH(i,o.height);break;case"auto":e=n.aspectRatioH(i,"16/9");break;default:e=o.height}s.css({height:e}),t.each(s.find(".image-wrapper"),(function(){t(this).css({width:i,height:e})})),s.find(".image-container-overlay").css({width:i/2}),a.css({top:e/2-a.height()/2,left:i/2-a.width()/2})}}),{ns:this.id})},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.start),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={useBackground:!1,backgroundSize:"cover",backgroundPosition:"top left",clsImageGrid:"",clsImageGridItem:"",clsImageGridImage:"",onItemClick:e.noop,onDrawItem:e.noop,onImageGridCreate:e.noop};e.imageGridSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroImageGridSetup&&e.imageGridSetup(window.metroImageGridSetup),e.Component("image-grid",{init:function(e,t){return this._super(t,e,i,{items:[]}),this},_create:function(){this.items=this.element.children("img"),this._createStructure(),this._createEvents(),this._fireEvent("image-grid-create")},_createStructure:function(){var e=this.element,t=this.options;e.addClass("image-grid").addClass(t.clsImageGrid),this._createItems()},_createEvents:function(){var t=this;this.element.on(e.events.click,".image-grid__item",(function(){t._fireEvent("item-click",{item:this})}))},_createItems:function(){var e=this,n=this.element,i=this.options,s=this.items;n.clear(),s.each((function(){var s=t(this),o=this.src,r=t("<div>").addClass("image-grid__item").addClass(i.clsImageGridItem).appendTo(n),a=new Image;a.src=o,a.onload=function(){var t=this.height>=this.width;r.addClass(t?"image-grid__item-portrait":"image-grid__item-landscape"),s.addClass(i.clsImageGridImage).appendTo(r),i.useBackground&&(r.css({background:"url("+o+")",backgroundRepeat:"no-repeat",backgroundSize:i.backgroundSize,backgroundPosition:i.backgroundPosition}).attr("data-original",s.attr("data-original")||o).attr("data-title",s.attr("alt")||s.attr("data-title")||""),s.visible(!1)),e._fireEvent("draw-item",{item:r[0],image:s[0]})}}))},changeAttribute:function(e,t){var i=this.options;"data-use-background"===e&&(i.useBackground=n.bool(t),this._createItems()),"data-background-size"===e&&(i.backgroundSize=t,this._createItems()),"data-background-position"===e&&(i.backgroundPosition=t,this._createItems())},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={imagemagnifierDeferred:0,width:"100%",height:"auto",lensSize:100,lensType:"square",magnifierZoom:2,magnifierMode:"glass",magnifierZoomElement:null,clsMagnifier:"",clsLens:"",clsZoom:"",onMagnifierMove:e.noop,onImageMagnifierCreate:e.noop};e.imageMagnifierSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroImageMagnifierSetup&&e.imageMagnifierSetup(window.metroImageMagnifierSetup),e.Component("image-magnifier",{init:function(e,t){return this._super(t,e,i,{zoomElement:null,id:n.elementId("image-magnifier")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("image-magnifier-create",{element:e})},_createStructure:function(){var e,i,s,o=this.element,r=this.options,a=o.find("img");if(0===a.length)throw new Error("Image not defined");switch(n.isValue(o.attr("id"))||o.attr("id",n.elementId("image-magnifier")),o.addClass("image-magnifier").css({width:r.width}).addClass(r.clsMagnifier),i=o.width(),r.height){case"16/9":case"21/9":case"4/3":s=n.aspectRatioH(i,r.height);break;case"auto":s=n.aspectRatioH(i,"16/9");break;default:s=r.height}o.css({height:s});var l=i/2-r.lensSize/2,c=s/2-r.lensSize/2;if("glass"===r.magnifierMode)(e=t("<div>").addClass("image-magnifier-glass").appendTo(o)).css({width:r.lensSize,height:r.lensSize,borderRadius:"circle"!==r.lensType?0:"50%",top:c,left:l,backgroundImage:"url("+a[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+(l*r.magnifierZoom-r.lensSize/4+4)+"px -"+(c*r.magnifierZoom-r.lensSize/4+4)+"px",backgroundSize:a[0].width*r.magnifierZoom+"px "+a[0].height*r.magnifierZoom+"px"}).addClass(r.clsLens);else{(e=t("<div>").addClass("image-magnifier-glass").appendTo(o)).css({width:r.lensSize,height:r.lensSize,borderRadius:0,borderWidth:1,top:c,left:l}).addClass(r.clsLens),n.isValue(r.magnifierZoomElement)&&0!==t(r.magnifierZoomElement).length?this.zoomElement=t(r.magnifierZoomElement):this.zoomElement=t("<div>").insertAfter(o);var h=e[0].offsetWidth*r.magnifierZoom,u=e[0].offsetHeight*r.magnifierZoom,d=h/r.lensSize,p=u/r.lensSize;this.zoomElement.css({width:h,height:u,backgroundImage:"url("+a[0].src+")",backgroundRepeat:"no-repeat",backgroundPosition:"-"+l*d+"px -"+c*p+"px",backgroundSize:a[0].width*d+"px "+a[0].height*p+"px"}).addClass(r.clsZoom)}},_createEvents:function(){var i,s,o=this,r=this.element,a=this.options,l=r.find(".image-magnifier-glass"),c=l[0].offsetWidth/2,h=r.find("img")[0],u=this.zoomElement;t(window).on(e.events.resize,(function(){var e=r.width()/2-a.lensSize/2,t=r.height()/2-a.lensSize/2;"glass"===a.magnifierMode&&l.css({backgroundPosition:"-"+(e*a.magnifierZoom-a.lensSize/4+4)+"px -"+(t*a.magnifierZoom-a.lensSize/4+4)+"px",backgroundSize:h.width*a.magnifierZoom+"px "+h.height*a.magnifierZoom+"px"})}),{ns:this.id}),"glass"!==a.magnifierMode&&(i=u[0].offsetWidth/c/2,s=u[0].offsetHeight/c/2,u.css({backgroundSize:h.width*i+"px "+h.height*s+"px"}));var d=function(e){var t,n,o=parseInt(a.magnifierZoom);"glass"===a.magnifierMode?(t=e.x,n=e.y,t>h.width-c/o&&(t=h.width-c/o),t<c/o&&(t=c/o),n>h.height-c/o&&(n=h.height-c/o),n<c/o&&(n=c/o),l.css({top:n-c,left:t-c,backgroundPosition:"-"+(t*o-c+4)+"px -"+(n*o-c+4)+"px"})):(t=e.x-c,n=e.y-c,t>h.width-2*c&&(t=h.width-2*c),t<0&&(t=0),n>h.height-2*c&&(n=h.height-2*c),n<0&&(n=0),l.css({top:n,left:t}),u.css({backgroundPosition:"-"+t*i+"px -"+n*s+"px"}))};r.on(e.events.move,(function(e){var t=n.getCursorPosition(h,e);d(t),o._fireEvent("magnifier-move",{pos:t,glass:l[0],zoomElement:u?u[0]:void 0}),e.preventDefault()})),r.on(e.events.leave,(function(){var e=r.width()/2-a.lensSize/2,t=r.height()/2-a.lensSize/2;l.animate({draw:{top:t,left:e}}),d({x:e+a.lensSize/2,y:t+a.lensSize/2})}))},changeAttribute:function(e){},destroy:function(){var t=this.element;return t.off(e.events.move),t.off(e.events.leave),t}})}(Metro,m4q),function(e,t){"use strict";var n={size:"100x100",width:null,height:null,color:"#f8f8f8",textColor:"#292929",font:"12px sans-serif",text:"",showText:!0,onImagePlaceholderCreate:e.noop};e.imagePlaceholderSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroImagePlaceholderSetup&&e.imagePlaceholderSetup(window.metroImagePlaceholderSetup),e.Component("image-placeholder",{init:function(e,t){return this._super(t,e,n,{width:0,height:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("image-placeholder-create")},_createStructure:function(){var e=this.element,t=this.options,n=t.size.toArray("x");this.width=t.width?t.width:n[0],this.height=t.height?t.height:n[1],e.attr("src",this._createPlaceholder())},_createEvents:function(){},_createPlaceholder:function(){var e=this.options,t=document.createElement("canvas"),n=t.getContext("2d"),i=this.width,s=this.height;return t.width=parseInt(i),t.height=parseInt(s),n.clearRect(0,0,i,s),n.fillStyle=e.color,n.fillRect(0,0,i,s),n.fillStyle=e.textColor,n.font=e.font,n.translate(i/2,s/2),n.textAlign="center",n.textBaseline="middle",e.showText&&n.fillText(e.text?e.text:i+"  "+s,0,0),t.toDataURL()},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={infoboxDeferred:0,type:"",width:480,height:"auto",overlay:!0,overlayColor:"#000000",overlayAlpha:.5,overlayClickClose:!1,autoHide:0,removeOnClose:!1,closeButton:!0,clsBox:"",clsBoxContent:"",clsOverlay:"",onOpen:e.noop,onClose:e.noop,onInfoBoxCreate:e.noop};e.infoBoxSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroInfoBoxSetup&&e.infoBoxSetup(window.metroInfoBoxSetup),e.Component("info-box",{init:function(e,t){return this._super(t,e,i,{overlay:null,id:n.elementId("info-box")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("info-box-create",{element:e})},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay").addClass(n.clsOverlay),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},_createStructure:function(){var e,n,i=this.element,s=this.options;!0===s.overlay&&(this.overlay=this._overlay()),i.addClass("info-box").addClass(s.type).addClass(s.clsBox),0===(e=i.find("closer")).length&&(e=t("<span>").addClass("button square closer")).appendTo(i),!0!==s.closeButton&&e.hide(),(n=i.find(".info-box-content")).length>0&&n.addClass(s.clsBoxContent),i.css({width:s.width,height:s.height,visibility:"hidden",top:"100%",left:(t(window).width()-i.outerWidth())/2}),i.appendTo(t("body"))},_createEvents:function(){var n=this,i=this.element;i.on(e.events.click,".closer",(function(){n.close()})),i.on(e.events.click,".js-dialog-close",(function(){n.close()})),t(window).on(e.events.resize,(function(){n.reposition()}),{ns:this.id})},_setPosition:function(){var e=this.element;e.css({top:(t(window).height()-e.outerHeight())/2,left:(t(window).width()-e.outerWidth())/2})},reposition:function(){this._setPosition()},setContent:function(e){var t=this.element.find(".info-box-content");0!==t.length&&(t.html(e),this.reposition())},setType:function(e){this.element.removeClass("success info alert warning").addClass(e)},open:function(){var n=this,i=this.element,s=this.options;!0===s.overlay&&0===t(".overlay").length&&(this.overlay.appendTo(t("body")),!0===s.overlayClickClose&&this.overlay.on(e.events.click,(function(){n.close()}))),this._setPosition(),i.css({visibility:"visible"}),this._fireEvent("open"),i.data("open",!0),parseInt(s.autoHide)>0&&setTimeout((function(){n.close()}),parseInt(s.autoHide))},close:function(){var e=this.element,n=this.options;!0===n.overlay&&t("body").find(".overlay").remove(),e.css({visibility:"hidden",top:"100%"}),this._fireEvent("close"),e.data("open",!1),!0===n.removeOnClose&&(this.destroy(),e.remove())},isOpen:function(){return!0===this.element.data("open")},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off("all"),t(window).off(e.events.resize,{ns:this.id}),n}}),e.infobox={isInfoBox:function(e){return n.isMetroObject(e,"infobox")},open:function(t,n,i){if(!this.isInfoBox(t))return!1;var s=e.getPlugin(t,"infobox");void 0!==n&&s.setContent(n),void 0!==i&&s.setType(i),s.open()},close:function(t){if(!this.isInfoBox(t))return!1;e.getPlugin(t,"infobox").close()},setContent:function(t,n){if(!this.isInfoBox(t))return!1;void 0===n&&(n="");var i=e.getPlugin(t,"infobox");i.setContent(n),i.reposition()},setType:function(t,n){if(!this.isInfoBox(t))return!1;var i=e.getPlugin(t,"infobox");i.setType(n),i.reposition()},isOpen:function(t){return!!this.isInfoBox(t)&&e.getPlugin(t,"infobox").isOpen()},create:function(t,i,s,o){var r,a,l,c=n.$();l=void 0!==i?i:"",r=c("<div>").appendTo(c("body")),c("<div>").addClass("info-box-content").appendTo(r);var h=c.extend({},{removeOnClose:!0,type:l},void 0!==s?s:{});return h._runtime=!0,r.infobox(h),(a=e.getPlugin(r,"infobox")).setContent(t),!1!==o&&a.open(),r}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={maskPattern:".",mask:null,maskPlaceholder:"_",maskEditableStart:0,thresholdInterval:300,onChar:e.noop,onInputMaskCreate:e.noop};e.inputMaskSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroInputMaskSetup&&e.inputMaskSetup(window.metroInputMaskSetup),e.Component("input-mask",{init:function(e,s){return t.device?(s.setAttribute&&s.setAttribute("placeholder",e.mask),void console.warn("The component input-mask can't be initialized, because you run it on a mobile device!")):(this._super(s,e,i,{pattern:null,mask:"",maskArray:[],placeholder:"",length:0,thresholdTimer:null,id:n.elementId("input-mask")}),this)},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("input-mask-create")},_createStructure:function(){var e=this.options;if(!e.mask)throw new Error("You must provide a pattern for masked input.");if("string"!=typeof e.maskPlaceholder||e.maskPlaceholder.length>1)throw new Error("Mask placeholder should be a single character or an empty string.");this.placeholder=e.maskPlaceholder,this.mask=""+e.mask,this.maskArray=this.mask.split(""),this.pattern=new RegExp("^"+e.maskPattern+"+$"),this.length=this.mask.length,this._showValue()},_createEvents:function(){var t=this,i=this.element,s=this.options,o=s.maskEditableStart,r=this.id,a=function(e){return e<t.mask.length&&t.mask.charAt(e)===t.placeholder},l=function(e){var n,i=t.maskArray;for(n=e;n<=i.length;n++)if(i[n]===t.placeholder)return n;return e},c=function(e){t.elem.setSelectionRange(e,e)},h=function(){clearInterval(t.thresholdTimer),t.thresholdTimer=null};i.on("change",(function(){""===this.value&&(this.value=t.mask,c(o))}),{ns:r}),i.on("focus click",(function(){this.selectionStart<o&&c(o),c(l(this.selectionStart))}),{ns:r}),i.on("keydown",(function(i){var r=this.selectionStart,h=this.value,u=i.code,d=i.key;if("ArrowRight"===u||"End"===u)return!0;r>=t.length&&-1===["Backspace","Home","ArrowLeft","ArrowUp"].indexOf(u)?i.preventDefault():"Home"===u||"ArrowUp"===u?(i.preventDefault(),c(o)):"ArrowLeft"===u?r-1<o&&i.preventDefault():"Backspace"===u?(i.preventDefault(),r-1>=o&&(a(r-1)&&this.value.charAt(r-1)!==t.placeholder&&(this.value=h.substr(0,r-1)+t.placeholder+h.substr(r)),c(r-1))):"Space"===u?(i.preventDefault(),c(r+1)):t.pattern.test(d)?(i.preventDefault(),a(r)&&(this.value=h.substr(0,r)+(s.onChar===e.noop?d:n.exec(s.onChar,[d],this))+h.substr(r+1),c(l(r+1)))):i.preventDefault()}),{ns:r}),i.on("keyup",(function(){var e=this;h(),t.thresholdTimer=setInterval((function(){h(),c(l(e.selectionStart))}),s.thresholdInterval)}),{ns:r})},_showValue:function(){var e,n=this,i=this.elem,s=new Array(this.length);i.value?(e=i.value,t.each(this.maskArray,(function(t,i){e[t]===i||n.pattern.test(e[t])?s[t]=e[t]:s[t]=n.placeholder})),this.elem.value=s.join("")):i.value=this.mask},destroy:function(){var e=this.element,t=this.id;return e.off("change",{ns:t}),e.off("focus",{ns:t}),e.off("click",{ns:t}),e.off("keydown",{ns:t}),e.off("keyup",{ns:t}),e}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={materialinputDeferred:0,label:"",informer:"",icon:"",permanentLabel:!1,clsComponent:"",clsInput:"",clsLabel:"",clsInformer:"",clsIcon:"",clsLine:"",onInputCreate:e.noop};e.materialInputSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroMaterialInputSetup&&e.materialInputSetup(window.metroMaterialInputSetup),e.Component("material-input",{init:function(e,t){return this._super(t,e,i,{history:[],historyIndex:-1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this.element,i=this.options,s=t("<div>").addClass("input-material "+e[0].className);e[0].className="",e.attr("autocomplete","nope"),void 0===e.attr("type")&&e.attr("type","text"),s.insertBefore(e),e.appendTo(s),n.isValue(i.label)&&t("<span>").html(i.label).addClass("label").addClass(i.clsLabel).insertAfter(e),n.isValue(i.informer)&&t("<span>").html(i.informer).addClass("informer").addClass(i.clsInformer).insertAfter(e),n.isValue(i.icon)&&(s.addClass("with-icon"),t("<span>").html(i.icon).addClass("icon").addClass(i.clsIcon).insertAfter(e)),s.append(t("<hr>").addClass(i.clsLine)),!0===i.permanentLabel&&s.addClass("permanent-label"),s.addClass(i.clsComponent),e.addClass(i.clsInput),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){},clear:function(){this.element.val("")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={inputDeferred:0,label:"",autocomplete:null,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,history:!1,historyPreset:"",historyDivider:"|",preventSubmit:!1,defaultValue:"",size:"default",prepend:"",append:"",copyInlineStyles:!1,searchButton:!1,clearButton:!0,revealButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",revealButtonIcon:"<span class='default-icon-eye'></span>",searchButtonIcon:"<span class='default-icon-search'></span>",customButtons:[],searchButtonClick:"submit",clsComponent:"",clsInput:"",clsPrepend:"",clsAppend:"",clsClearButton:"",clsRevealButton:"",clsCustomButton:"",clsSearchButton:"",clsLabel:"",onAutocompleteSelect:e.noop,onHistoryChange:e.noop,onHistoryUp:e.noop,onHistoryDown:e.noop,onClearClick:e.noop,onRevealClick:e.noop,onSearchButtonClick:e.noop,onEnterClick:e.noop,onInputCreate:e.noop};e.inputSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroInputSetup&&e.inputSetup(window.metroInputSetup),e.Component("input",{init:function(e,t){return this._super(t,e,i,{history:[],historyIndex:-1,autocomplete:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("input-create",{element:e})},_createStructure:function(){var e=this,i=this.element,s=this.options,o=t("<div>").addClass("input "+i[0].className),r=t("<div>").addClass("button-group");if(n.isValue(s.historyPreset)&&(t.each(s.historyPreset.toArray(s.historyDivider),(function(){e.history.push(this)})),e.historyIndex=e.history.length-1),void 0===i.attr("type")&&i.attr("type","text"),o.insertBefore(i),i.appendTo(o),r.appendTo(o),n.isValue(i.val().trim())||i.val(s.defaultValue),!0!==s.clearButton||i[0].readOnly||t("<button>").addClass("button input-clear-button").addClass(s.clsClearButton).attr("tabindex",-1).attr("type","button").html(s.clearButtonIcon).appendTo(r),"password"===i.attr("type")&&!0===s.revealButton&&t("<button>").addClass("button input-reveal-button").addClass(s.clsRevealButton).attr("tabindex",-1).attr("type","button").html(s.revealButtonIcon).appendTo(r),!0===s.searchButton&&t("<button>").addClass("button input-search-button").addClass(s.clsSearchButton).attr("tabindex",-1).attr("type","submit"===s.searchButtonClick?"submit":"button").html(s.searchButtonIcon).appendTo(r),n.isValue(s.prepend)&&t("<div>").html(s.prepend).addClass("prepend").addClass(s.clsPrepend).appendTo(o),n.isValue(s.append)&&t("<div>").html(s.append).addClass("append").addClass(s.clsAppend).appendTo(o),"string"==typeof s.customButtons&&(s.customButtons=n.isObject(s.customButtons)),"object"==typeof s.customButtons&&n.objectLength(s.customButtons)>0&&t.each(s.customButtons,(function(){var e=this,n=t("<button>");n.addClass("button input-custom-button").addClass(s.clsCustomButton).addClass(e.cls).attr("tabindex",-1).attr("type","button").html(e.html),e.attr&&"object"==typeof e.attr&&t.each(e.attr,(function(e,t){n.attr(Cake.dashedName(e),t)})),n.data("action",e.onclick),n.appendTo(r)})),n.isValue(i.attr("data-exclaim"))&&o.attr("data-exclaim",i.attr("data-exclaim")),"rtl"===i.attr("dir")&&o.addClass("rtl").attr("dir","rtl"),i[0].className="",!0===s.copyInlineStyles)for(var a=0,l=i[0].style.length;a<l;a++)o.css(i[0].style[a],i.css(i[0].style[a]));if(o.addClass(s.clsComponent),i.addClass(s.clsInput),"default"!==s.size&&o.css({width:s.size}),n.isNull(s.autocomplete)&&n.isNull(s.autocompleteUrl)||t("<div>").addClass("autocomplete-list").css({maxHeight:s.autocompleteListHeight,display:"none"}).appendTo(o),n.isValue(s.autocomplete)){var c=n.isObject(s.autocomplete);this.autocomplete=!1!==c?c:s.autocomplete.toArray(s.autocompleteDivider)}if(n.isValue(s.autocompleteUrl)&&fetch(s.autocompleteUrl,{method:s.autocompleteUrlMethod}).then((function(e){return e.text()})).then((function(t){var n=[];try{n=JSON.parse(t),s.autocompleteUrlKey&&(n=n[s.autocompleteUrlKey])}catch(e){n=t.split("\n")}e.autocomplete=e.autocomplete.concat(n)})),s.label){var h=t("<label>").addClass("label-for-input").addClass(s.clsLabel).html(s.label).insertBefore(o);i.attr("id")&&h.attr("for",i.attr("id")),"rtl"===i.attr("dir")&&h.addClass("rtl")}i.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.closest(".input"),a=r.find(".autocomplete-list");r.on(e.events.click,".input-clear-button",(function(){var e=s.val();s.val(n.isValue(o.defaultValue)?o.defaultValue:"").fire("clear").fire("change").fire("keyup").focus(),a.length>0&&a.css({display:"none"}),i._fireEvent("clear-click",{prev:e,val:s.val()})})),r.on(e.events.click,".input-reveal-button",(function(){"password"===s.attr("type")?s.attr("type","text"):s.attr("type","password"),i._fireEvent("reveal-click",{val:s.val()})})),r.on(e.events.click,".input-search-button",(function(){"submit"!==o.searchButtonClick?i._fireEvent("search-button-click",{val:s.val(),button:this}):this.form.submit()})),r.on(e.events.click,".input-custom-button",(function(){var e=t(this),i=e.data("action");n.exec(i,[s.val(),e],this)})),s.on(e.events.keyup,(function(t){var n=s.val().trim();o.history&&t.keyCode===e.keyCode.ENTER&&""!==n&&(s.val(""),i.history.push(n),i.historyIndex=i.history.length-1,i._fireEvent("history-change",{val:n,history:i.history,historyIndex:i.historyIndex}),!0===o.preventSubmit&&t.preventDefault()),o.history&&t.keyCode===e.keyCode.UP_ARROW&&(i.historyIndex--,i.historyIndex>=0?(s.val(""),s.val(i.history[i.historyIndex]),i._fireEvent("history-down",{val:s.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=0,t.preventDefault()),o.history&&t.keyCode===e.keyCode.DOWN_ARROW&&(i.historyIndex++,i.historyIndex<i.history.length?(s.val(""),s.val(i.history[i.historyIndex]),i._fireEvent("history-up",{val:s.val(),history:i.history,historyIndex:i.historyIndex})):i.historyIndex=i.history.length-1,t.preventDefault())})),s.on(e.events.keydown,(function(t){t.keyCode===e.keyCode.ENTER&&i._fireEvent("enter-click",{val:s.val()})})),s.on(e.events.blur,(function(){r.removeClass("focused")})),s.on(e.events.focus,(function(){r.addClass("focused")})),s.on(e.events.input,(function(){var e=this.value.toLowerCase();i._drawAutocompleteList(e)})),r.on(e.events.click,".autocomplete-list .item",(function(){var e=t(this).attr("data-autocomplete-value");s.val(e),a.css({display:"none"}),s.trigger("change"),i._fireEvent("autocomplete-select",{value:e})}))},_drawAutocompleteList:function(e){var n,i=this,s=this.element.closest(".input").find(".autocomplete-list");0!==s.length&&(s.html(""),n=this.autocomplete.filter((function(t){return t.toLowerCase().indexOf(e)>-1})),s.css({display:n.length>0?"block":"none"}),t.each(n,(function(){var n,o=this,r=o.toLowerCase().indexOf(e),a=t("<div>").addClass("item").attr("data-autocomplete-value",o);n=0===r?"<strong>"+o.substr(0,e.length)+"</strong>"+o.substr(e.length):o.substr(0,r)+"<strong>"+o.substr(r,e.length)+"</strong>"+o.substr(r+e.length),a.html(n).appendTo(s),i._fireEvent("draw-autocomplete-item",{item:a})})))},getHistory:function(){return this.history},getHistoryIndex:function(){return this.historyIndex},setHistoryIndex:function(e){this.historyIndex=e>=this.history.length?this.history.length-1:e},setHistory:function(e,i){var s=this,o=this.options;n.isNull(e)||(Array.isArray(e)||"string"!=typeof e||(e=e.toArray(o.historyDivider)),!0===i?t.each(e,(function(){s.history.push(this)})):this.history=e,this.historyIndex=this.history.length-1)},clear:function(){this.element.val("")},toDefault:function(){this.element.val(n.isValue(this.options.defaultValue)?this.options.defaultValue:"")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setAutocompleteList:function(e){var t=n.isObject(e);!1!==t?this.autocomplete=t:"string"==typeof e&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){var t=this.element,n=t.parent(),i=n.find(".input-clear-button"),s=n.find(".input-reveal-button"),o=n.find(".input-custom-button");return i.length>0&&i.off(e.events.click),s.length>0&&(s.off(e.events.start),s.off(e.events.stop)),o.length>0&&i.off(e.events.click),t.off(e.events.blur),t.off(e.events.focus),t}}),t(document).on(e.events.click,(function(){t(".input .autocomplete-list").hide()}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={keylockDeferred:0,stateOnIcon:"<span>&times;</span>",stateOffIcon:"<span>&checkmark;</span>",transition:!0,onCaption:"",offCaption:"",captionPosition:"right",clsKeylock:"",clsStateOn:"",clsStateOff:"",clsCaption:"",clsIcon:"",clsOnCaption:"",clsOffCaption:"",onKeylockCreate:e.noop};e.keylockSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroKeylockSetup&&e.keylockSetup(window.metroKeylockSetup),e.Component("keylock",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("icon").addClass(i.clsIcon),o=t("<span>").addClass("caption").addClass(i.clsCaption),r=t(i.stateOnIcon).addClass("state-on").addClass(i.clsStateOn),a=t(i.stateOffIcon).addClass("state-off").addClass(i.clsStateOff),l=t("<span>").addClass("state-on").addClass(i.clsOnCaption).html(i.onCaption),c=t("<span>").addClass("state-off").addClass(i.clsOffCaption).html(i.offCaption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap(t("<label>").addClass("keylock").addClass(i.clsKeylock)),s.appendTo(e),o.appendTo(e),r.appendTo(s),a.appendTo(s),l.appendTo(o),c.appendTo(o),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),n[0].className="",n.is(":disabled")?this.disable():this.enable(),this._fireEvent("keylock-create")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggle:function(e){var t=this.element;return n.isValue(e)?t.prop("checked",1===e):t.prop("checked",!n.bool(t.prop("checked"))),this},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n={keypadDeferred:0,label:"",keySize:48,keys:"1, 2, 3, 4, 5, 6, 7, 8, 9, 0",exceptKeys:"",keySeparator:"",trimSeparator:!1,keyDelimiter:",",copyInlineStyles:!1,target:null,keyLength:0,shuffle:!1,shuffleCount:3,position:e.position.BOTTOM_LEFT,dynamicPosition:!1,serviceButtons:!0,showValue:!0,open:!1,sizeAsKeys:!1,clsKeypad:"",clsInput:"",clsKeys:"",clsKey:"",clsServiceKey:"",clsBackspace:"",clsClear:"",clsLabel:"",onChange:e.noop,onClear:e.noop,onBackspace:e.noop,onShuffle:e.noop,onKey:e.noop,onKeypadCreate:e.noop};e.keypadSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroKeypadSetup&&e.keypadSetup(window.metroKeypadSetup),e.Component("keypad",{init:function(e,t){return this._super(t,e,n,{value:"INPUT"===t.tagName?t.value:t.innerText,positions:["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"],keypad:null,keys:[],keys_to_work:[],exceptKeys:[]}),this},_create:function(){var e=this.element,t=this.options;this.keys=t.keys.toArray(t.keyDelimiter),this.keys_to_work=this.keys,this.exceptKeys=t.exceptKeys.toArray(t.keyDelimiter),this._createKeypad(),!0===t.shuffle&&this.shuffle(),this._createKeys(),this._createEvents(),this._fireEvent("keypad-create",{element:e})},_createKeypad:function(){var n,i,s=this.element,o=this.options,r=s.parent();if((n=r.hasClass("input")?r:t("<div>").addClass("input").addClass(s[0].className)).addClass("keypad"),"static"!==n.css("position")&&""!==n.css("position")||n.css({position:"relative"}),void 0===s.attr("type")&&s.attr("type","text"),n.insertBefore(s),s.attr("readonly",!0),s.appendTo(n),(i=t("<div>").addClass("keys").addClass(o.clsKeys)).appendTo(n),this._setKeysPosition(),!0===o.open&&i.addClass("open keep-open"),s[0].className="",!0===o.copyInlineStyles)for(var a=0,l=s[0].style.length;a<l;a++)n.css(s[0].style[a],s.css(s[0].style[a]));if(s.addClass(o.clsInput),n.addClass(o.clsKeypad),s.on(e.events.blur,(function(){n.removeClass("focused")})),s.on(e.events.focus,(function(){n.addClass("focused")})),o.label){var c=t("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(n);s.attr("id")&&c.attr("for",s.attr("id")),"rtl"===s.attr("dir")&&c.addClass("rtl")}!0===o.disabled||s.is(":disabled")?this.disable():this.enable(),this.keypad=n},_setKeysPosition:function(){var e=this.element,t=this.options;e.parent().find(".keys").removeClass(this.positions.join(" ")).addClass(t.position)},_createKeys:function(){var e,n,i=this.element,s=this.options,o=i.parent(),r=o.find(".keys"),a=Math.round(Math.sqrt(this.keys.length+2)),l=s.keySize;r.html(""),t.each(this.keys_to_work,(function(){(e=t("<span>").addClass("key").addClass(s.clsKey).html(this)).data("key",this),e.css({width:s.keySize,height:s.keySize,lineHeight:s.keySize-4}).appendTo(r)})),!0===s.serviceButtons&&t.each(["&larr;","&times;"],(function(){e=t("<span>").addClass("key service-key").addClass(s.clsKey).addClass(s.clsServiceKey).html(this),"&larr;"===this&&e.addClass(s.clsBackspace),"&times;"===this&&e.addClass(s.clsClear),e.data("key",this),e.css({width:s.keySize,height:s.keySize,lineHeight:s.keySize-4}).appendTo(r)})),n=a*(l+2)-6,r.outerWidth(n),!0===s.sizeAsKeys&&-1!==["top-left","top","top-right","bottom-left","bottom","bottom-right"].indexOf(s.position)&&o.outerWidth(r.outerWidth())},_createEvents:function(){var n=this,i=this.element,s=this.options,o=i.parent(),r=o.find(".keys");r.on(e.events.click,".key",(function(e){var o,r=t(this),a=r.data("key");if("&larr;"!==r.data("key")&&"&times;"!==r.data("key")){if(s.keyLength>0&&(""+n.value).length===s.keyLength)return!1;-1===n.exceptKeys.indexOf(a)&&(n.value=n.value+(""!==n.value?s.keySeparator:"")+a),!0===s.shuffle&&(n.shuffle(),n._createKeys()),!0===s.dynamicPosition&&(s.position=n.positions[t.random(0,n.positions.length-1)],n._setKeysPosition()),n._fireEvent("key",{key:r.data("key"),val:n.value})}else"&times;"===r.data("key")&&(n.value="",n._fireEvent("clear")),"&larr;"===r.data("key")&&(o=s.keySeparator&&n.value[n.value.length-1]!==s.keySeparator?2:1,n.value=n.value.substring(0,n.value.length-o),n._fireEvent("backspace",{val:n.value}));!0===s.showValue&&("INPUT"===i[0].tagName?i.val(n.value):i.text(n.value)),n._fireEvent("change",{val:n.val}),e.preventDefault(),e.stopPropagation()})),o.on(e.events.click,(function(e){!0!==s.open&&(!0===r.hasClass("open")?r.removeClass("open"):r.addClass("open"),e.preventDefault(),e.stopPropagation())})),null!==s.target&&i.on(e.events.change,(function(){var e=t(s.target);0!==e.length&&("INPUT"===e[0].tagName?e.val(n.value):e.text(n.value))}))},shuffle:function(){for(var e=this.options,t=0;t<e.shuffleCount;t++)this.keys_to_work=this.keys_to_work.shuffle();this._fireEvent("shuffle",{keysToWork:this.keys_to_work,keys:this.keys})},shuffleKeys:function(e){void 0===e&&(e=this.options.shuffleCount);for(var t=0;t<e;t++)this.keys_to_work=this.keys_to_work.shuffle();this._createKeys()},val:function(e){var t=this.element,n=this.options;return void 0===e?n.trimSeparator?this.value.replace(new RegExp(n.keySeparator,"g")):this.value:(this.value=""+e,"INPUT"===t[0].tagName?t.val(e):t.text(e),this)},open:function(){this.element.parent().find(".keys").addClass("open")},close:function(){this.element.parent().find(".keys").removeClass("open")},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},setPosition:function(e){var t=void 0!==e?e:this.element.attr("data-position");-1!==this.positions.indexOf(t)&&(this.options.position=t,this._setKeysPosition())},changeAttribute:function(e){switch(e){case"disabled":this.toggleState();break;case"data-position":this.setPosition()}},destroy:function(){var t=this.element,n=this.keypad,i=n.find(".keys");return n.off(e.events.click),i.off(e.events.click,".key"),t.off(e.events.change),t}}),t(document).on(e.events.click,(function(){var e=t(".keypad .keys");t.each(e,(function(){t(this).hasClass("keep-open")||t(this).removeClass("open")}))}))}(Metro,m4q),function(e,t){"use strict";var n={loop:!0,source:"img",iconClose:"<span class='default-icon-cross'>",iconPrev:"<span class='default-icon-chevron-left'>",iconNext:"<span class='default-icon-chevron-right'>",clsNext:"",clsPrev:"",clsClose:"",clsImage:"",clsImageContainer:"",clsImageWrapper:"",clsLightbox:"",onDrawImage:e.noop,onLightboxCreate:e.noop};e.lightboxSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroLightboxSetup&&e.lightboxSetup(window.metroLightboxSetup),e.Component("lightbox",{init:function(e,t){return this._super(t,e,n,{overlay:null,lightbox:null,current:null,items:[]}),this},_create:function(){var e=this.options;e.source||(e.source="img"),this._createStructure(),this._createEvents(),this._fireEvent("lightbox-create")},_createStructure:function(){var e,n,i=this.options;0===(n=t(".lightbox-overlay")).length&&(n=t("<div>").addClass("lightbox-overlay").appendTo("body").hide()),e=t("<div>").addClass("lightbox").addClass(i.clsLightbox).appendTo("body").hide(),t("<span>").addClass("lightbox__prev").addClass(i.clsPrev).html(i.iconPrev).appendTo(e),t("<span>").addClass("lightbox__next").addClass(i.clsNext).html(i.iconNext).appendTo(e),t("<span>").addClass("lightbox__closer").addClass(i.clsClose).html(i.iconClose).appendTo(e),t("<div>").addClass("lightbox__image").addClass(i.clsImageContainer).appendTo(e),this.component=e[0],this.lightbox=e,this.overlay=n},_createEvents:function(){var n=this,i=this.element,s=this.options,o=t(this.component);i.on(e.events.click,s.source,(function(){n.open(this)})),o.on(e.events.click,".lightbox__closer",(function(){n.close()})),o.on(e.events.click,".lightbox__prev",(function(){n.prev()})),o.on(e.events.click,".lightbox__next",(function(){n.next()}))},_setupItems:function(){var e=this.element,t=this.options,n=e.find(t.source);0!==n.length&&(this.items=n)},_goto:function(n){var i,s,o,r,a=this,l=this.options,c=t(n),h=t("<img>");(s=this.lightbox.find(".lightbox__image")).find(".lightbox__image-wrapper").remove(),o=t("<div>").addClass("lightbox__image-wrapper").addClass(l.clsImageWrapper).attr("data-title",c.attr("alt")||c.attr("data-title")||"").appendTo(s),r=t("<div>").appendTo(o),e.makePlugin(r,"activity",{type:"cycle",style:"color"}),this.current=n,"IMG"!==n.tagName&&"DIV"!==n.tagName||(i=c.attr("data-original")||c.attr("src"),h.attr("src",i),h[0].onload=function(){var e=this.height>this.width;h.addClass(e?"lightbox__image-portrait":"lightbox__image-landscape").addClass(l.clsImage),h.attr("alt",c.attr("alt")),h.appendTo(o),r.remove(),a._fireEvent("draw-image",{image:h[0],item:o[0]})})},_index:function(e){var t=-1;return this.items.each((function(n){this===e&&(t=n)})),t},next:function(){var e,t=this.current;if((e=this._index(t))+1>=this.items.length){if(!this.options.loop)return;e=-1}this._goto(this.items[e+1])},prev:function(){var e,t=this.current;if((e=this._index(t))-1<0){if(!this.options.loop)return;e=this.items.length}this._goto(this.items[e-1])},open:function(e){return this._setupItems(),this._goto(e),this.overlay.show(),this.lightbox.show(),this},close:function(){this.overlay.hide(),this.lightbox.hide()},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={locale:METRO_LOCALE,listDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,paginationShortMode:!0,thousandSeparator:",",decimalSeparator:",",itemTag:"li",defaultTemplateTag:"div",sortClass:null,sortDir:"asc",sortInitial:!0,filterClass:null,filter:null,filterString:"",filters:null,source:null,showItemsSteps:!1,showSearch:!1,showListInfo:!1,showPagination:!1,showActivity:!0,muteList:!0,items:-1,itemsSteps:"all, 10,25,50,100",itemsAllTitle:"Show all",listItemsCountTitle:"Show entries:",listSearchTitle:"Search:",listInfoTitle:"Showing $1 to $2 of $3 entries",paginationPrevTitle:"Prev",paginationNextTitle:"Next",activityType:"cycle",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,clsComponent:"",clsList:"",clsListItem:"",clsListTop:"",clsItemsCount:"",clsSearch:"",clsListBottom:"",clsListInfo:"",clsListPagination:"",clsPagination:"",clsTemplateTag:"",onDraw:e.noop,onDrawItem:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onFilterItemAccepted:e.noop,onFilterItemDeclined:e.noop,onListCreate:e.noop};e.listSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroListSetup&&e.listSetup(window.metroListSetup),e.Component("list",{init:function(e,t){return this._super(t,e,i,{currentPage:1,pagesCount:1,filterString:"",data:null,activity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,filterIndex:null,filtersIndexes:[],itemTemplate:null,sort:{dir:"asc",colIndex:0},header:null,items:[]}),this},_create:function(){var t=this,n=this.options;n.source?(t._fireEvent("data-load",{source:n.source}),fetch(n.source).then(e.fetch.status).then(e.fetch.json).then((function(e){t._fireEvent("data-loaded",{source:n.source,data:e}),t._build(e)})).catch((function(e){t._fireEvent("data-load-error",{source:n.source,error:e})}))):t._build()},_build:function(e){n.isValue(e)?this._createItemsFromJSON(e):this._createItemsFromHTML(),this._createStructure(),this._createEvents(),this._fireEvent("list-create")},_createItemsFromHTML:function(){var e=this,n=this.element,i=this.options,s=(""+i.clsTemplateTag).toArray(",");this.items=[],t.each(n.children(i.itemTag),(function(){var n=t(this).children("*");s.length&&(1===s.length?n.addClass(s[0]):n.each((function(e,n){t(n).addClass(s[e]?s[e]:s[s.length-1])}))),e.items.push(this)}))},_createItemsFromJSON:function(i){var s=this,o=this.options,r=(""+o.clsTemplateTag).toArray(",");this.items=[],n.isValue(i.template)&&(this.itemTemplate=i.template),n.isValue(i.header)&&(this.header=i.header),n.isValue(i.data)&&t.each(i.data,(function(){var i,a="",l=this,c=document.createElement(o.itemTag),h=s.itemTemplate;if(n.isValue(h))a=e.template(h,l,{beginToken:o.templateBeginToken,endToken:o.templateEndToken});else for(var u in l)a+="<"+o.defaultTemplateTag+">"+l[u]+"</"+o.defaultTemplateTag+">";c.innerHTML=a,i=t(c).children("*"),r.length&&(1===r.length?i.addClass(r[0]):i.each((function(e,n){t(n).addClass(r[e]?r[e]:r[r.length-1])}))),s.items.push(c)}))},_createTopBlock:function(){var e,i,s,o=this,r=this.element,a=this.options,l=t("<div>").addClass("list-top").addClass(a.clsListTop).insertBefore(r);return e=n.isValue(this.wrapperSearch)?this.wrapperSearch:t("<div>").addClass("list-search-block").addClass(a.clsSearch).appendTo(l),t("<input>").attr("type","text").appendTo(e).input({prepend:a.listSearchTitle}),!0!==a.showSearch&&e.hide(),i=n.isValue(this.wrapperRows)?this.wrapperRows:t("<div>").addClass("list-rows-block").addClass(a.clsItemsCount).appendTo(l),s=t("<select>").appendTo(i),t.each(a.itemsSteps.toArray(),(function(){var e=t("<option>").attr("value","all"===this?-1:this).text("all"===this?a.itemsAllTitle:this).appendTo(s);+this==+a.items&&e.attr("selected","selected")})),s.select({filter:!1,prepend:a.listItemsCountTitle,onChange:function(e){+e!=+a.items&&(a.items=parseInt(e),o.currentPage=1,o._draw(),o._fireEvent("rows-count-change",{val:e}))}}),!0!==a.showItemsSteps&&i.hide(),l},_createBottomBlock:function(){var e,n,i=this.element,s=this.options,o=t("<div>").addClass("list-bottom").addClass(s.clsListBottom).insertAfter(i);return e=t("<div>").addClass("list-info").addClass(s.clsListInfo).appendTo(o),!0!==s.showListInfo&&e.hide(),n=t("<div>").addClass("list-pagination").addClass(s.clsListPagination).appendTo(o),!0!==s.showPagination&&n.hide(),o},_createStructure:function(){var e,i,s=this,o=this.element,r=this.options,a=t(r.searchWrapper),l=t(r.infoWrapper),c=t(r.rowsWrapper),h=t(r.paginationWrapper);a.length>0&&(this.wrapperSearch=a),l.length>0&&(this.wrapperInfo=l),c.length>0&&(this.wrapperRows=c),h.length>0&&(this.wrapperPagination=h),o.parent().hasClass("list-component")?e=o.parent():(e=t("<div>").addClass("list-component").insertBefore(o),o.appendTo(e)),e.addClass(r.clsComponent),this.activity=t("<div>").addClass("list-progress").appendTo(e),t("<div>").activity({type:r.activityType,style:r.activityStyle}).appendTo(this.activity),!0!==r.showActivity&&this.activity.css({visibility:"hidden"}),o.addClass(r.clsList),this._createTopBlock(),this._createBottomBlock(),n.isValue(r.filterString)&&(this.filterString=r.filterString),n.isValue(r.filter)&&(!1===(i=n.isFunc(r.filter))&&(i=n.func(r.filter)),s.filterIndex=s.addFilter(i)),n.isValue(r.filters)&&"string"==typeof r.filters&&t.each(r.filters.toArray(),(function(){!1!==(i=n.isFunc(this))&&s.filtersIndexes.push(s.addFilter(i))})),this.currentPage=1,!1!==r.sortInitial?this.sorting(r.sortClass,r.sortDir,!0):this.draw()},_createEvents:function(){var i,s=this,o=this.element.parent();function r(e){var n=t(e),i=n.parent();i.hasClass("active")||(i.hasClass("service")?"prev"===n.data("page")?(s.currentPage--,0===s.currentPage&&(s.currentPage=1)):(s.currentPage++,s.currentPage>s.pagesCount&&(s.currentPage=s.pagesCount)):s.currentPage=n.data("page"),s._draw())}o.find(".list-search-block input").on(e.events.inputchange,(function(){s.filterString=this.value.trim().toLowerCase(),":"!==s.filterString[s.filterString.length-1]&&(s.currentPage=1,s._draw())})),n.isValue(this.wrapperSearch)&&(i=this.wrapperSearch.find("input")).length>0&&i.on(e.events.inputchange,(function(){s.filterString=this.value.trim().toLowerCase(),":"!==s.filterString[s.filterString.length-1]&&(s.currentPage=1,s._draw())})),o.on(e.events.click,".pagination .page-link",(function(){r(this)})),n.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",(function(){r(this)}))},_info:function(e,t,i){var s,o=this.element,r=this.options,a=o.parent(),l=n.isValue(this.wrapperInfo)?this.wrapperInfo:a.find(".list-info");0!==l.length&&(t>i&&(t=i),0===this.items.length&&(e=t=i=0),s=(s=(s=(s=r.listInfoTitle).replace("$1",e)).replace("$2",t)).replace("$3",i),l.html(s))},_paging:function(t){var i=this.element,s=this.options,o=i.parent();this.pagesCount=Math.ceil(t/s.items),e.pagination({length:t,rows:s.items,current:this.currentPage,target:n.isValue(this.wrapperPagination)?this.wrapperPagination:o.find(".list-pagination"),claPagination:s.clsPagination,prevTitle:s.paginationPrevTitle,nextTitle:s.paginationNextTitle,distance:!0===s.paginationShortMode?s.paginationDistance:0})},_filter:function(){var e,t,i,s,o,r,a=this,l=this.options;return n.isValue(this.filterString)||this.filters.length>0?(e=this.items.filter((function(e){if(i="",n.isValue(l.filterClass)){if((s=e.getElementsByClassName(l.filterClass)).length>0)for(t=0;t<s.length;t++)i+=s[t].textContent}else i=e.textContent;if(o=i.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),!0==(r=!n.isValue(a.filterString)||o.indexOf(a.filterString)>-1)&&a.filters.length>0)for(t=0;t<a.filters.length;t++)if(!0!==n.exec(a.filters[t],[e])){r=!1;break}return r?a._fireEvent("filter-item-accepted",{item:e}):a._fireEvent("filter-item-declined",{item:e}),r})),a._fireEvent("search",{search:a.filterString,items:e})):e=this.items,e},_draw:function(e){var i,s,o=this.element,r=this.options,a=-1===r.items?0:r.items*(this.currentPage-1),l=-1===r.items?this.items.length-1:a+r.items-1;for(s=this._filter(),o.children(r.itemTag).remove(),i=a;i<=l;i++)n.isValue(s[i])&&t(s[i]).addClass(r.clsListItem).appendTo(o),this._fireEvent("draw-item",{item:s[i]});this._info(a+1,l+1,s.length),this._paging(s.length),this.activity.hide(),this._fireEvent("draw"),void 0!==e&&n.exec(e,[o],o[0])},_getItemContent:function(e){var i,s,o,r,a=this.options,l=t(e),c=n.isValue(l.data("formatMask"))?l.data("formatMask"):null;if(n.isValue(a.sortClass)){if(o="",(s=t(e).find("."+a.sortClass)).length>0)for(i=0;i<s.length;i++)o+=s[i].textContent;r=s.length>0?s[0].getAttribute("data-format"):""}else o=e.textContent,r=e.getAttribute("data-format");if(o=(""+o).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),n.isValue(r))switch(-1===["number","int","integer","float","money"].indexOf(r)||","===a.thousandSeparator&&"."===a.decimalSeparator||(o=n.parseNumber(o,a.thousandSeparator,a.decimalSeparator)),r){case"date":o=c?Datetime.from(o,c,a.locale):datetime(o);break;case"number":o=Number(o);break;case"int":case"integer":o=parseInt(o);break;case"float":o=parseFloat(o);break;case"money":o=n.parseMoney(o);break;case"card":o=n.parseCard(o);break;case"phone":o=n.parsePhone(o)}return o},deleteItem:function(e){var t,i,s=[],o=n.isFunc(e);for(t=0;t<this.items.length;t++)i=this.items[t],o?n.exec(e,[i])&&s.push(t):i.textContent.includes(e)&&s.push(t);return this.items=n.arrayDeleteByMultipleKeys(this.items,s),this},draw:function(){return this._draw()},sorting:function(e,t,i){var s=this,o=this.options;return n.isValue(e)&&(o.sortClass=e),n.isValue(t)&&["asc","desc"].indexOf(t)>-1&&(o.sortDir=t),this._fireEvent("sort-start",{items:this.items}),this.items.sort((function(e,t){var n=s._getItemContent(e),i=s._getItemContent(t),r=0;return n<i&&(r="asc"===o.sortDir?-1:1),n>i&&(r="asc"===o.sortDir?1:-1),0!==r&&s._fireEvent("sort-item-switch",{a:e,b:t,result:r}),r})),this._fireEvent("sort-stop",{items:this.items}),!0===i&&this._draw(),this},filter:function(e){this.filterString=e.trim().toLowerCase(),this.currentPage=1,this._draw()},setData:function(e){var i,s=this,o=this.element,r=this.options;!0===n.isValue(e)&&(s._createItemsFromJSON(e),o.html(""),n.isValue(r.filterString)&&(s.filterString=r.filterString),n.isValue(r.filter)&&(!1===(i=n.isFunc(r.filter))&&(i=n.func(r.filter)),s.filterIndex=s.addFilter(i)),n.isValue(r.filters)&&"string"==typeof r.filters&&t.each(r.filters.toArray(),(function(){!1!==(i=n.isFunc(this))&&s.filtersIndexes.push(s.addFilter(i))})),s.currentPage=1,s.sorting(r.sortClass,r.sortDir,!0))},loadData:function(t){var i=this,s=this.options;!0===n.isValue(t)&&(s.source=t,this._fireEvent("data-load",{source:s.source}),fetch(s.source).then(e.fetch.status).then(e.fetch.json).then((function(e){i._fireEvent("data-loaded",{source:s.source,data:e}),i.setData(e)})).catch((function(e){i._fireEvent("data-load-error",{source:s.source,error:e})})))},next:function(){0!==this.items.length&&(this.currentPage++,this.currentPage>this.pagesCount?this.currentPage=this.pagesCount:this._draw())},prev:function(){0!==this.items.length&&(this.currentPage--,0!==this.currentPage?this._draw():this.currentPage=1)},first:function(){0!==this.items.length&&(this.currentPage=1,this._draw())},last:function(){0!==this.items.length&&(this.currentPage=this.pagesCount,this._draw())},page:function(e){e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw()},addFilter:function(e,t){var i=n.isFunc(e);if(!1!==i)return this.filters.push(i),!0===t&&(this.currentPage=1,this.draw()),this.filters.length-1},removeFilter:function(e,t){return n.arrayDeleteByKey(this.filters,e),!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){this.filters=[],!0===e&&(this.currentPage=1,this.draw())},getFilters:function(){return this.filters},getFilterIndex:function(){return this.filterIndex},getFiltersIndexes:function(){return this.filtersIndexes},changeAttribute:function(e){var t,i,s,o=this,r=this.element,a=this.options;switch(e){case"data-sort-dir":s=r.attr("data-sort-dir"),n.isValue(s)&&(a.sortDir=s,o.sorting(a.sortClass,a.sortDir,!0));break;case"data-sort-source":i=r.attr("data-sort-source"),n.isValue(i)&&(a.sortClass=i,o.sorting(a.sortClass,a.sortDir,!0));break;case"data-filter-string":t=r.attr("data-filter-string"),n.isValue(t)&&(a.filterString=t,o.filter(a.filterString))}},destroy:function(){var t,i=this.element,s=i.parent();return s.find(".list-search-block input").off(e.events.inputchange),n.isValue(this.wrapperSearch)&&(t=this.wrapperSearch.find("input")).length>0&&t.off(e.events.inputchange),s.off(e.events.click,".pagination .page-link"),n.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),i}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={listviewDeferred:0,selectable:!1,checkStyle:1,duration:100,view:e.listView.LIST,selectCurrent:!0,structure:{},onNodeInsert:e.noop,onNodeDelete:e.noop,onNodeClean:e.noop,onCollapseNode:e.noop,onExpandNode:e.noop,onGroupNodeClick:e.noop,onNodeClick:e.noop,onNodeDblclick:e.noop,onListViewCreate:e.noop};e.listViewSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroListViewSetup&&e.listViewSetup(window.metroListViewSetup),e.Component("listview",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createView(),this._createEvents(),this._fireEvent("listview-create",{element:e})},_createIcon:function(e){var i,s;return s=n.isTag(e)?t(e):t("<img>").attr("src",e),(i=t("<span>").addClass("icon")).html(s.outerHTML()),i},_createCaption:function(e){return t("<div>").addClass("caption").html(e)},_createContent:function(e){return t("<div>").addClass("content").html(e)},_createToggle:function(){return t("<span>").addClass("node-toggle")},_createNode:function(e){var i,s=this.options;if(i=t("<li>"),void 0!==e.caption||void 0!==e.content){var o=t("<div>").addClass("data");i.prepend(o),void 0!==e.caption&&o.append(this._createCaption(e.caption)),void 0!==e.content&&o.append(this._createContent(e.content))}return void 0!==e.icon&&i.prepend(this._createIcon(e.icon)),n.objectLength(s.structure)>0&&t.each(s.structure,(function(n,s){void 0!==e[n]&&t("<div>").addClass("node-data item-data-"+n).addClass(e[s]).html(e[n]).appendTo(i)})),i},_createView:function(){var e=this,i=this.element,s=this.options,o=i.find("li"),r=n.objectLength(s.structure);i.addClass("listview"),i.find("ul").addClass("listview"),t.each(o,(function(){var n=t(this);if(void 0!==n.data("caption")||void 0!==n.data("content")){var i=t("<div>").addClass("data");n.prepend(i),void 0!==n.data("caption")&&i.append(e._createCaption(n.data("caption"))),void 0!==n.data("content")&&i.append(e._createContent(n.data("content")))}if(void 0!==n.data("icon")&&n.prepend(e._createIcon(n.data("icon"))),n.children("ul").length>0?(n.addClass("node-group"),n.append(e._createToggle()),!0!==n.data("collapsed")&&n.addClass("expanded")):n.addClass("node"),n.hasClass("node")){var o=t("<input type='checkbox' data-role='checkbox' data-style='"+s.checkStyle+"'>");o.data("node",n),n.prepend(o)}r>0&&t.each(s.structure,(function(e){void 0!==n.data(e)&&t("<div>").addClass("node-data item-data-"+e).addClass(n.data(e)).html(n.data(e)).appendTo(n)}))})),this.toggleSelectable(),this.view(s.view)},_createEvents:function(){var n=this,i=this.element,s=this.options;i.on(e.events.dblclick,".node",(function(){var e=t(this);n._fireEvent("node-dblclick",{node:e})})),i.on(e.events.click,".node",(function(){var e=t(this);i.find(".node").removeClass("current"),e.toggleClass("current"),!0===s.selectCurrent&&(i.find(".node").removeClass("current-select"),e.toggleClass("current-select")),n._fireEvent("node-click",{node:e})})),i.on(e.events.click,".node-toggle",(function(){var e=t(this).closest("li");n.toggleNode(e)})),i.on(e.events.click,".node-group > .data > .caption",(function(){var e=t(this).closest("li");i.find(".node-group").removeClass("current-group"),e.addClass("current-group"),n._fireEvent("group-node-click",{node:e})})),i.on(e.events.dblclick,".node-group > .data > .caption",(function(){var e=t(this).closest("li");n.toggleNode(e),n._fireEvent("node-dbl-click",{node:e})}))},view:function(n){var i=this.element,s=this.options;if(void 0===n)return s.view;s.view=n,t.each(e.listView,(function(e,t){i.removeClass("view-"+t),i.find("ul").removeClass("view-"+t)})),i.addClass("view-"+s.view),i.find("ul").addClass("view-"+s.view)},toggleNode:function(e){var n,i=this.options;(e=t(e)).hasClass("node-group")&&(e.toggleClass("expanded"),n=!0!==e.hasClass("expanded")?"slideUp":"slideDown",this._fireEvent("collapse-node",{node:e}),e.children("ul")[n](i.duration))},toggleSelectable:function(){var e=this.element,t=!0===this.options.selectable?"addClass":"removeClass";e[t]("selectable"),e.find("ul")[t]("selectable")},add:function(n,i){var s,o,r=this.element,a=this.options;if(null===n)s=r;else{if(!(n=t(n)).hasClass("node-group"))return;0===(s=n.children("ul")).length&&(s=t("<ul>").addClass("listview").addClass("view-"+a.view).appendTo(n),this._createToggle().appendTo(n),n.addClass("expanded"))}(o=this._createNode(i)).addClass("node").appendTo(s);var l=t("<input type='checkbox'>");return l.data("node",o),o.prepend(l),e.makePlugin(l,"checkbox",{}),this._fireEvent("node-insert",{newNode:o,parentNode:n,list:s}),o},addGroup:function(e){var n,i=this.element,s=this.options;return delete e.icon,(n=this._createNode(e)).addClass("node-group").appendTo(i),n.append(this._createToggle()),n.addClass("expanded"),n.append(t("<ul>").addClass("listview").addClass("view-"+s.view)),this._fireEvent("node-insert",{newNode:n,parentNode:null,list:i}),n},insertBefore:function(e,n){var i,s,o;if((e=t(e)).length)return(i=this._createNode(n)).addClass("node").insertBefore(e),s=i.closest(".node"),o=i.closest("ul"),this._fireEvent("node-insert",{newNode:i,parentNode:s,list:o}),i},insertAfter:function(e,n){var i,s,o;if((e=t(e)).length)return(i=this._createNode(n)).addClass("node").insertAfter(e),s=i.closest(".node"),o=i.closest("ul"),this._fireEvent("node-insert",{newNode:i,parentNode:s,list:o}),i},del:function(e){var n=this.element;if((e=t(e)).length){var i=e.closest("ul"),s=i.closest("li");e.remove(),0!==i.children().length||i.is(n)||(i.remove(),s.removeClass("expanded"),s.children(".node-toggle").remove()),this._fireEvent("node-delete",{node:e})}},clean:function(e){(e=t(e)).length&&(e.children("ul").remove(),e.removeClass("expanded"),e.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:e}))},getSelected:function(){var e=this.element,n=[];return t.each(e.find(":checked"),(function(){var e=t(this);n.push(e.closest(".node")[0])})),n},clearSelected:function(){this.element.find(":checked").prop("checked",!1),this.element.trigger("change")},selectAll:function(e){this.element.find(".node > .checkbox input").prop("checked",!1!==e),this.element.trigger("change")},selectByAttribute:function(e,t,n){!1!==n&&(n=!0),this.element.find("li["+e+'="'+t+'"] > .checkbox input').prop("checked",n),this.element.trigger("change")},changeAttribute:function(e){var t,n=this.element,i=this.options;switch(e){case"data-view":t="view-"+n.attr("data-view"),this.view(t);break;case"data-selectable":i.selectable=!0===JSON.parse(n.attr("data-selectable")),this.toggleSelectable()}},destroy:function(){var t=this.element;return t.off(e.events.click,".node"),t.off(e.events.click,".node-toggle"),t.off(e.events.click,".node-group > .data > .caption"),t.off(e.events.dblclick,".node-group > .data > .caption"),t}})}(Metro,m4q),function(e,t){"use strict";var n={items:null,backgroundColor:"#fff",color:"#000",borderSize:0,borderColor:"transparent",loop:!0,height:"auto",width:"auto",duration:1e4,direction:"left",ease:"linear",mode:"default",accentPause:2e3,firstPause:1e3,stopOnHover:!1,clsMarquee:"",clsMarqueeItem:"",onMarqueeItem:e.noop,onMarqueeItemComplete:e.noop,onMarqueeComplete:e.noop,onMarqueeCreate:e.noop};e.marqueeSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroMarqueeSetup&&e.marqueeSetup(window.metroMarqueeSetup),e.Component("marquee",{init:function(e,t){return this._super(t,e,n,{items:[],running:!1,current:-1}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("marquee-create")},_createStructure:function(){var t=this.element,i=this.options;t.addClass("marquee").addClass(i.clsMarquee),t.css({height:i.height,width:i.width,backgroundColor:e.colors.isColor(i.backgroundColor)?i.backgroundColor:n.backgroundColor,color:e.colors.isColor(i.color)?i.color:n.color,borderStyle:"solid",borderWidth:i.borderSize,borderColor:e.colors.isColor(i.borderColor)?i.borderColor:n.borderColor}),this.setItems(i.items),this.items.length&&(this.current=0),this.items.length&&this.start()},setItems:function(n,i){var s,o=this.element,r=this.options,a=r.direction.toLowerCase();return(n=e.utils.isObject(n))&&i&&o.clear(),!1!==n&&t.each(n,(function(){var e=t(this);e.length?e.appendTo(o):o.append(t("<div>").html(this))})),this.items=o.children("*").addClass("marquee__item").addClass(r.clsMarqueeItem).items(),"left"===a||"right"===a?t(this.items).addClass("moveLeftRight"):t(this.items).addClass("moveUpDown"),"auto"===r.height&&(s=0,t(this.items).each((function(){+t(this).outerHeight(!0)>s&&(s=+t(this).outerHeight(!0))})),o.height(s)),this},setItem:function(e,n){var i,s=t(this.items[e]),o=this.options,r=this.element;if(s.length)return s.html(n),"auto"===o.height&&(i=0,t(this.items).each((function(){+t(this).outerHeight(!0)>i&&(i=+t(this).outerHeight(!0))})),r.height(i)),this},addItem:function(n,i){var s,o,r=this.element,a=t(n);return s=a.length?a:t("<div>").html(n),e.utils.isNull(i)?r.append(s):(o=this.items[i])?s.insertBefore(o):r.append(s),this},_createEvents:function(){var n=this,i=this.element,s=this.options;i.on(e.events.enter,(function(){s.stopOnHover&&t.pauseAll(n.items)})),i.on(e.events.leave,(function(){s.stopOnHover&&t.resumeAll(n.items)}))},start:function(){var n=this.element,i=this.options,s=[],o=i.direction.toLowerCase(),r=i.mode.toLowerCase(),a=20,l=i.ease.toArray(","),c=+i.duration;return"default"===r?t.each(this.items,(function(e){var r,l=t(this);l.attr("data-direction")&&(o=l.attr("data-direction").toLowerCase()),l.attr("data-duration")&&(c=+l.attr("data-duration")),r=["left","right"].indexOf(o)>-1?{left:"left"===o?[n.width(),-t(this).width()-a]:[-t(this).width()-a,n.width()]}:{top:"up"===o?[n.height(),-t(this).height()-a]:[-t(this).height()-a,n.height()]},s.push({el:this,draw:r,dur:c,ease:"linear",defer:0===e?+i.firstPause:0})})):t.each(this.items,(function(e){var r,h,u,d=t(this);c=i.duration/2,d.attr("data-direction")&&(o=d.attr("data-direction").toLowerCase()),d.attr("data-duration")&&(c=+d.attr("data-duration")/2),d.attr("data-ease")&&(l=d.attr("data-ease").toArray(",")),["left","right"].indexOf(o)>-1?(r=n.width()/2-t(this).width()/2,h={left:"left"===o?[n.width(),r]:[-t(this).width()-a,r]},u={left:"left"===o?[r,-t(this).width()-a]:[r,n.width()+a]}):(r=n.height()/2-t(this).height()/2,h={top:"up"===o?[n.height(),r]:[-t(this).height()-a,r]},u={top:"up"===o?[r,-t(this).height()-a]:[r,n.height()+a]}),s.push({el:this,draw:h,dur:c,ease:l[0]||"linear",defer:0===e?+i.firstPause:0}),s.push({el:this,draw:u,dur:c,ease:l[1]?l[1]:l[0]?l[0]:"linear",defer:+i.accentPause})})),this.running=!0,t.chain(s,{loop:i.loop,onChainItem:e.utils.isFunc(i.onMarqueeItem),onChainItemComplete:e.utils.isFunc(i.onMarqueeItemComplete),onChainComplete:e.utils.isFunc(i.onMarqueeComplete)}),this},stop:function(){return this.running=!1,t.stopAll(this.items),this},changeAttribute:function(){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={masterDeferred:0,effect:"slide",effectFunc:"linear",duration:METRO_ANIMATION_DURATION,controlPrev:"<span class='default-icon-left-arrow'></span>",controlNext:"<span class='default-icon-right-arrow'></span>",controlTitle:"Master, page $1 of $2",backgroundImage:"",clsMaster:"",clsControls:"",clsControlPrev:"",clsControlNext:"",clsControlTitle:"",clsPages:"",clsPage:"",onBeforePage:e.noop_true,onBeforeNext:e.noop_true,onBeforePrev:e.noop_true,onNextPage:e.noop,onPrevPage:e.noop,onMasterCreate:e.noop};e.masterSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroMasterSetup&&e.masterSetup(window.metroMasterSetup),e.Component("master",{init:function(e,t){return this._super(t,e,i,{pages:[],currentIndex:0,isAnimate:!1,id:n.elementId("master")}),this},_create:function(){var e=this.element,t=this.options;e.addClass("master").addClass(t.clsMaster),e.css({backgroundImage:"url("+t.backgroundImage+")"}),this._createControls(),this._createPages(),this._createEvents(),this._fireEvent("master-create",{element:e})},_createControls:function(){var e,n,i=this.element,s=this.options,o=i.find(".page");n=String(s.controlTitle).replace("$1","1"),n=String(n).replace("$2",o.length),t.each(["top","bottom"],(function(){e=t("<div>").addClass("controls controls-"+this).addClass(s.clsControls).appendTo(i),t("<span>").addClass("prev").addClass(s.clsControlPrev).html(s.controlPrev).appendTo(e),t("<span>").addClass("next").addClass(s.clsControlNext).html(s.controlNext).appendTo(e),t("<span>").addClass("title").addClass(s.clsControlTitle).html(n).appendTo(e)})),this._enableControl("prev",!1)},_enableControl:function(e,t){var n=this.element.find(".controls ."+e);!0===t?n.removeClass("disabled"):n.addClass("disabled")},_setTitle:function(){var e=this.element.find(".controls .title"),t=this.options.controlTitle.replace("$1",this.currentIndex+1);t=t.replace("$2",String(this.pages.length)),e.html(t)},_createPages:function(){var e=this,n=this.element,i=this.options,s=n.find(".pages"),o=n.find(".page");0===s.length&&(s=t("<div>").addClass("pages").appendTo(n)),s.addClass(i.clsPages),t.each(o,(function(){var s=t(this);void 0!==s.data("cover")?n.css({backgroundImage:"url("+s.data("cover")+")"}):n.css({backgroundImage:"url("+i.backgroundImage+")"}),s.css({left:"100%"}),s.addClass(i.clsPage).hide(0),e.pages.push(s)})),o.appendTo(s),this.currentIndex=0,void 0!==this.pages[this.currentIndex]&&(void 0!==this.pages[this.currentIndex].data("cover")&&n.css({backgroundImage:"url("+this.pages[this.currentIndex].data("cover")+")"}),this.pages[this.currentIndex].css("left","0").show(0),setTimeout((function(){s.css({height:e.pages[0].outerHeight(!0)+2})}),0))},_createEvents:function(){var i=this,s=this.element,o=this.options;s.on(e.events.click,".controls .prev",(function(){!0!==i.isAnimate&&!0===n.exec(o.onBeforePrev,[i.currentIndex,i.pages[i.currentIndex],s])&&!0===n.exec(o.onBeforePage,["prev",i.currentIndex,i.pages[i.currentIndex],s])&&i.prev()})),s.on(e.events.click,".controls .next",(function(){!0!==i.isAnimate&&!0===n.exec(o.onBeforeNext,[i.currentIndex,i.pages[i.currentIndex],s])&&!0===n.exec(o.onBeforePage,["next",i.currentIndex,i.pages[i.currentIndex],s])&&i.next()})),t(window).on(e.events.resize,(function(){s.find(".pages").height(i.pages[i.currentIndex].outerHeight(!0)+2)}),{ns:this.id})},_slideToPage:function(e){var t,n,i;void 0!==this.pages[e]&&this.currentIndex!==e&&(i=e>this.currentIndex?"next":"prev",t=this.pages[this.currentIndex],n=this.pages[e],this.currentIndex=e,this._effect(t,n,i))},_slideTo:function(e){var t,n,i="next"===e.toLowerCase();if(t=this.pages[this.currentIndex],i){if(this.currentIndex+1>=this.pages.length)return;this.currentIndex++}else{if(this.currentIndex-1<0)return;this.currentIndex--}n=this.pages[this.currentIndex],this._fireEvent(i?"next-page":"prev-page",{current:t,next:n,forward:i}),this._effect(t,n,e)},_effect:function(e,t,n){var i=this,s=this.element,o=this.options,r=s.width(),a=s.find(".pages");function l(){void 0!==t.data("cover")?s.css({backgroundImage:"url("+t.data("cover")+")"}):s.css({backgroundImage:"url("+o.backgroundImage+")"}),a.css("overflow","initial"),i.isAnimate=!1}switch(this._setTitle(),this.currentIndex===this.pages.length-1?this._enableControl("next",!1):this._enableControl("next",!0),0===this.currentIndex?this._enableControl("prev",!1):this._enableControl("prev",!0),setTimeout((function(){i.isAnimate=!0,a.animate({draw:{height:t.outerHeight(!0)+2}})}),0),a.css("overflow","hidden"),o.effect){case"fade":e.fadeOut(o.duration),t.css({top:0,left:0,opacity:0}).fadeIn(o.duration,"linear",(function(){l()}));break;case"switch":e.hide(),t.css({top:0,left:0,opacity:0}).show((function(){l()}));break;default:e.stop(!0).animate({draw:{left:"next"===n?-r:r},dur:o.duration,ease:o.effectFunc,onDone:function(){e.hide(0)}}),t.stop(!0).css({left:"next"===n?r:-r}).show(0).animate({draw:{left:0},dur:o.duration,ease:o.effectFunc,onDone:function(){l()}})}},toPage:function(e){this._slideToPage(e)},next:function(){this._slideTo("next")},prev:function(){this._slideTo("prev")},changeEffect:function(){this.options.effect=this.element.attr("data-effect")},changeEffectFunc:function(){this.options.effectFunc=this.element.attr("data-effect-func")},changeEffectDuration:function(){this.options.duration=this.element.attr("data-duration")},changeAttribute:function(e){switch(e){case"data-effect":this.changeEffect();break;case"data-effect-func":this.changeEffectFunc();break;case"data-duration":this.changeEffectDuration()}},destroy:function(){var n=this.element;return n.off(e.events.click,".controls .prev"),n.off(e.events.click,".controls .next"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e){"use strict";e.md5=function(e){function t(e,t){return e<<t|e>>>32-t}function n(e,t){var n,i,s,o,r;return s=2147483648&e,o=2147483648&t,r=(1073741823&e)+(1073741823&t),(n=1073741824&e)&(i=1073741824&t)?2147483648^r^s^o:n|i?1073741824&r?3221225472^r^s^o:1073741824^r^s^o:r^s^o}function i(e,i,s,o,r,a,l){return e=n(e,n(n(function(e,t,n){return e&t|~e&n}(i,s,o),r),l)),n(t(e,a),i)}function s(e,i,s,o,r,a,l){return e=n(e,n(n(function(e,t,n){return e&n|t&~n}(i,s,o),r),l)),n(t(e,a),i)}function o(e,i,s,o,r,a,l){return e=n(e,n(n(function(e,t,n){return e^t^n}(i,s,o),r),l)),n(t(e,a),i)}function r(e,i,s,o,r,a,l){return e=n(e,n(n(function(e,t,n){return t^(e|~n)}(i,s,o),r),l)),n(t(e,a),i)}function a(e){var t,n="",i="";for(t=0;t<=3;t++)n+=(i="0"+(e>>>8*t&255).toString(16)).substr(i.length-2,2);return n}var l,c,h,u,d,p,f,g,m,v;for(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var i=e.charCodeAt(n);i<128?t+=String.fromCharCode(i):i>127&&i<2048?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}(e),l=function(e){for(var t,n=e.length,i=n+8,s=16*((i-i%64)/64+1),o=Array(s-1),r=0,a=0;a<n;)r=a%4*8,o[t=(a-a%4)/4]=o[t]|e.charCodeAt(a)<<r,a++;return r=a%4*8,o[t=(a-a%4)/4]=o[t]|128<<r,o[s-2]=n<<3,o[s-1]=n>>>29,o}(e),f=1732584193,g=4023233417,m=2562383102,v=271733878,c=0;c<l.length;c+=16)h=f,u=g,d=m,p=v,f=i(f,g,m,v,l[c],7,3614090360),v=i(v,f,g,m,l[c+1],12,3905402710),m=i(m,v,f,g,l[c+2],17,606105819),g=i(g,m,v,f,l[c+3],22,3250441966),f=i(f,g,m,v,l[c+4],7,4118548399),v=i(v,f,g,m,l[c+5],12,1200080426),m=i(m,v,f,g,l[c+6],17,2821735955),g=i(g,m,v,f,l[c+7],22,4249261313),f=i(f,g,m,v,l[c+8],7,1770035416),v=i(v,f,g,m,l[c+9],12,2336552879),m=i(m,v,f,g,l[c+10],17,4294925233),g=i(g,m,v,f,l[c+11],22,2304563134),f=i(f,g,m,v,l[c+12],7,1804603682),v=i(v,f,g,m,l[c+13],12,4254626195),m=i(m,v,f,g,l[c+14],17,2792965006),f=s(f,g=i(g,m,v,f,l[c+15],22,1236535329),m,v,l[c+1],5,4129170786),v=s(v,f,g,m,l[c+6],9,3225465664),m=s(m,v,f,g,l[c+11],14,643717713),g=s(g,m,v,f,l[c],20,3921069994),f=s(f,g,m,v,l[c+5],5,3593408605),v=s(v,f,g,m,l[c+10],9,38016083),m=s(m,v,f,g,l[c+15],14,3634488961),g=s(g,m,v,f,l[c+4],20,3889429448),f=s(f,g,m,v,l[c+9],5,568446438),v=s(v,f,g,m,l[c+14],9,3275163606),m=s(m,v,f,g,l[c+3],14,4107603335),g=s(g,m,v,f,l[c+8],20,1163531501),f=s(f,g,m,v,l[c+13],5,2850285829),v=s(v,f,g,m,l[c+2],9,4243563512),m=s(m,v,f,g,l[c+7],14,1735328473),f=o(f,g=s(g,m,v,f,l[c+12],20,2368359562),m,v,l[c+5],4,4294588738),v=o(v,f,g,m,l[c+8],11,2272392833),m=o(m,v,f,g,l[c+11],16,1839030562),g=o(g,m,v,f,l[c+14],23,4259657740),f=o(f,g,m,v,l[c+1],4,2763975236),v=o(v,f,g,m,l[c+4],11,1272893353),m=o(m,v,f,g,l[c+7],16,4139469664),g=o(g,m,v,f,l[c+10],23,3200236656),f=o(f,g,m,v,l[c+13],4,681279174),v=o(v,f,g,m,l[c],11,3936430074),m=o(m,v,f,g,l[c+3],16,3572445317),g=o(g,m,v,f,l[c+6],23,76029189),f=o(f,g,m,v,l[c+9],4,3654602809),v=o(v,f,g,m,l[c+12],11,3873151461),m=o(m,v,f,g,l[c+15],16,530742520),f=r(f,g=o(g,m,v,f,l[c+2],23,3299628645),m,v,l[c],6,4096336452),v=r(v,f,g,m,l[c+7],10,1126891415),m=r(m,v,f,g,l[c+14],15,2878612391),g=r(g,m,v,f,l[c+5],21,4237533241),f=r(f,g,m,v,l[c+12],6,1700485571),v=r(v,f,g,m,l[c+3],10,2399980690),m=r(m,v,f,g,l[c+10],15,4293915773),g=r(g,m,v,f,l[c+1],21,2240044497),f=r(f,g,m,v,l[c+8],6,1873313359),v=r(v,f,g,m,l[c+15],10,4264355552),m=r(m,v,f,g,l[c+6],15,2734768916),g=r(g,m,v,f,l[c+13],21,1309151649),f=r(f,g,m,v,l[c+4],6,4149444226),v=r(v,f,g,m,l[c+11],10,3174756917),m=r(m,v,f,g,l[c+2],15,718787259),g=r(g,m,v,f,l[c+9],21,3951481745),f=n(f,h),g=n(g,u),m=n(m,d),v=n(v,p);return(a(f)+a(g)+a(m)+a(v)).toLowerCase()},!0===window.METRO_GLOBAL_COMMON&&(window.md5=e.md5)}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={navviewDeferred:0,compact:"md",expand:"lg",toggle:null,activeState:!1,onMenuItemClick:e.noop,onNavviewCreate:e.noop};e.navViewSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroNavViewSetup&&e.navViewSetup(window.metroNavViewSetup),e.Component("nav-view",{init:function(e,t){return this._super(t,e,i,{pane:null,content:null,paneToggle:null,id:n.elementId("navview"),menuScrollDistance:0,menuScrollStep:0}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("navview-create")},_calcMenuHeight:function(){var e,i,s=this.element,o=0;0!==(e=s.children(".navview-pane")).length&&0!==(i=e.children(".navview-menu-container")).length&&(t.each(i.prevAll(),(function(){o+=t(this).outerHeight(!0)})),t.each(i.nextAll(),(function(){o+=t(this).outerHeight(!0)})),i.css({height:"calc(100% - "+o+"px)"}),this.menuScrollStep=48,this.menuScrollDistance=n.nearest(i[0].scrollHeight-i.height(),48))},_recalc:function(){var e=this,t=this.element;setTimeout((function(){48===e.pane.width()?t.addClass("js-compact"):t.removeClass("js-compact"),e._calcMenuHeight()}),200)},_createStructure:function(){var e,n,i,s,o=this.element,r=this.options;o.addClass("navview").addClass(!1!==r.compact?"navview-compact-"+r.compact:"").addClass(!1!==r.expand?"navview-expand-"+r.expand:""),e=o.children(".navview-pane"),n=o.children(".navview-content"),i=t(r.toggle),(s=e.children(".navview-menu")).length&&(s.prevAll().reverse().wrapAll(t("<div>").addClass("navview-container")),s.wrap(t("<div>").addClass("navview-menu-container"))),this.pane=e.length>0?e:null,this.content=n.length>0?n:null,this.paneToggle=i.length>0?i:null,this._recalc()},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.find(".navview-menu-container"),a=r.children(".navview-menu");r.on("mousewheel",(function(e){var t=s.find(".navview-pane").width(),n=e.deltaY>0?-1:1,o=i.menuScrollStep,r=i.menuScrollDistance,l=parseInt(a.css("top"));if(t>48)return!1;-1===n&&Math.abs(l)<=r&&a.css("top",parseInt(a.css("top"))+o*n),1===n&&l<=-o&&a.css("top",parseInt(a.css("top"))+o*n)})),s.on(e.events.click,".pull-button, .holder",(function(){i.pullClick(this)})),s.on(e.events.click,".navview-menu li",(function(){!0===o.activeState&&(s.find(".navview-menu li").removeClass("active"),t(this).toggleClass("active"))})),s.on(e.events.click,".navview-menu li > a",(function(){i._fireEvent("menu-item-click",{item:this})})),null!==this.paneToggle&&this.paneToggle.on(e.events.click,(function(){i.pane.toggleClass("open")})),t(window).on(e.events.resize,(function(){var r,a,l,c=s.children(".navview-menu-container");i.pane.hasClass("open")||(s.removeClass("expanded"),i.pane.removeClass("open"),t(this).width()<=e.media_sizes[(""+o.compact).toUpperCase()]&&s.removeClass("compacted"),c.length&&(l=c.children(".navview-menu"),setTimeout((function(){r=l.height(),a=c.height(),i.menuScrollStep=l.children(":not(.item-separator), :not(.item-header)")[0].clientHeight,i.menuScrollDistance=r>a?n.nearest(r-a,i.menuScrollStep):0}),0))),i._recalc()}),{ns:this.id})},_togglePaneMode:function(){var e=this.element,t=this.pane.width()<280;!t&&!e.hasClass("expanded")||e.hasClass("compacted")?!e.hasClass("compacted")&&t||e.toggleClass("compacted"):e.toggleClass("expanded")},pullClick:function(e){var n,i=t(e);return i&&i.hasClass("holder")&&(n=i.parent().find("input"),setTimeout((function(){n.focus()}),200)),this.pane.hasClass("open")?this.close():this._togglePaneMode(),this._recalc(),!0},open:function(){this.pane.addClass("open")},close:function(){this.pane.removeClass("open")},toggle:function(){var e=this.pane;e.hasClass("open")?e.removeClass("open"):e.addClass("open")},toggleMode:function(){this._togglePaneMode()},changeAttribute:function(e){},destroy:function(){var n=this.element;return n.off(e.events.click,".pull-button, .holder"),n.off(e.events.click,".navview-menu li"),n.off(e.events.click,".navview-menu li > a"),null!==this.paneToggle&&this.paneToggle.off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={container:null,width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear",onClick:e.noop,onClose:e.noop,onShow:e.noop,onAppend:e.noop,onNotifyCreate:e.noop};e.notifySetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroNotifySetup&&e.notifySetup(window.metroNotifySetup);var s={container:null,options:{},notifies:[],setup:function(e){return this.options=t.extend({},i,e),this},reset:function(){var e={width:220,timeout:METRO_TIMEOUT,duration:METRO_ANIMATION_DURATION,distance:"max",animation:"linear"};this.options=t.extend({},i,e)},_createContainer:function(){var e=t("<div>").addClass("notify-container");return t("body").prepend(e),e},create:function(i,o,r){var a,l,c=this,h=this.options,u=n.elementId("notify");if(n.isNull(r)&&(r={}),!n.isValue(i))return!1;(a=t("<div>").addClass("notify").attr("id",u)).css({width:h.width}),o&&(l=t("<div>").addClass("notify-title").html(o),a.prepend(l)),t("<div>").addClass("notify-message").html(i).appendTo(a),void 0!==r&&(void 0!==r.cls&&a.addClass(r.cls),void 0!==r.width&&a.css({width:r.width})),a.on(e.events.click,(function(){n.exec(n.isValue(r.onClick)?r.onClick:h.onClick,null,this),c.kill(t(this).closest(".notify"),n.isValue(r.onClose)?r.onClose:h.onClose)})),null===s.container&&(s.container=s._createContainer()),a.appendTo(s.container),a.hide((function(){n.exec(n.isValue(r.onAppend)?r.onAppend:h.onAppend,null,a[0]);var e=n.isValue(r.duration)?r.duration:h.duration,i=n.isValue(r.animation)?r.animation:h.animation,s=n.isValue(r.distance)?r.distance:h.distance;("max"===s||isNaN(s))&&(s=t(window).height()),a.show().animate({draw:{marginTop:[s,4],opacity:[0,1]},dur:e,ease:i,onDone:function(){n.exec(h.onNotifyCreate,null,this),void 0!==r&&!0===r.keepOpen||setTimeout((function(){c.kill(a,n.isValue(r.onClose)?r.onClose:h.onClose)}),h.timeout),n.exec(n.isValue(r.onShow)?r.onShow:h.onShow,null,a[0])}})}))},kill:function(t,i){var s=this,o=this.options;t.off(e.events.click),t.fadeOut(o.duration,"linear",(function(){n.exec(n.isValue(i)?i:s.options.onClose,null,t[0]),t.remove()}))},killAll:function(){var e=this,n=t(".notify");t.each(n,(function(){e.kill(t(this))}))}};e.notify=s.setup()}(Metro,m4q),function(e,t){"use strict";e.pagination=function(e){var n,i,s,o,r,a,l;if(n=t.extend({},{length:0,rows:0,current:0,target:"body",clsPagination:"",prevTitle:"Prev",nextTitle:"Next",distance:5},e),l=parseInt(n.distance),(s=t(n.target)).html(""),i=t("<ul>").addClass("pagination").addClass(n.clsPagination).appendTo(s),0!==n.length&&-1!==n.rows){n.pages=Math.ceil(n.length/n.rows);var c=function(e,n,i){var s,o;return s=t("<li>").addClass("page-item").addClass(n),(o=t("<a>").addClass("page-link").html(e)).data("page",i),o.appendTo(s),s};if(r=c(n.prevTitle,"service prev-page","prev"),i.append(r),i.append(c(1,1===n.current?"active":"",1)),0===l||n.pages<=7)for(o=2;o<n.pages;o++)i.append(c(o,o===n.current?"active":"",o));else if(n.current<l){for(o=2;o<=l;o++)i.append(c(o,o===n.current?"active":"",o));n.pages>l&&i.append(c("...","no-link",null))}else if(n.current<=n.pages&&n.current>n.pages-l+1)for(n.pages>l&&i.append(c("...","no-link",null)),o=n.pages-l+1;o<n.pages;o++)i.append(c(o,o===n.current?"active":"",o));else i.append(c("...","no-link",null)),i.append(c(n.current-1,"",n.current-1)),i.append(c(n.current,"active",n.current)),i.append(c(n.current+1,"",n.current+1)),i.append(c("...","no-link",null));return(n.pages>1||n.current<n.pages)&&i.append(c(n.pages,n.current===n.pages?"active":"",n.pages)),a=c(n.nextTitle,"service next-page","next"),i.append(a),1===n.current&&r.addClass("disabled"),n.current===n.pages&&a.addClass("disabled"),0===n.length&&(i.addClass("disabled"),i.children().addClass("disabled")),i}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={panelDeferred:0,id:null,titleCaption:"",titleIcon:"",collapsible:!1,collapsed:!1,collapseDuration:METRO_ANIMATION_DURATION,width:"auto",height:"auto",draggable:!1,customButtons:null,clsCustomButton:"",clsPanel:"",clsTitle:"",clsTitleCaption:"",clsTitleIcon:"",clsContent:"",clsCollapseToggle:"",onCollapse:e.noop,onExpand:e.noop,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onPanelCreate:e.noop};e.panelSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroPanelSetup&&e.panelSetup(window.metroPanelSetup),e.Component("panel",{init:function(e,t){return this._super(t,e,i),this},_addCustomButtons:function(i){var s,o=this.element,r=this.options,a=o.closest(".panel").find(".panel-title"),l=[];if("string"==typeof i&&i.indexOf("{")>-1)l=JSON.parse(i);else if("string"==typeof i&&n.isObject(i))l=n.isObject(i);else{if(!("object"==typeof i&&n.objectLength(i)>0))return void console.warn("Unknown format for custom buttons",i);l=i}if(0!==a.length)return 0===(s=a.find(".custom-buttons")).length?s=t("<div>").addClass("custom-buttons").appendTo(a):(s.find(".btn-custom").off(e.events.click),s.html("")),t.each(l,(function(){var e=this,n=t("<span>");n.addClass("button btn-custom").addClass(r.clsCustomButton).addClass(e.cls).attr("tabindex",-1).html(e.html),e.attr&&"object"==typeof e.attr&&t.each(e.attr,(function(e,t){n.attr(Cake.dashedName(e),t)})),n.data("action",e.onclick),s.prepend(n)})),a.on(e.events.click,".btn-custom",(function(e){if(!n.isRightMouse(e)){var i=t(this),s=i.data("action");n.exec(s,[i],this)}})),this;console.warn("No place for custom buttons")},_create:function(){var i,s,o=this.element,r=this.options,a=t("<div>").addClass("panel").addClass(r.clsPanel),l=r.id?r.id:n.elementId("panel"),c=o[0].className;if(a.attr("id",l).addClass(c),a.insertBefore(o),o.appendTo(a),o[0].className="",o.addClass("panel-content").addClass(r.clsContent).appendTo(a),""!==r.titleCaption||""!==r.titleIcon||!0===r.collapsible){if(i=t("<div>").addClass("panel-title").addClass(r.clsTitle),""!==r.titleCaption&&t("<span>").addClass("caption").addClass(r.clsTitleCaption).html(r.titleCaption).appendTo(i),""!==r.titleIcon&&t(r.titleIcon).addClass("icon").addClass(r.clsTitleIcon).appendTo(i),!0===r.collapsible){var h=t("<span>").addClass("dropdown-toggle marker-center active-toggle").addClass(r.clsCollapseToggle).appendTo(i);e.makePlugin(o,"collapse",{toggleElement:h,duration:r.collapseDuration,onCollapse:r.onCollapse,onExpand:r.onExpand}),!0===r.collapsed&&this.collapse()}i.appendTo(a)}i&&n.isValue(r.customButtons)&&this._addCustomButtons(r.customButtons),!0===r.draggable&&(s=i?i.find(".caption, .icon"):a,e.makePlugin(a,"draggable",{dragContext:a[0],dragElement:s,onDragStart:r.onDragStart,onDragStop:r.onDragStop,onDragMove:r.onDragMove})),"auto"!==r.width&&parseInt(r.width)>=0&&a.outerWidth(parseInt(r.width)),"auto"!==r.height&&parseInt(r.height)>=0&&(a.outerHeight(parseInt(r.height)),o.css({overflow:"auto"})),this.panel=a,this._fireEvent("panel-create",{element:o,panel:a})},customButtons:function(e){return this._addCustomButtons(e)},collapse:function(){var t=this.element;!1!==n.isMetroObject(t,"collapse")&&e.getPlugin(t,"collapse").collapse()},open:function(){this.expand()},close:function(){this.collapse()},expand:function(){var t=this.element;!1!==n.isMetroObject(t,"collapse")&&e.getPlugin(t,"collapse").expand()},changeAttribute:function(e){},destroy:function(){var t=this.element,n=this.options;return!0===n.collapsible&&e.getPlugin(t,"collapse").destroy(),!0===n.draggable&&e.getPlugin(t,"draggable").destroy(),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={popoverDeferred:0,popoverText:"",popoverHide:3e3,popoverTimeout:10,popoverOffset:10,popoverTrigger:e.popoverEvents.HOVER,popoverPosition:e.position.TOP,hideOnLeave:!1,closeButton:!0,clsPopover:"",clsPopoverContent:"",onPopoverShow:e.noop,onPopoverHide:e.noop,onPopoverCreate:e.noop};e.popoverSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroPopoverSetup&&e.popoverSetup(window.metroPopoverSetup),e.Component("popover",{init:function(e,t){return this._super(t,e,i,{popover:null,popovered:!1,size:{width:0,height:0},id:n.elementId("popover")}),this},_create:function(){this._createEvents(),this._fireEvent("popover-create",{element:this.element})},_createEvents:function(){var n,i=this,s=this.element,o=this.options;switch(o.popoverTrigger){case e.popoverEvents.CLICK:n=e.events.click;break;case e.popoverEvents.FOCUS:n=e.events.focus;break;default:n=e.events.enter}s.on(n,(function(){null===i.popover&&!0!==i.popovered&&setTimeout((function(){i.createPopover(),i._fireEvent("popover-show",{popover:i.popover}),o.popoverHide>0&&setTimeout((function(){i.removePopover()}),o.popoverHide)}),o.popoverTimeout)})),!0===o.hideOnLeave&&s.on(e.events.leave,(function(){i.removePopover()})),t(window).on(e.events.scroll,(function(){null!==i.popover&&i.setPosition()}),{ns:this.id})},setPosition:function(){var n=this.popover,i=this.size,s=this.options,o=this.element;s.popoverPosition===e.position.BOTTOM?(n.addClass("bottom"),n.css({top:o.offset().top-t(window).scrollTop()+o.outerHeight()+s.popoverOffset,left:o.offset().left+o.outerWidth()/2-i.width/2-t(window).scrollLeft()})):s.popoverPosition===e.position.RIGHT?(n.addClass("right"),n.css({top:o.offset().top+o.outerHeight()/2-i.height/2-t(window).scrollTop(),left:o.offset().left+o.outerWidth()-t(window).scrollLeft()+s.popoverOffset})):s.popoverPosition===e.position.LEFT?(n.addClass("left"),n.css({top:o.offset().top+o.outerHeight()/2-i.height/2-t(window).scrollTop(),left:o.offset().left-i.width-t(window).scrollLeft()-s.popoverOffset})):(n.addClass("top"),n.css({top:o.offset().top-t(window).scrollTop()-i.height-s.popoverOffset,left:o.offset().left+o.outerWidth()/2-i.width/2-t(window).scrollLeft()}))},createPopover:function(){var i,s,o=this,r=this.elem,a=this.element,l=this.options,c=n.elementId("popover");if(!this.popovered){switch((i=t("<div>").addClass("popover neb").addClass(l.clsPopover)).attr("id",c),t("<div>").addClass("popover-content").addClass(l.clsPopoverContent).html(l.popoverText).appendTo(i),0===l.popoverHide&&!0===l.closeButton&&t("<button>").addClass("button square small popover-close-button bg-white").html("&times;").appendTo(i).on(e.events.click,(function(){o.removePopover()})),l.popoverPosition){case e.position.TOP:s="neb-s";break;case e.position.BOTTOM:s="neb-n";break;case e.position.RIGHT:s="neb-w";break;case e.position.LEFT:s="neb-e"}if(i.addClass(s),!0!==l.closeButton&&i.on(e.events.click,(function(){o.removePopover()})),this.popover=i,this.size=n.hiddenElementSize(i),"TD"===r.tagName||"TH"===r.tagName){var h=t("<div/>").css("display","inline-block").html(a.html());a.html(h),a=h}this.setPosition(),i.appendTo(t("body")),this.popovered=!0,this._fireEvent("popover-create",{popover:i})}},removePopover:function(){var t=this,n=this.options.onPopoverHide===e.noop?0:300,i=this.popover;this.popovered&&(this._fireEvent("popover-hide",{popover:i}),setTimeout((function(){i.hide(0,(function(){i.remove(),t.popover=null,t.popovered=!1}))}),n))},show:function(){var e=this,t=this.options;!0!==this.popovered&&setTimeout((function(){e.createPopover(),e._fireEvent("popover-show",{popover:e.popover}),t.popoverHide>0&&setTimeout((function(){e.removePopover()}),t.popoverHide)}),t.popoverTimeout)},hide:function(){this.removePopover()},changeAttribute:function(e){var t=this,n=this.element,i=this.options;switch(e){case"data-popover-text":i.popoverText=n.attr("data-popover-text"),t.popover&&(t.popover.find(".popover-content").html(i.popoverText),t.setPosition());break;case"data-popover-position":i.popoverPosition=n.attr("data-popover-position"),t.setPosition()}},destroy:function(){var n,i=this.element,s=this.options;switch(s.popoverTrigger){case e.popoverEvents.CLICK:n=e.events.click;break;case e.popoverEvents.FOCUS:n=e.events.focus;break;default:n=e.events.enter}return i.off(n),!0===s.hideOnLeave&&i.off(e.events.leave),t(window).off(e.events.scroll,{ns:this.id}),i}})}(Metro,m4q),function(e,t){"use strict";var n={progressDeferred:0,showValue:!1,valuePosition:"free",showLabel:!1,labelPosition:"before",labelTemplate:"",value:0,buffer:0,type:"bar",small:!1,clsBack:"",clsBar:"",clsBuffer:"",clsValue:"",clsLabel:"",onValueChange:e.noop,onBufferChange:e.noop,onComplete:e.noop,onBuffered:e.noop,onProgressCreate:e.noop};e.progressSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroProgressSetup&&e.progressSetup(window.metroProgressSetup),e.Component("progress",{init:function(e,t){return this._super(t,e,n,{value:0,buffer:0}),this},_create:function(){var e,n=this.element,i=this.options;switch("string"==typeof i.type&&(i.type=i.type.toLowerCase()),n.html("").addClass("progress"),i.type){case"buffer":t("<div>").addClass("bar").appendTo(n),t("<div>").addClass("buffer").appendTo(n);break;case"load":n.addClass("with-load"),t("<div>").addClass("bar").appendTo(n),t("<div>").addClass("buffer").appendTo(n),t("<div>").addClass("load").appendTo(n);break;case"line":n.addClass("line");break;default:t("<div>").addClass("bar").appendTo(n)}if("line"!==i.type&&(e=t("<span>").addClass("value").addClass(i.clsValue).appendTo(n),"center"===i.valuePosition&&e.addClass("centered"),!1===i.showValue&&e.hide()),!0===i.small&&n.addClass("small"),n.addClass(i.clsBack),n.find(".bar").addClass(i.clsBar),n.find(".buffer").addClass(i.clsBuffer),!0===i.showLabel){var s=t("<span>").addClass("progress-label").addClass(i.clsLabel).html(""===i.labelTemplate?i.value+"%":i.labelTemplate.replace("%VAL%",i.value));"before"===i.labelPosition?s.insertBefore(n):s.insertAfter(n)}this.val(i.value),this.buff(i.buffer),this._fireEvent("progress-create",{element:n})},val:function(e){var t=this.element,n=this.options,i=t.find(".value");if(void 0===e)return this.value;var s=t.find(".bar");if(0===s.length)return!1;this.value=parseInt(e,10),s.css("width",this.value+"%"),i.html(this.value+"%");var o=t.width()-s.width(),r=i.width()>o?{left:"auto",right:o+"px"}:{left:e+"%"};if("free"===n.valuePosition&&i.css(r),!0===n.showLabel){var a=t["before"===n.labelPosition?"prev":"next"](".progress-label");a.length&&a.html(""===n.labelTemplate?n.value+"%":n.labelTemplate.replace("%VAL%",n.value))}this._fireEvent("value-change",{val:this.value}),100===this.value&&this._fireEvent("complete",{val:this.value})},buff:function(e){var t=this.element;if(void 0===e)return this.buffer;var n=t.find(".buffer");if(0===n.length)return!1;this.buffer=parseInt(e,10),n.css("width",this.buffer+"%"),this._fireEvent("buffer-change",{val:this.buffer}),100===this.buffer&&this._fireEvent("buffered",{val:this.buffer})},changeValue:function(){this.val(this.element.attr("data-value"))},changeBuffer:function(){this.buff(this.element.attr("data-buffer"))},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer()}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={radioDeferred:0,transition:!0,style:1,caption:"",captionPosition:"right",clsRadio:"",clsCheck:"",clsCaption:"",onRadioCreate:e.noop};e.radioSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRadioSetup&&e.radioSetup(window.metroRadioSetup),e.Component("radio",{init:function(e,t){return this._super(t,e,i,{origin:{className:""}}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("radio-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,i=t("<label>").addClass("radio "+e[0].className).addClass(2===n.style?"style2":""),s=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(n.caption);e.attr("type","radio"),i.insertBefore(e),e.appendTo(i),s.appendTo(i),o.appendTo(i),!0===n.transition&&i.addClass("transition-on"),"left"===n.captionPosition&&i.addClass("caption-left"),this.origin.className=e[0].className,e[0].className="",i.addClass(n.clsRadio),o.addClass(n.clsCaption),s.addClass(n.clsCheck),e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var e=this.element,t=e.siblings(".check");e.on("focus",(function(){t.addClass("focused")})),e.on("blur",(function(){t.removeClass("focused")}))},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,i=this.element,s=this.options,o=i.parent();switch(e){case"disabled":this.toggleState();break;case"data-style":t=parseInt(i.attr("data-style")),n.isInt(t)&&(s.style=t,o.removeClass("style1 style2").addClass("style"+t))}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={ratingDeferred:0,label:"",static:!1,title:null,value:0,values:null,message:"",stars:5,starColor:null,staredColor:null,roundFunc:"round",half:!0,clsRating:"",clsTitle:"",clsStars:"",clsResult:"",clsLabel:"",onStarClick:e.noop,onRatingCreate:e.noop};e.ratingSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRatingSetup&&e.ratingSetup(window.metroRatingSetup),e.Component("rating",{init:function(e,t){return this._super(t,e,i,{value:0,originValue:0,values:[],rate:0,rating:null}),this},_create:function(){var e,t=this.element,n=this.options;if(isNaN(n.value)?n.value=0:n.value=parseFloat(n.value).toFixed(1),null!==n.values)Array.isArray(n.values)?this.values=n.values:"string"==typeof n.values&&(this.values=n.values.toArray());else for(e=1;e<=n.stars;e++)this.values.push(e);this.originValue=n.value,this.value=n.value>0?Math[n.roundFunc](n.value):0,this._createRating(),this._createEvents(),this._fireEvent("rating-create",{element:t})},_createRating:function(){var i,s,o,r=this.element,a=this.options,l=n.elementId("rating"),c=t("<div>").addClass("rating "+String(r[0].className).replace("d-block","d-flex")).addClass(a.clsRating),h=e.sheet,u=a.static?Math.floor(this.originValue):this.value;for(r.val(this.value),c.attr("id",l),c.insertBefore(r),r.appendTo(c),s=t("<ul>").addClass("stars").addClass(a.clsStars).appendTo(c),i=1;i<=a.stars;i++)o=t("<li>").data("value",this.values[i-1]).appendTo(s),i<=u&&o.addClass("on");if(t("<span>").addClass("result").addClass(a.clsResult).appendTo(c).html(a.message),null!==a.starColor&&e.colors.isColor(a.starColor)&&n.addCssRule(h,"#"+l+" .stars:hover li","color: "+a.starColor+";"),null!==a.staredColor&&e.colors.isColor(a.staredColor)&&(n.addCssRule(h,"#"+l+" .stars li.on","color: "+a.staredColor+";"),n.addCssRule(h,"#"+l+" .stars li.half::after","color: "+a.staredColor+";")),null!==a.title){var d=t("<span>").addClass("title").addClass(a.clsTitle).html(a.title);c.prepend(d)}if(!0===a.static&&(c.addClass("static"),!0===a.half)){var p=Math.round(this.originValue%1*10);p>0&&p<=9&&c.find(".stars li.on").last().next("li").addClass("half half-"+10*p)}if(r[0].className="",!0===a.copyInlineStyles)for(i=0;i<r[0].style.length;i++)c.css(r[0].style[i],r.css(r[0].style[i]));if(a.label){var f=t("<label>").addClass("label-for-input").addClass(a.clsLabel).html(a.label).insertBefore(c);r.attr("id")&&f.attr("for",r.attr("id")),"rtl"===r.attr("dir")&&f.addClass("rtl")}r.is(":disabled")?this.disable():this.enable(),this.rating=c},_createEvents:function(){var n=this,i=this.element,s=this.options;this.rating.on(e.events.click,".stars li",(function(){if(!0!==s.static){var e=t(this),o=e.data("value");e.addClass("scale"),setTimeout((function(){e.removeClass("scale")}),300),i.val(o).trigger("change"),e.addClass("on"),e.prevAll().addClass("on"),e.nextAll().removeClass("on"),n._fireEvent("star-click",{value:o,star:e[0]})}}))},val:function(e){var n=this,i=this.element,s=this.options,o=this.rating;if(void 0===e)return this.value;this.value=e>0?Math[s.roundFunc](e):0,i.val(this.value).trigger("change");var r=o.find(".stars li").removeClass("on");return t.each(r,(function(){var e=t(this);e.data("value")<=n.value&&e.addClass("on")})),this},msg:function(e){var t=this.rating;if(void 0!==e)return t.find(".result").html(e),this},static:function(e){var t=this.options,n=this.rating;t.static=e,!0===e?n.addClass("static"):n.removeClass("static")},changeAttributeValue:function(e){var t=this.element,n="value"===e?t.val():t.attr("data-value");this.val(n)},changeAttributeMessage:function(){var e=this.element.attr("data-message");this.msg(e)},changeAttributeStatic:function(){var e=this.element,t=!0===JSON.parse(e.attr("data-static"));this.static(t)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"value":case"data-value":this.changeAttributeValue(e);break;case"disabled":this.toggleState();break;case"data-message":this.changeAttributeMessage();break;case"data-static":this.changeAttributeStatic()}},destroy:function(){var t=this.element;return this.rating.off(e.events.click,".stars li"),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={resizableDeferred:0,canResize:!0,resizeElement:".resize-element",minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,preserveRatio:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onResizableCreate:e.noop};e.resizableSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroResizableSetup&&e.resizableSetup(window.metroResizableSetup),e.Component("resizable",{init:function(e,t){return this._super(t,e,i,{resizer:null,id:n.elementId("resizable")}),this},_create:function(){this._createStructure(),this._createEvents(),this._fireEvent("resizable-create")},_createStructure:function(){var e=this.element,i=this.options;e.data("canResize",!0),e.addClass("resizable-element"),n.isValue(i.resizeElement)&&e.find(i.resizeElement).length>0?this.resizer=e.find(i.resizeElement):this.resizer=t("<span>").addClass("resize-element").appendTo(e),e.data("canResize",i.canResize)},_createEvents:function(){var i=this,s=this.element,o=this.options;this.resizer.on(e.events.start,(function(r){if(!1!==s.data("canResize")){var a=n.pageXY(r),l=parseInt(s.outerWidth()),c=parseInt(s.outerHeight()),h={width:l,height:c};s.addClass("stop-pointer"),i._fireEvent("resize-start",{size:h}),t(document).on(e.events.move,(function(e){var t=n.pageXY(e),r={width:l+t.x-a.x,height:c+t.y-a.y};return o.maxWidth>0&&r.width>o.maxWidth||o.minWidth>0&&r.width<o.minWidth||o.maxHeight>0&&r.height>o.maxHeight||o.minHeight>0&&r.height<o.minHeight||(s.css(r),void i._fireEvent("resize",{size:r}))}),{ns:i.id}),t(document).on(e.events.stop,(function(){s.removeClass("stop-pointer"),t(document).off(e.events.move,{ns:i.id}),t(document).off(e.events.stop,{ns:i.id});var n={width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())};i._fireEvent("resize-stop",{size:n})}),{ns:i.id}),r.preventDefault(),r.stopPropagation()}}))},off:function(){this.element.data("canResize",!1)},on:function(){this.element.data("canResize",!0)},changeAttribute:function(e){var t=this.element,n=this.options;"data-can-resize"===e&&(n.canResize=!0===JSON.parse(t.attr("data-can-resize")))},destroy:function(){return this.resizer.off(e.events.start),this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={resizerDeferred:0,onMediaPoint:e.noop,onMediaPointEnter:e.noop,onMediaPointLeave:e.noop,onWindowResize:e.noop,onElementResize:e.noop,onResizerCreate:e.noop};e.resizerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroResizerSetup&&e.resizerSetup(window.metroResizerSetup),e.Component("resizer",{init:function(e,t){return this._super(t,e,i,{size:{width:0,height:0},media:window.METRO_MEDIA,id:n.elementId("resizer")}),this},_create:function(){var e=this.element;this.size={width:e.width(),height:e.height()},this._createStructure(),this._createEvents(),this._fireEvent("resizer-create",{element:e})},_createStructure:function(){},_createEvents:function(){var e=this,n=this.element,i=t.window();i.on("resize",(function(){var t,s=i.width(),o=i.height(),r=n.width(),a=n.height(),l=e.size;e._fireEvent("window-resize",{width:s,height:o,media:window.METRO_MEDIA}),e.size.width===r&&e.size.height===a||(e.size={width:r,height:a},e._fireEvent("element-resize",{width:r,height:a,oldSize:l,media:window.METRO_MEDIA})),e.media.length!==window.METRO_MEDIA.length&&(e.media.length>window.METRO_MEDIA.length?(t=e.media.filter((function(e){return!window.METRO_MEDIA.includes(e)})),e._fireEvent("media-point-leave",{point:t,media:window.METRO_MEDIA})):(t=window.METRO_MEDIA.filter((function(t){return!e.media.includes(t)})),e._fireEvent("media-point-enter",{point:t,media:window.METRO_MEDIA})),e.media=window.METRO_MEDIA,e._fireEvent("media-point",{point:t,media:window.METRO_MEDIA}))}),{ns:this.id})},changeAttribute:function(){},destroy:function(){t(window).off("resize",{ns:this.id})}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={ribbonmenuDeferred:0,onStatic:e.noop,onBeforeTab:e.noop_true,onTab:e.noop,onRibbonMenuCreate:e.noop};e.ribbonMenuSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRibbonMenuSetup&&e.ribbonMenuSetup(window.metroRibbonMenuSetup),e.Component("ribbon-menu",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("ribbon-menu-create",{element:e})},_createStructure:function(){var e=this.element;e.addClass("ribbon-menu");var n=e.find(".tabs-holder li:not(.static)"),i=e.find(".tabs-holder li.active");i.length>0?this.open(t(i[0])):n.length>0&&this.open(t(n[0]));var s=e.find(".ribbon-toggle-group");t.each(s,(function(){var e=t(this);e.buttongroup({clsActive:"active"});var n=0,i=e.find(".ribbon-icon-button");t.each(i,(function(){var e=t(this).outerWidth(!0);e>n&&(n=e)})),e.css("width",n*Math.ceil(i.length/3)+4)}))},_createEvents:function(){var i=this,s=this.element,o=this.options;s.on(e.events.click,".tabs-holder li a",(function(r){var a=t(this),l=t(this).parent("li");l.hasClass("static")?o.onStatic===e.noop&&void 0!==a.attr("href")?document.location.href=a.attr("href"):i._fireEvent("static",{tab:l[0]}):!0===n.exec(o.onBeforeTab,[l[0]],s[0])&&i.open(l[0]),r.preventDefault()}))},open:function(e){var n=this.element,i=t(e),s=n.find(".tabs-holder li"),o=n.find(".content-holder .section"),r=i.children("a").attr("href"),a="#"!==r?n.find(r):null;s.removeClass("active"),i.addClass("active"),o.removeClass("active"),a&&a.addClass("active"),this._fireEvent("tab",{tab:i[0]})},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".tabs-holder li a"),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={rippleDeferred:0,rippleColor:"#fff",rippleAlpha:.4,rippleTarget:"default",onRippleCreate:e.noop};e.rippleSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroRippleSetup&&e.rippleSetup(window.metroRippleSetup);var s=function(i,s,o,r){var a,l,c=t(i),h=n.rect(c[0]),u=e.colors;if(0!==c.length){n.isValue(s)||(s="#fff"),n.isValue(o)||(o=.4),"static"===c.css("position")&&c.css("position","relative"),c.css({overflow:"hidden"}),t(".ripple").remove();var d=Math.max(c.outerWidth(),c.outerHeight()),p=t("<span class='ripple'></span>").css({width:d,height:d});c.prepend(p),r?(a=r.pageX-c.offset().left-p.width()/2,l=r.pageY-c.offset().top-p.height()/2):(a=h.width/2-p.width()/2,l=h.height/2-p.height()/2),p.css({background:u.toRGBA(s,o),width:d,height:d,top:l+"px",left:a+"px"}).addClass("rippleEffect"),setTimeout((function(){p.remove()}),400)}};e.Component("ripple",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var t=this.element,n=this.options,i="default"===n.rippleTarget?null:n.rippleTarget;t.on(e.events.click,i,(function(e){s(this,n.rippleColor,n.rippleAlpha,e)})),this._fireEvent("riopple-create",{element:t})},changeAttribute:function(t){var n,i,s=this.element,o=this.options;switch(t){case"data-ripple-color":i=s.attr("data-ripple-color"),e.colors.isColor(i)&&(o.rippleColor=i);break;case"data-ripple-alpha":n=+s.attr("data-ripple-alpha"),isNaN(n)||(o.rippleColor=n)}},destroy:function(){var t=this.element,n=this.options,i="default"===n.rippleTarget?null:n.rippleTarget;t.off(e.events.click,i)}}),e.ripple=s}(Metro,m4q),function(e,t){"use strict";var n={onSearcherCreate:e.noop};e.searcherSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroSearcherSetup&&e.searcherSetup(window.metroSearcherSetup),e.Component("searcher",{init:function(e,t){return this._super(t,e,n,{}),this},_create:function(){this.element,this.options,this._createStructure(),this._createEvents(),this._fireEvent("searcher-create")},_createStructure:function(){this.element,this.options},_createEvents:function(){this.element,this.options},changeAttribute:function(e,t){},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={label:"",size:"normal",selectDeferred:0,clearButton:!1,clearButtonIcon:"<span class='default-icon-cross'></span>",usePlaceholder:!1,placeholder:"",addEmptyValue:!1,emptyValue:"",duration:0,prepend:"",append:"",filterPlaceholder:"Search...",filter:!0,copyInlineStyles:!1,dropHeight:200,dropWidth:null,dropFullSize:!1,checkDropUp:!0,dropUp:!1,showGroupName:!1,shortTag:!0,clsSelect:"",clsSelectInput:"",clsPrepend:"",clsAppend:"",clsOption:"",clsOptionActive:"",clsOptionGroup:"",clsDropList:"",clsDropContainer:"",clsSelectedItem:"",clsSelectedItemRemover:"",clsLabel:"",clsGroupName:"",onClear:e.noop,onChange:e.noop,onUp:e.noop,onDrop:e.noop,onItemSelect:e.noop,onItemDeselect:e.noop,onSelectCreate:e.noop};e.selectSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSelectSetup&&e.selectSetup(window.metroSelectSetup),e.Component("select",{init:function(e,t){return this._super(t,e,i,{list:null,placeholder:null}),this},_create:function(){var e=this.element;this._createSelect(),this._createEvents(),this._fireEvent("select-create",{element:e})},_setPlaceholder:function(){var e=this.element,t=this.options,i=e.siblings(".select-input");!0!==t.usePlaceholder||n.isValue(e.val())&&e.val()!=t.emptyValue||i.html(this.placeholder)},_addTag:function(e,n){var i,s,o=this.element,r=this.options,a=o.closest(".select");return i=t("<div>").addClass("tag").addClass(r.shortTag?"short-tag":"").addClass(r.clsSelectedItem).html("<span class='title'>"+e+"</span>").data("option",n),t("<span>").addClass("remover").addClass(r.clsSelectedItemRemover).html("&times;").appendTo(i),a.hasClass("input-large")?s="large":a.hasClass("input-small")&&(s="small"),i.addClass(s),i},_addOption:function(e,i,s,o,r){var a,l,c=t(e),h=this.element,u=this.options,d=n.isValue(c.attr("data-template"))?c.attr("data-template").replace("$1",e.text):e.text,p=c.attr("data-display");a=t("<li>").addClass(u.clsOption).data("option",e).attr("data-text",e.text).attr("data-value",e.value?e.value:""),l=t("<a>").html(d),p&&(a.attr("data-display",p),d=p),a.addClass(e.className),a.data("group",r),c.is(":disabled")&&a.addClass("disabled"),c.is(":selected")&&(u.showGroupName&&r&&(d+="&nbsp;<span class='selected-item__group-name "+u.clsGroupName+"'>"+r+"</span>"),o?(a.addClass("d-none"),s.append(this._addTag(d,a))):(h.val(e.value),s.html(d),h.fire("change",{val:e.value}),a.addClass("active"))),a.append(l).appendTo(i)},_addOptionGroup:function(e,n,i,s){var o=this,r=this.options,a=t(e);t("<li>").html(e.label).addClass("group-title").addClass(r.clsOptionGroup).appendTo(n),t.each(a.children(),(function(){o._addOption(this,n,i,s,e.label)}))},_createOptions:function(){var e=this,n=this.element,i=this.options,s=n.parent().find("ul").empty(),o=n.find("option[selected]").length>0,r=n[0].multiple,a=n.siblings(".select-input");n.siblings(".select-input").empty(),!0===i.addEmptyValue&&n.prepend(t("<option "+(o?"":"selected")+" value='"+i.emptyValue+"' class='d-none'></option>")),t.each(n.children(),(function(){"OPTION"===this.tagName?e._addOption(this,s,a,r,null):"OPTGROUP"===this.tagName&&e._addOptionGroup(this,s,a,r)}))},_createSelect:function(){var i,s,o,r,a,l,c=this,h=this.element,u=this.options,d=t("<label>").addClass("select "+h[0].className).addClass(u.clsSelect),p=h[0].multiple,f=n.elementId("select"),g=t("<div>").addClass("button-group"),m=n.elementId("select-focus-trigger"),v=t("<input type='checkbox'>").addClass("select-focus-trigger").attr("id",m);if(this.placeholder=t("<span>").addClass("placeholder").html(u.placeholder),d.attr("id",f).attr("for",m),d.addClass("input-"+u.size),(l=t("<span>").addClass("dropdown-toggle")).appendTo(d),p&&d.addClass("multiple"),d.insertBefore(h),h.appendTo(d),g.appendTo(d),v.appendTo(d),i=t("<div>").addClass("select-input").addClass(u.clsSelectInput).attr("name","__"+f+"__"),s=t("<div>").addClass("drop-container").addClass(u.clsDropContainer),!1===u.dropFullSize?u.dropWidth&&s.css({width:+u.dropWidth}):d.addClass("drop-full-size"),o=t("<div>").appendTo(s),r=t("<ul>").addClass("option-list").addClass(u.clsDropList).css({"max-height":u.dropHeight}),a=t("<input type='text' data-role='input'>").attr("placeholder",u.filterPlaceholder).appendTo(o),d.append(i),d.append(s),s.append(o),!0!==u.filter&&o.hide(),s.append(r),this._createOptions(),this._setPlaceholder(),e.makePlugin(s,"dropdown",{dropFilter:".select",duration:u.duration,toggleElement:[d],checkDropUp:u.checkDropUp,dropUp:u.dropUp,onDrop:function(){var n,i;l.addClass("active-toggle"),n=t(".select .drop-container"),t.each(n,(function(){var n=t(this);if(!n.is(s)){var i=e.getPlugin(n,"dropdown");i&&i.close&&i.close()}})),a.val("").trigger(e.events.keyup),void 0!==(i=r.find("li.active").length>0?t(r.find("li.active")[0]):void 0)&&(r[0].scrollTop=i.position().top-(r.height()-i.height())/2),c._fireEvent("drop",{list:r[0]})},onUp:function(){l.removeClass("active-toggle"),c._fireEvent("up",{list:r[0]})}}),this.list=r,!0!==u.clearButton||h[0].readOnly?g.addClass("d-none"):t("<button>").addClass("button input-clear-button").addClass(u.clsClearButton).attr("tabindex",-1).attr("type","button").html(u.clearButtonIcon).appendTo(g),""===u.prepend||p||t("<div>").html(u.prepend).addClass("prepend").addClass(u.clsPrepend).appendTo(d),""===u.append||p||t("<div>").html(u.append).addClass("append").addClass(u.clsAppend).appendTo(d),!0===u.copyInlineStyles)for(var w=0,b=h[0].style.length;w<b;w++)d.css(h[0].style[w],h.css(h[0].style[w]));if("rtl"===h.attr("dir")&&d.addClass("rtl").attr("dir","rtl"),u.label){var y=t("<label>").addClass("label-for-input").addClass(u.clsLabel).html(u.label).insertBefore(d);h.attr("id")&&y.attr("for",h.attr("id")),"rtl"===h.attr("dir")&&y.addClass("rtl")}h.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var n=this,i=this.element,s=this.options,o=i.closest(".select"),r=o.find(".drop-container"),a=i.siblings(".select-input"),l=r.find("input"),c=r.find("ul"),h=o.find(".input-clear-button"),u=o.find(".select-focus-trigger");u.on("focus",(function(){o.addClass("focused")})),u.on("blur",(function(){o.removeClass("focused")})),h.on(e.events.click,(function(e){i.val(s.emptyValue),i[0].multiple&&c.find("li").removeClass("d-none"),a.clear(),n._setPlaceholder(),e.preventDefault(),e.stopPropagation(),n._fireEvent("clear"),n._fireEvent("change",{selected:n.getSelected()})})),i.on(e.events.change,(function(){n._setPlaceholder()})),o.on(e.events.click,(function(){t(".focused").removeClass("focused"),o.addClass("focused")})),a.on(e.events.click,(function(){t(".focused").removeClass("focused"),o.addClass("focused")})),c.on(e.events.click,"li",(function(o){if(t(this).hasClass("group-title"))return o.preventDefault(),void o.stopPropagation();var l,h=t(this),u=h.attr("data-display"),d=h.data("value"),p=h.data("group"),f=u||h.children("a").html(),g=h.data("option"),m=i.find("option");s.showGroupName&&p&&(f+="&nbsp;<span class='selected-item__group-name "+s.clsGroupName+"'>"+p+"</span>"),i[0].multiple?(h.addClass("d-none"),a.append(n._addTag(f,h))):(c.find("li.active").removeClass("active").removeClass(s.clsOptionActive),h.addClass("active").addClass(s.clsOptionActive),a.html(f),e.getPlugin(r,"dropdown").close()),t.each(m,(function(){this===g&&(this.selected=!0)})),n._fireEvent("item-select",{val:d,option:g,leaf:h[0]}),l=n.getSelected(),n._fireEvent("change",{selected:l})})),a.on("click",".tag .remover",(function(e){var s,o=t(this).closest(".tag"),r=o.data("option"),a=r.data("option");r.removeClass("d-none"),t.each(i.find("option"),(function(){this===a&&(this.selected=!1)})),o.remove(),n._fireEvent("item-deselect",{option:a}),s=n.getSelected(),n._fireEvent("change",{selected:s}),e.preventDefault(),e.stopPropagation()})),l.on(e.events.keyup,(function(){var e,n=this.value.toUpperCase(),i=c.find("li");for(e=0;e<i.length;e++)t(i[e]).hasClass("group-title")||(i[e].getElementsByTagName("a")[0].innerHTML.toUpperCase().indexOf(n)>-1?i[e].style.display="":i[e].style.display="none")})),l.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()})),r.on(e.events.click,(function(e){e.preventDefault(),e.stopPropagation()}))},disable:function(){this.element.data("disabled",!0),this.element.closest(".select").addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.closest(".select").removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},reset:function(e){var i,s=this.element,o=s.find("option"),r=s.closest(".select");t.each(o,(function(){this.selected=!n.isNull(e)&&this.defaultSelected})),this.list.find("li").remove(),r.find(".select-input").html(""),this._createOptions(),i=this.getSelected(),this._fireEvent("change",{selected:i})},getSelected:function(){var e=this.element,t=[];return e.find("option").each((function(){this.selected&&t.push(this.value)})),t},val:function(e){var i,s,o,r,a,l,c=this,h=this.element,u=this.options,d=h.siblings(".select-input"),p=h.find("option"),f=this.list.find("li"),g=[],m=void 0!==h.attr("multiple");if(n.isNull(e))return t.each(p,(function(){this.selected&&g.push(this.value)})),m?g:g[0];t.each(p,(function(){this.selected=!1})),f.removeClass("active").removeClass(u.clsOptionActive),d.html(""),!1===Array.isArray(e)&&(e=[e]),t.each(e,(function(){for(s=0;s<p.length;s++)if(i=p[s],o=n.isValue(i.getAttribute("data-template"))?i.getAttribute("data-template").replace("$1",i.text):i.text,""+i.value==""+this){i.selected=!0;break}for(s=0;s<f.length;s++)if(r=t(f[s]),l=r.data("group"),""+r.attr("data-value")==""+this){u.showGroupName&&l&&(o+="&nbsp;<span class='selected-item__group-name'>"+l+"</span>"),m?(r.addClass("d-none"),d.append(c._addTag(o,r))):(r.addClass("active").addClass(u.clsOptionActive),d.html(o));break}})),a=this.getSelected(),this._fireEvent("change",{selected:a})},options:function(e,t,n){return this.data(e,t,n)},data:function(e,i,s){var o,r,a=this.element,l=s||",";return r="string"==typeof i?i.toArray(l).map((function(e){return isNaN(e)?e:+e})):Array.isArray(i)?i.slice().map((function(e){return isNaN(e)?e:+e})):[],a.empty(),"string"==typeof e?a.html(e):n.isObject2(e)&&t.each(e,(function(e,i){if(n.isObject2(i))o=t("<optgroup label=''>").attr("label",e).appendTo(a),t.each(i,(function(e,n){var i=t("<option>").attr("value",e).text(n).appendTo(o);r.indexOf(+e)>-1&&i.prop("selected",!0)}));else{var s=t("<option>").attr("value",e).text(i).appendTo(a);r.indexOf(e)>-1&&s.prop("selected",!0)}})),this._createOptions(),this},addOption:function(e,n,i){var s=this.element,o=t("<option>").attr("value",e).text(n||e);return s.append(o),i&&o.prop("selected",!0),this._createOptions(),this},addOptions:function(n){var i=this;return n?(Array.isArray(n)?t.each(n,(function(){var t=this;e.utils.isObject2(t)?i.addOption(t.val,t.title,t.selected):i.addOption(t)})):e.utils.isObject2(n)&&t.each(n,(function(e,t){i.addOption(e,t)})),this):this},removeOption:function(e){return this.element.find("option").each((function(){var n=t(this);n.attr("value")==e&&n.remove()})),this._createOptions(),this},removeOptions:function(e){var n=this.element.find("option");return e&&Array.isArray(e)?(n.each((function(){var n=t(this),i=n.attr("value");e.indexOf(i)>-1&&n.remove()})),this._createOptions(),this):this},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){var t=this.element,n=t.closest(".select"),i=n.find(".drop-container"),s=t.siblings(".select-input"),o=i.find("input"),r=i.find("ul"),a=n.find(".input-clear-button");return n.off(e.events.click),n.off(e.events.click,".input-clear-button"),s.off(e.events.click),o.off(e.events.blur),o.off(e.events.focus),r.off(e.events.click,"li"),o.off(e.events.keyup),i.off(e.events.click),a.off(e.events.click),i.data("dropdown").destroy(),t}}),t(document).on(e.events.click,(function(){t(".select").removeClass("focused")}),{ns:"blur-select-elements"})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={menuScrollbar:!1,sidebarDeferred:0,shadow:!0,position:"left",size:290,shift:null,staticShift:null,toggle:null,duration:METRO_ANIMATION_DURATION,static:null,menuItemClick:!0,closeOutside:!0,onOpen:e.noop,onClose:e.noop,onToggle:e.noop,onStaticSet:e.noop,onStaticLoss:e.noop,onSidebarCreate:e.noop};e.sidebarSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSidebarSetup&&e.sidebarSetup(window.metroSidebarSetup),e.Component("sidebar",{init:function(e,t){return this._super(t,e,i,{toggle_element:null,id:n.elementId("sidebar")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),t(window).resize(),this._checkStatic(),this._fireEvent("sidebar-create",{element:e})},_createStructure:function(){var i=this.element,s=this.options,o=i.find(".sidebar-header"),r=e.sheet,a=i.find(".sidebar-menu");i.addClass("sidebar").addClass("on-"+s.position),!1===s.menuScrollbar&&a.addClass("hide-scroll"),290!==s.size&&(n.addCssRule(r,".sidebar","width: "+s.size+"px;"),"left"===s.position?n.addCssRule(r,".sidebar.on-left","left: "+-s.size+"px;"):n.addCssRule(r,".sidebar.on-right","right: "+-s.size+"px;")),!0===s.shadow&&i.addClass("sidebar-shadow"),null!==s.toggle&&t(s.toggle).length>0&&(this.toggle_element=t(s.toggle)),o.length>0&&void 0!==o.data("image")&&o.css({backgroundImage:"url("+o.data("image")+")"}),null!==s.static&&null!==s.staticShift&&("left"===s.position?n.addCssRule(r,"@media screen and "+e.media_queries[s.static.toUpperCase()],s.staticShift+"{margin-left: "+s.size+"px; width: calc(100% - "+s.size+"px);}"):n.addCssRule(r,"@media screen and "+e.media_queries[s.static.toUpperCase()],s.staticShift+"{margin-right: "+s.size+"px; width: calc(100% - "+s.size+"px);}"))},_createEvents:function(){var n=this,i=this.element,s=this.options,o=this.toggle_element;null!==o?o.on(e.events.click,(function(e){n.toggle(),e.stopPropagation()})):s.toggle&&t.document().on("click",s.toggle,(function(e){n.toggle(),e.stopPropagation()})),null!==s.static&&["fs","sm","md","lg","xl","xxl"].indexOf(s.static)>-1&&t(window).on(e.events.resize,(function(){n._checkStatic()}),{ns:this.id}),!0===s.menuItemClick&&i.on(e.events.click,".sidebar-menu li > a",(function(e){n.close(),e.stopPropagation()})),i.on(e.events.click,".sidebar-menu .js-sidebar-close",(function(e){n.close(),e.stopPropagation()})),i.on(e.events.click,(function(e){e.stopPropagation()})),t(document).on(e.events.click,(function(){!0===s.closeOutside&&n.isOpen()&&n.close()}))},_checkStatic:function(){var e=this.element,i=this.options;n.mediaExist(i.static)&&!e.hasClass("static")&&(e.addClass("static"),e.data("opened",!1).removeClass("open"),null!==i.shift&&t.each(i.shift.split(","),(function(){t(this).animate({draw:{left:0},dur:i.duration})})),this._fireEvent("static-set")),n.mediaExist(i.static)||(e.removeClass("static"),this._fireEvent("static-loss"))},isOpen:function(){return!0===this.element.data("opened")},open:function(){var e=this.element,n=this.options;e.hasClass("static")||(e.data("opened",!0).addClass("open"),null!==n.shift&&t(n.shift).animate({draw:{left:e.outerWidth()},dur:n.duration}),this._fireEvent("open"))},close:function(){var e=this.element,n=this.options;e.hasClass("static")||(e.data("opened",!1).removeClass("open"),null!==n.shift&&t(n.shift).animate({draw:{left:0},dur:n.duration}),this._fireEvent("close"))},toggle:function(){this.isOpen()?this.close():this.open(),this._fireEvent("toggle")},changeAttribute:function(){},destroy:function(){var n=this.element,i=this.options,s=this.toggle_element;return null!==s&&s.off(e.events.click),null!==i.static&&["fs","sm","md","lg","xl","xxl"].indexOf(i.static)>-1&&t(window).off(e.events.resize,{ns:this.id}),!0===i.menuItemClick&&n.off(e.events.click,".sidebar-menu li > a"),n.off(e.events.click,".sidebar-menu .js-sidebar-close"),n}}),e.sidebar={isSidebar:function(e){return n.isMetroObject(e,"sidebar")},open:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").open()},close:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").close()},toggle:function(t){this.isSidebar(t)&&e.getPlugin(t,"sidebar").toggle()},isOpen:function(t){if(this.isSidebar(t))return e.getPlugin(t,"sidebar").isOpen()}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={sliderDeferred:0,roundValue:!0,min:0,max:100,accuracy:0,showMinMax:!1,minMaxPosition:e.position.TOP,value:0,buffer:0,hint:!1,hintAlways:!1,hintPosition:e.position.TOP,hintMask:"$1",vertical:!1,target:null,returnType:"value",size:0,clsSlider:"",clsBackside:"",clsComplete:"",clsBuffer:"",clsMarker:"",clsHint:"",clsMinMax:"",clsMin:"",clsMax:"",onStart:e.noop,onStop:e.noop,onMove:e.noop,onSliderClick:e.noop,onChange:e.noop,onChangeValue:e.noop,onChangeBuffer:e.noop,onFocus:e.noop,onBlur:e.noop,onSliderCreate:e.noop};e.sliderSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSliderSetup&&e.sliderSetup(window.metroSliderSetup),e.Component("slider",{init:function(e,t){return this._super(t,e,i,{slider:null,value:0,percent:0,pixel:0,buffer:0,keyInterval:!1,id:n.elementId("slider")}),this},_create:function(){var e=this.element,t=this.options;this._createSlider(),this._createEvents(),this.buff(t.buffer),this.val(t.value),this._fireEvent("slider-create",{element:e})},_createSlider:function(){var n,i=this.element,s=this.options,o=i.prev(),r=i.parent(),a=t("<div>").addClass("slider "+i[0].className).addClass(s.clsSlider),l=t("<div>").addClass("backside").addClass(s.clsBackside),c=t("<div>").addClass("complete").addClass(s.clsComplete),h=t("<div>").addClass("buffer").addClass(s.clsBuffer),u=t("<button>").attr("type","button").addClass("marker").addClass(s.clsMarker),d=t("<div>").addClass("hint").addClass(s.hintPosition+"-side").addClass(s.clsHint);if(s.size>0&&(!0===s.vertical?a.outerHeight(s.size):a.outerWidth(s.size)),!0===s.vertical&&a.addClass("vertical-slider"),0===o.length?r.prepend(a):a.insertAfter(o),!0===s.hintAlways&&d.css({display:"block"}).addClass("permanent-hint"),i.appendTo(a),l.appendTo(a),c.appendTo(a),h.appendTo(a),u.appendTo(a),d.appendTo(u),!0===s.showMinMax){var p=t("<div>").addClass("slider-min-max").addClass(s.clsMinMax);t("<span>").addClass("slider-text-min").addClass(s.clsMin).html(s.min).appendTo(p),t("<span>").addClass("slider-text-max").addClass(s.clsMax).html(s.max).appendTo(p),s.minMaxPosition===e.position.TOP?p.insertBefore(a):p.insertAfter(a)}if(i[0].className="",!0===s.copyInlineStyles)for(n=0;n<i[0].style.length;n++)a.css(i[0].style[n],i.css(i[0].style[n]));i.is(":disabled")?this.disable():this.enable(),this.slider=a},_createEvents:function(){var n=this,i=this.slider,s=this.options,o=i.find(".marker"),r=i.find(".hint");o.on(e.events.startAll,(function(){!0===s.hint&&!0!==s.hintAlways&&r.fadeIn(300),t(document).on(e.events.moveAll,(function(e){e.cancelable&&e.preventDefault(),n._move(e),n._fireEvent("move",{val:n.value,percent:n.percent})}),{ns:n.id,passive:!1}),t(document).on(e.events.stopAll,(function(){t(document).off(e.events.moveAll,{ns:n.id}),t(document).off(e.events.stopAll,{ns:n.id}),!0!==s.hintAlways&&r.fadeOut(300),n._fireEvent("stop",{val:n.value,percent:n.percent})}),{ns:n.id}),n._fireEvent("start",{val:n.value,percent:n.percent})})),o.on(e.events.focus,(function(){n._fireEvent("focus",{val:n.value,percent:n.percent})})),o.on(e.events.blur,(function(){n._fireEvent("blur",{val:n.value,percent:n.percent})})),o.on(e.events.keydown,(function(e){var t=e.keyCode?e.keyCode:e.which;if(-1!==[37,38,39,40].indexOf(t)){var i=0===s.accuracy?1:s.accuracy;n.keyInterval||(n.keyInterval=setInterval((function(){var t=n.value;37!==e.keyCode&&40!==e.keyCode||(t-i<s.min?t=s.min:t-=i),38!==e.keyCode&&39!==e.keyCode||(t+i>s.max?t=s.max:t+=i),n.value=n._correct(t),n.percent=n._convert(n.value,"val2prc"),n.pixel=n._convert(n.percent,"prc2pix"),n._redraw()}),100),e.preventDefault())}})),o.on(e.events.keyup,(function(){clearInterval(n.keyInterval),n.keyInterval=!1})),i.on(e.events.click,(function(e){n._move(e),n._fireEvent("slider-click",{val:n.value,percent:n.percent}),n._fireEvent("stop",{val:n.value,percent:n.percent})})),t(window).on(e.events.resize,(function(){n.val(n.value),n.buff(n.buffer)}),{ns:n.id})},_convert:function(e,t){var n=this.slider,i=this.options,s=(!0===i.vertical?n.outerHeight():n.outerWidth())-n.find(".marker").outerWidth();switch(t){case"pix2prc":return 100*e/s;case"pix2val":return this._convert(e,"pix2prc")*((i.max-i.min)/100)+i.min;case"val2prc":return(e-i.min)/((i.max-i.min)/100);case"prc2pix":return e/(100/s);case"val2pix":return this._convert(this._convert(e,"val2prc"),"prc2pix")}return 0},_correct:function(e){var t=e,i=this.options.accuracy,s=this.options.min,o=this.options.max;return 0===i||isNaN(i)?t:((t=Math.round(e/i)*i)<s&&(t=s),t>o&&(t=o),t.toFixed(n.decCount(i)))},_move:function(e){var t,i,s=this.slider,o=this.options,r=s.offset(),a=s.find(".marker").outerWidth(),l=!0===o.vertical?s.outerHeight():s.outerWidth(),c=l-a;t=!0===o.vertical?n.pageXY(e).y-r.top:n.pageXY(e).x-r.left,(i=!0===o.vertical?l-t-a/2:t-a/2)<0||i>c||(this.value=this._correct(this._convert(i,"pix2val")),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw())},_hint:function(){var e=this.options,t=this.slider.find(".hint"),i=+this.value||0,s=+this.percent||0;e.roundValue&&(i=(n.isValue(i)?+i:0).toFixed(n.decCount(e.accuracy)),s=(n.isValue(s)?+s:0).toFixed(n.decCount(e.accuracy))),t.text(e.hintMask.replace("$1",i).replace("$2",s))},_value:function(){var e=this.element,i=this.options,s="value"===i.returnType?this.value:this.percent,o=this.percent,r=this.buffer;if(i.roundValue&&(s=(n.isValue(s)?+s:0).toFixed(n.decCount(i.accuracy)),o=(n.isValue(o)?+o:0).toFixed(n.decCount(i.accuracy)),r=(n.isValue(r)?+r:0).toFixed(n.decCount(i.accuracy))),"INPUT"===e[0].tagName&&e.val(s),null!==i.target){var a=t(i.target);0!==a.length&&t.each(a,(function(){var e=t(this);"INPUT"===this.tagName?e.val(s):e.text(s),e.trigger("change")}))}this._fireEvent("change-value",{val:s}),this._fireEvent("change",{val:s,percent:o,buffer:r})},_marker:function(){var e=this.slider,t=this.options,i=e.find(".marker"),s=e.find(".complete"),o=!0===t.vertical?e.outerHeight():e.outerWidth(),r=parseInt(n.getStyleOne(i,"width")),a=n.isVisible(e);a&&i.css({"margin-top":0,"margin-left":0}),!0===t.vertical?(a?i.css("top",o-this.pixel):(i.css("top",100-this.percent+"%"),i.css("margin-top",r/2)),s.css("height",this.percent+"%")):(a?i.css("left",this.pixel):(i.css("left",this.percent+"%"),i.css("margin-left",0===this.percent?0:-1*r/2)),s.css("width",this.percent+"%"))},_redraw:function(){this._marker(),this._value(),this._hint()},_buffer:function(){var e=this.element,t=this.options,n=this.slider.find(".buffer");!0===t.vertical?n.css("height",this.buffer+"%"):n.css("width",this.buffer+"%"),this._fireEvent("change-buffer",{val:this.buffer}),this._fireEvent("change",{val:e.val(),percent:this.percent,buffer:this.buffer})},val:function(e){var t=this.options;if(void 0===e||isNaN(e))return this.value;e<t.min&&(e=t.min),e>t.max&&(e=t.max),this.value=this._correct(e),this.percent=this._convert(this.value,"val2prc"),this.pixel=this._convert(this.percent,"prc2pix"),this._redraw()},buff:function(e){var t=this.slider.find(".buffer");return void 0===e||isNaN(e)?this.buffer:0!==t.length&&((e=parseInt(e))>100&&(e=100),e<0&&(e=0),this.buffer=e,void this._buffer())},changeValue:function(){var e=this.element,t=this.options,n=e.attr("data-value");n<t.min&&(n=t.min),n>t.max&&(n=t.max),this.val(n)},changeBuffer:function(){var e=this.element,t=parseInt(e.attr("data-buffer"));t<0&&(t=0),t>100&&(t=100),this.buff(t)},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){switch(e){case"data-value":this.changeValue();break;case"data-buffer":this.changeBuffer();break;case"disabled":this.toggleState()}},destroy:function(){var n=this.element,i=this.slider,s=i.find(".marker");return s.off(e.events.startAll),s.off(e.events.focus),s.off(e.events.blur),s.off(e.events.keydown),s.off(e.events.keyup),i.off(e.events.click),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={sorterDeferred:0,thousandSeparator:",",decimalSeparator:",",sortTarget:null,sortSource:null,sortDir:"asc",sortStart:!0,saveInitial:!0,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSorterCreate:e.noop};e.sorterSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSorterSetup&&e.sorterSetup(window.metroSorterSetup),e.Component("sorter",{init:function(e,t){return this._super(t,e,i,{initial:[]}),this},_create:function(){var e=this.element;this._createStructure(),this._fireEvent("sorter-create",{element:e})},_createStructure:function(){var e=this.element,t=this.options;null===t.sortTarget&&(t.sortTarget=e.children()[0].tagName),this.initial=e.find(t.sortTarget).get(),!0===t.sortStart&&this.sort(t.sortDir)},_getItemContent:function(e){var t,i,s,o,r=this.options;if(n.isValue(r.sortSource)){if(t="",(i=e.getElementsByClassName(r.sortSource)).length>0)for(s=0;s<i.length;s++)t+=i[s].textContent;o=i[0].dataset.format}else t=e.textContent,o=e.dataset.format;if(t=(""+t).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),n.isValue(o))switch(-1===["number","int","float","money"].indexOf(o)||","===r.thousandSeparator&&"."===r.decimalSeparator||(t=n.parseNumber(t,r.thousandSeparator,r.decimalSeparator)),o){case"date":t=n.isDate(t)?new Date(t):"";break;case"number":t=Number(t);break;case"int":t=parseInt(t);break;case"float":t=parseFloat(t);break;case"money":t=n.parseMoney(t);break;case"card":t=n.parseCard(t);break;case"phone":t=n.parsePhone(t)}return t},sort:function(e){var i,s,o=this,r=this.element,a=this.options,l=n.elementId("temp");void 0!==e&&(a.sortDir=e),0!==(i=r.find(a.sortTarget).get()).length&&(s=t("<div>").attr("id",l).insertBefore(t(r.find(a.sortTarget)[0])),this._fireEvent("sort-start",{items:i}),i.sort((function(e,t){var n=o._getItemContent(e),i=o._getItemContent(t),s=0;return n<i&&(s=-1),n>i&&(s=1),0!==s&&o._fireEvent("sort-item-switch",{a:e,b:t,result:s}),s})),"desc"===a.sortDir&&i.reverse(),r.find(a.sortTarget).remove(),t.each(i,(function(){var e=t(this);e.insertAfter(s),s=e})),t("#"+l).remove(),this._fireEvent("sort-stop",{items:i}))},reset:function(){var e,i,s=this.element,o=this.options,r=n.elementId("sorter");0!==(e=this.initial).length&&(i=t("<div>").attr("id",r).insertBefore(t(s.find(o.sortTarget)[0])),s.find(o.sortTarget).remove(),t.each(e,(function(){var e=t(this);e.insertAfter(i),i=e})),t("#"+r).remove())},changeAttribute:function(e){var t,n,i=this.element,s=this.options;switch(e){case"data-sort-dir":""!==(n=i.attr("data-sort-dir").trim())&&(s.sortDir=n,this.sort());break;case"data-sort-content":""!==(t=i.attr("data-sort-content").trim())&&(s.sortContent=t,this.sort())}},destroy:function(){return this.element}}),e.sorter={create:function(e,t){return n.$()(e).sorter(t)},isSorter:function(e){return n.isMetroObject(e,"sorter")},sort:function(t,n){if(!this.isSorter(t))return!1;void 0===n&&(n="asc"),e.getPlugin(t,"sorter").sort(n)},reset:function(t){if(!this.isSorter(t))return!1;e.getPlugin(t,"sorter").reset()}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={spinnerDeferred:0,label:"",step:1,plusIcon:"<span class='default-icon-plus'></span>",minusIcon:"<span class='default-icon-minus'></span>",buttonsPosition:"default",defaultValue:0,minValue:null,maxValue:null,fixed:0,repeatThreshold:1e3,hideCursor:!1,clsSpinner:"",clsSpinnerInput:"",clsSpinnerButton:"",clsSpinnerButtonPlus:"",clsSpinnerButtonMinus:"",clsLabel:"",onBeforeChange:e.noop_true,onChange:e.noop,onPlusClick:e.noop,onMinusClick:e.noop,onArrowUp:e.noop,onArrowDown:e.noop,onButtonClick:e.noop,onArrowClick:e.noop,onSpinnerCreate:e.noop};e.spinnerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSpinnerSetup&&e.spinnerSetup(window.metroSpinnerSetup),e.Component("spinner",{init:function(e,t){return this._super(t,e,i,{repeat_timer:!1}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("spinner-create",{element:e})},_createStructure:function(){var e=this.element,i=this.options,s=t("<div>").addClass("spinner").addClass("buttons-"+i.buttonsPosition).addClass(e[0].className).addClass(i.clsSpinner),o=t("<button>").attr("type","button").addClass("button spinner-button spinner-button-plus").addClass(i.clsSpinnerButton+" "+i.clsSpinnerButtonPlus).html(i.plusIcon),r=t("<button>").attr("type","button").addClass("button spinner-button spinner-button-minus").addClass(i.clsSpinnerButton+" "+i.clsSpinnerButtonMinus).html(i.minusIcon),a=e.val().trim();if(n.isValue(a)||e.val(0),e[0].className="",s.insertBefore(e),e.appendTo(s).addClass(i.clsSpinnerInput),e.addClass("original-input"),o.appendTo(s),r.appendTo(s),!0===i.hideCursor&&s.addClass("hide-cursor"),i.label){var l=t("<label>").addClass("label-for-input").addClass(i.clsLabel).html(i.label).insertBefore(s);e.attr("id")&&l.attr("for",e.attr("id")),"rtl"===e.attr("dir")&&l.addClass("rtl")}!0===i.disabled||e.is(":disabled")?this.disable():this.enable()},_createEvents:function(){var n,i=this,s=this.element,o=this.options,r=s.closest(".spinner"),a=r.find(".spinner-button"),l=function(e,t){var n=[e?"plus-click":"minus-click",e?"arrow-up":"arrow-down","button-click","arrow-click"],r=+s.val(),a=+s.val(),c=+o.step;e?a+=c:a-=c,i._setValue(a.toFixed(o.fixed),!0),i._fireEvents(n,{curr:r,val:a,elementVal:s.val(),button:e?"plus":"minus"}),setTimeout((function(){i.repeat_timer&&l(e,100)}),t)};r.on(e.events.click,(function(e){t(".focused").removeClass("focused"),r.addClass("focused"),e.preventDefault(),e.stopPropagation()})),a.on(e.events.startAll,(function(e){var n=t(this).closest(".spinner-button").hasClass("spinner-button-plus");i.repeat_timer||(i.repeat_timer=!0,l(n,o.repeatThreshold),e.preventDefault())})),a.on(e.events.stopAll,(function(){i.repeat_timer=!1})),s.on(e.events.keydown,(function(t){if(t.keyCode===e.keyCode.UP_ARROW||t.keyCode===e.keyCode.DOWN_ARROW){if(i.repeat_timer)return;i.repeat_timer=!0,l(t.keyCode===e.keyCode.UP_ARROW,o.repeatThreshold)}else{var s=t.key;"Backspace"===s||"Delete"===s||"ArrowLeft"===s||"ArrowRight"===s||(isNaN(s)||parseInt(s)<0&&parseInt(s)>9)&&t.preventDefault(),n=parseInt(this.value)}})),s.on(e.events.keyup,(function(){var e=parseInt(this.value);(o.minValue&&e<o.minValue||o.maxValue&&e>o.maxValue)&&(this.value=n)})),r.on(e.events.keyup,(function(){i.repeat_timer=!1}))},_setValue:function(e,t){var i=this.element,s=this.options;!0===n.exec(s.onBeforeChange,[e],i[0])&&(n.isValue(s.maxValue)&&e>Number(s.maxValue)&&(e=Number(s.maxValue)),n.isValue(s.minValue)&&e<Number(s.minValue)&&(e=Number(s.minValue)),i.val(e),this._fireEvent("change",{val:e},!1,!0),!0===t&&i.fire("change",{val:e}))},val:function(e){var t=this.element,i=this.options;if(!n.isValue(e))return t.val();this._setValue(e.toFixed(i.fixed),!0)},toDefault:function(){var e=this.options,t=n.isValue(e.defaultValue)?Number(e.defaultValue):0;this._setValue(t.toFixed(e.fixed),!0),this._fireEvent("change",{val:t})},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){var t,i=this.element;switch(e){case"disabled":this.toggleState();break;case"value":t=i.attr("value").trim(),n.isValue(t)&&this._setValue(Number(t),!1)}},destroy:function(){var t=this.element,n=t.closest(".spinner"),i=n.find(".spinner-button");return n.off(e.events.click),i.off(e.events.start),i.off(e.events.stop),t.off(e.events.keydown),n.off(e.events.keyup),t}}),t(document).on(e.events.click,(function(){t(".spinner").removeClass("focused")}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i=e.storage,s={splitterDeferred:0,splitMode:"horizontal",splitSizes:null,gutterSize:4,minSizes:null,children:"*",gutterClick:"expand",saveState:!1,onResizeStart:e.noop,onResizeStop:e.noop,onResizeSplit:e.noop,onResizeWindow:e.noop,onSplitterCreate:e.noop};e.splitterSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroSplitterSetup&&e.splitterSetup(window.metroSplitterSetup),e.Component("splitter",{init:function(e,t){return this._super(t,e,s,{storage:n.isValue(i)?i:null,storageKey:"SPLITTER:",id:n.elementId("splitter")}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("splitter-create",{element:e})},_createStructure:function(){var e,i=this.element,s=this.options,o=i.children(s.children).addClass("split-block"),r=[],a="horizontal"===s.splitMode?"width":"height";for(i.addClass("splitter"),"vertical"===s.splitMode.toLowerCase()&&i.addClass("vertical"),e=0;e<o.length-1;e++)t("<div>").addClass("gutter").css(a,s.gutterSize).insertAfter(t(o[e]));if(this._setSize(),n.isValue(s.minSizes))if((""+s.minSizes).includes(","))for(r=s.minSizes.toArray(),e=0;e<r.length;e++)t(o[e]).data("min-size",r[e]),o[e].style.setProperty("min-"+a,(""+r[e]).includes("%")?r[e]:(""+r[e]).replace("px","")+"px","important");else t.each(o,(function(){this.style.setProperty("min-"+a,(""+s.minSizes).includes("%")?s.minSizes:(""+s.minSizes).replace("px","")+"px","important")}));s.saveState&&null!==this.storage&&this._getSize()},_setSize:function(){var e,i,s,o=this.element,r=this.options,a=o.children(".split-block");if(e=o.children(".gutter"),n.isValue(r.splitSizes))for(i=r.splitSizes.toArray(),s=0;s<i.length;s++)t(a[s]).css({flexBasis:"calc("+i[s]+"% - "+e.length*r.gutterSize+"px)"});else a.css({flexBasis:"calc("+100/a.length+"% - "+e.length*r.gutterSize+"px)"})},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.children(".gutter");r.on(e.events.startAll,(function(a){var l="horizontal"===o.splitMode?s.width():s.height(),c=t(this),h=c.prev(".split-block"),u=c.next(".split-block"),d=100*("horizontal"===o.splitMode?h.outerWidth(!0):h.outerHeight(!0))/l,p=100*("horizontal"===o.splitMode?u.outerWidth(!0):u.outerHeight(!0))/l,f=n.getCursorPosition(s[0],a);c.addClass("active"),h.addClass("stop-pointer"),u.addClass("stop-pointer"),i._fireEvent("resize-start",{pos:f,gutter:c[0],prevBlock:h[0],nextBlock:u[0]}),t(window).on(e.events.moveAll,(function(e){var t,a=n.getCursorPosition(s[0],e);t="horizontal"===o.splitMode?100*a.x/l-100*f.x/l:100*a.y/l-100*f.y/l,h.css("flex-basis","calc("+(d+t)+"% - "+r.length*o.gutterSize+"px)"),u.css("flex-basis","calc("+(p-t)+"% - "+r.length*o.gutterSize+"px)"),i._fireEvent("resize-split",{pos:a,gutter:c[0],prevBlock:h[0],nextBlock:u[0]})}),{ns:i.id}),t(window).on(e.events.stopAll,(function(o){var r;h.removeClass("stop-pointer"),u.removeClass("stop-pointer"),i._saveSize(),c.removeClass("active"),t(window).off(e.events.moveAll,{ns:i.id}),t(window).off(e.events.stopAll,{ns:i.id}),r=n.getCursorPosition(s[0],o),i._fireEvent("resize-stop",{pos:r,gutter:c[0],prevBlock:h[0],nextBlock:u[0]})}),{ns:i.id})})),t(window).on(e.events.resize,(function(){var e=s.children(".gutter"),t=e.prev(".split-block"),n=e.next(".split-block");i._fireEvent("resize-window",{prevBlock:t[0],nextBlock:n[0]})}),{ns:i.id})},_saveSize:function(){var e=this.element,n=this.options,i=this.storage,s=[],o=e.attr("id")||this.id;!0===n.saveState&&null!==i&&(t.each(e.children(".split-block"),(function(){var e=t(this);s.push(e.css("flex-basis"))})),i&&i.setItem(this.storageKey+o,s))},_getSize:function(){var e=this.element,i=this.options,s=this.storage,o=[],r=e.attr("id")||this.id;!0===i.saveState&&null!==s&&(o=s.getItem(this.storageKey+r),t.each(e.children(".split-block"),(function(e,i){var s=t(i);n.isValue(o)&&n.isValue(o[e])&&s.css("flex-basis",o[e])})))},size:function(e){var t=this.options;return n.isValue(e)&&(t.splitSizes=e,this._setSize()),this},changeAttribute:function(e){var t,n=this.element;"data-split-sizes"===e&&(t=n.attr("data-split-sizes"),this.size(t))},destroy:function(){var t=this.element;return t.children(".gutter").off(e.events.start),t}})}(Metro,m4q),function(e,t){"use strict";var n={stepperDeferred:0,view:e.stepperView.SQUARE,steps:3,step:1,stepClick:!1,clsStepper:"",clsStep:"",clsComplete:"",clsCurrent:"",onStep:e.noop,onStepClick:e.noop,onStepperCreate:e.noop};e.stepperSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroStepperSetup&&e.stepperSetup(window.metroStepperSetup),e.Component("stepper",{init:function(e,t){return this._super(t,e,n,{current:0}),this},_create:function(){var e=this.element,t=this.options;t.step<=0&&(t.step=1),this._createStepper(),this._createEvents(),this._fireEvent("stepper-create",{element:e})},_createStepper:function(){var e,n=this.element,i=this.options;for(n.addClass("stepper").addClass(i.view).addClass(i.clsStepper),e=1;e<=i.steps;e++)t("<span>").addClass("step").addClass(i.clsStep).data("step",e).html("<span>"+e+"</span>").appendTo(n);this.current=1,this.toStep(i.step)},_createEvents:function(){var n=this,i=this.element,s=this.options;i.on(e.events.click,".step",(function(){var e=t(this).data("step");!0===s.stepClick&&(n.toStep(e),n._fireEvent("step-click",{step:e}))}))},next:function(){var e=this.element.find(".step");this.current+1>e.length||(this.current++,this.toStep(this.current))},prev:function(){this.current-1!=0&&(this.current--,this.toStep(this.current))},last:function(){var e=this.element;this.toStep(e.find(".step").length)},first:function(){this.toStep(1)},toStep:function(e){var n=this.element,i=this.options,s=t(n.find(".step").get(e-1)),o=this.current;0!==s.length&&(this.current=e,n.find(".step").removeClass("complete current").removeClass(i.clsCurrent).removeClass(i.clsComplete),s.addClass("current").addClass(i.clsCurrent),s.prevAll().addClass("complete").addClass(i.clsComplete),this._fireEvent("step",{step:this.current,prev:o}))},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".step"),t}})}(Metro,m4q),function(e){"use strict";var t=e.utils,n=function(e){return new n.init(e)};n.prototype={setKey:function(e){this.key=e},getKey:function(){return this.key},setItem:function(e,t){this.storage.setItem(this.key+":"+e,JSON.stringify(t))},getItem:function(e,n,i){var s,o;o=this.storage.getItem(this.key+":"+e);try{s=JSON.parse(o,i)}catch(e){s=null}return t.nvl(s,n)},getItemPart:function(e,t,n,i){var s,o=this.getItem(e,n,i);for(t=t.split("->"),s=0;s<t.length;s++)o=o[t[s]];return o},delItem:function(e){this.storage.removeItem(this.key+":"+e)},size:function(e){var t;switch(e){case"m":case"M":t=1048576;break;case"k":case"K":t=1024;break;default:t=1}return JSON.stringify(this.storage).length/t}},n.init=function(e){return this.key="",this.storage=e||window.localStorage,this},n.init.prototype=n.prototype,e.storage=n(window.localStorage),e.session=n(window.sessionStorage)}(Metro),function(e,t){"use strict";var n=e.utils,i={streamerDeferred:0,wheel:!0,wheelStep:20,duration:METRO_ANIMATION_DURATION,defaultClosedIcon:"",defaultOpenIcon:"",changeUri:!0,encodeLink:!0,closed:!1,chromeNotice:!1,startFrom:null,slideToStart:!0,startSlideSleep:1e3,source:null,data:null,eventClick:"select",selectGlobal:!0,streamSelect:!1,excludeSelectElement:null,excludeClickElement:null,excludeElement:null,excludeSelectClass:"",excludeClickClass:"",excludeClass:"",onDataLoad:e.noop,onDataLoaded:e.noop,onDataLoadError:e.noop,onDrawEvent:e.noop,onDrawGlobalEvent:e.noop,onDrawStream:e.noop,onStreamClick:e.noop,onStreamSelect:e.noop,onEventClick:e.noop,onEventSelect:e.noop,onEventsScroll:e.noop,onStreamerCreate:e.noop};e.streamerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroStreamerSetup&&e.streamerSetup(window.metroStreamerSetup),e.Component("streamer",{init:function(e,t){return this._super(t,e,i,{data:null,scroll:0,scrollDir:"left",events:null}),this},_create:function(){var e=this.element,i=this.options;if(e.addClass("streamer"),void 0===e.attr("id")&&e.attr("id",n.elementId("streamer")),null===i.source&&null===i.data)return!1;t("<div>").addClass("streams").appendTo(e),t("<div>").addClass("events-area").appendTo(e),null!==i.source?(this._fireEvent("data-load",{source:i.source}),this._loadSource()):(this.data=i.data,this.build()),!0===i.chromeNotice&&!0===n.detectChrome()&&!1===t.touchable&&t("<p>").addClass("text-small text-muted").html("*) In Chrome browser please press and hold Shift and turn the mouse wheel.").insertAfter(e)},_loadSource:function(){var t=this,n=this.options;fetch(n.source).then(e.fetch.status).then(e.fetch.json).then((function(e){t._fireEvent("data-loaded",{source:n.source,data:e}),t.data=e,t.build()})).catch((function(e){t._fireEvent("data-load-error",{source:n.source,error:e})}))},build:function(){var i,s=this,o=this.element,r=this.options,a=this.data,l=o.find(".streams").html(""),c=o.find(".events-area").html(""),h=t("<ul>").addClass("streamer-timeline").html("").appendTo(c),u=t("<div>").addClass("streamer-events").appendTo(c),d=t("<div>").addClass("event-group").appendTo(u),p=n.getURIParameter(null,"StreamerIDS");null!==p&&!0===r.encodeLink&&(p=atob(p));var f=p?p.split("|")[0]:null,g=p?p.split("|")[1].split(","):[];if(void 0!==a.actions){var m=t("<div>").addClass("streamer-actions").appendTo(l);t.each(a.actions,(function(){var i=this,s=t("<button>").addClass("streamer-action").addClass(i.cls).html(i.html);void 0!==i.onclick&&s.on(e.events.click,(function(){n.exec(i.onclick,[o])})),s.appendTo(m)}))}h.html(""),void 0===a.timeline&&(a.timeline={start:"09:00",stop:"18:00",step:20});var v,w,b,y,C,x,k,S,_,A=new Date,T=new Date,E=a.timeline.start?a.timeline.start.split(":"):[9,0],$=a.timeline.stop?a.timeline.stop.split(":"):[18,0],L=a.timeline.step?60*parseInt(a.timeline.step):1200;for(A.setHours(E[0]),A.setMinutes(E[1]),A.setSeconds(0),T.setHours($[0]),T.setMinutes($[1]),T.setSeconds(0),v=A.getTime()/1e3;v<=T.getTime()/1e3;v+=L)for(b=(w=new Date(1e3*v)).getHours(),C=w.getMinutes(),y=Cake.lpad(b,2,"0")+":"+Cake.lpad(C,2,"0"),_=(S=t("<li>").data("time",y).addClass("js-time-point-"+y.replace(":","-")).html("<em>"+y+"</em>").appendTo(h)).width()/parseInt(a.timeline.step),i=t("<ul>").addClass("streamer-fake-timeline").html("").appendTo(S),x=0;x<parseInt(a.timeline.step);x++)k=C+x,y=Cake.lpad(b,2,"0")+":"+Cake.lpad(k,2,"0"),t("<li>").data("time",y).addClass("js-fake-time-point-"+y.replace(":","-")).html("|").appendTo(i).css({width:_});if(void 0!==a.streams&&t.each(a.streams,(function(i){var a=0,c=this,u=t("<div>").addClass("stream").addClass(this.cls).appendTo(l);u.addClass(c.cls).data("one",!1).data("data",c.data),t("<div>").addClass("stream-title").html(c.title).appendTo(u),t("<div>").addClass("stream-secondary").html(c.secondary).appendTo(u),t(c.icon).addClass("stream-icon").appendTo(u);var p=e.colors.toHEX(n.getStyleOne(u,"background-color")),m=e.colors.toHEX(n.getStyleOne(u,"color")),v=t("<div>").addClass("stream-events").data("background-color",p).data("text-color",m).appendTo(d);if(void 0!==c.events){t.each(c.events,(function(e){var l,c,u=this,d=void 0===u.row?1:parseInt(u.row),w=i+":"+e,b=void 0!==u.custom?u.custom:"",y=void 0!==u.custom_open?u.custom_open:"",C=void 0!==u.custom_close?u.custom_close:"";if(void 0===u.skip||!n.bool(u.skip)){c=t("<div>").data("origin",u).data("sid",w).data("data",u.data).data("time",u.time).data("target",u.target).addClass("stream-event").addClass("size-"+u.size+(["half","one-third"].includes(u.size)?"":"x")).addClass(u.cls).appendTo(v);var x=h.find(".js-fake-time-point-"+this.time.replace(":","-")).offset().left-v.offset().left,k=75*(d-1);if(d>a&&(a=d),c.css({position:"absolute",left:x,top:k}),n.isNull(u.html)){var S=t("<div>").addClass("stream-event-slide").appendTo(c),_=t("<div>").addClass("slide-logo").appendTo(S),A=t("<div>").addClass("slide-data").appendTo(S);void 0!==u.icon&&(n.isTag(u.icon)?t(u.icon).addClass("icon").appendTo(_):t("<img>").addClass("icon").attr("src",u.icon).appendTo(_)),t("<span>").addClass("time").css({backgroundColor:p,color:m}).html(u.time).appendTo(_),t("<div>").addClass("title").html(u.title).appendTo(A),t("<div>").addClass("subtitle").html(u.subtitle).appendTo(A),t("<div>").addClass("desc").html(u.desc).appendTo(A),(!1===r.closed&&o.attr("id")===f&&-1!==g.indexOf(w)||!0===u.selected||1===parseInt(u.selected))&&c.addClass("selected"),!0===r.closed||!0===u.closed||1===parseInt(u.closed)?(l=void 0!==u.closedIcon?n.isTag(u.closedIcon)?u.closedIcon:"<span>"+u.closedIcon+"</span>":n.isTag(r.defaultClosedIcon)?r.defaultClosedIcon:"<span>"+r.defaultClosedIcon+"</span>",t(l).addClass("state-icon").addClass(u.clsClosedIcon).appendTo(S),c.data("closed",!0).data("target",u.target),c.append(y)):(l=void 0!==u.openIcon?n.isTag(u.openIcon)?u.openIcon:"<span>"+u.openIcon+"</span>":n.isTag(r.defaultOpenIcon)?r.defaultOpenIcon:"<span>"+r.defaultOpenIcon+"</span>",t(l).addClass("state-icon").addClass(u.clsOpenIcon).appendTo(S),c.data("closed",!1),c.append(C)),c.append(b)}else c.html(u.html);s._fireEvent("draw-event",{event:c[0]})}}));var w=v.find(".stream-event").last();w.length>0&&v.outerWidth(w[0].offsetLeft+w.outerWidth())}v.css({height:75*a}),o.find(".stream").eq(v.index()).css({height:75*a}),s._fireEvent("draw-stream",{stream:u[0]})})),void 0!==a.global){var M=u.offset().left;t.each(["before","after"],(function(){void 0!==a.global[this]&&t.each(a.global[this],(function(){var e=this,n=t("<div>").addClass("event-group").addClass("size-"+e.size+(["half","one-third"].includes(e.size)?"":"x")),i=t("<div>").addClass("stream-events global-stream").appendTo(n),o=t("<div>").addClass("stream-event").appendTo(i);o.addClass("global-event").addClass(e.cls).data("time",e.time).data("origin",e).data("data",e.data),t("<div>").addClass("event-title").html(e.title).appendTo(o),t("<div>").addClass("event-subtitle").html(e.subtitle).appendTo(o),t("<div>").addClass("event-html").html(e.html).appendTo(o);var r,a=h.find(".js-fake-time-point-"+this.time.replace(":","-"));a.length>0&&(r=a.offset().left-M),n.css({position:"absolute",left:r,height:"100%"}).appendTo(u),s._fireEvent("draw-global-event",{event:o[0]})}))}))}o.data("stream",-1),o.find(".events-area").scrollLeft(0),this.events=o.find(".stream-event"),this._createEvents(),null!==r.startFrom&&!0===r.slideToStart&&setTimeout((function(){s.slideTo(r.startFrom)}),r.startSlideSleep),this._fireEvent("streamer-create"),this._fireScroll()},_fireScroll:function(){var e=this.element.find(".events-area"),n=this.scroll;0!==e.length&&(this.scrollDir=this.scroll<e[0].scrollLeft?"left":"right",this.scroll=e[0].scrollLeft,this._fireEvent("events-scroll",{scrollLeft:e[0].scrollLeft,oldScroll:n,scrollDir:this.scrollDir,events:t.toArray(this.events)}))},_createEvents:function(){var n=this,i=this.element,s=this.options;i.off(e.events.click,".stream-event").on(e.events.click,".stream-event",(function(e){var i=t(this);if(!(""!==s.excludeClass&&i.hasClass(s.excludeClass)||null!==s.excludeElement&&t(e.target).is(s.excludeElement)))if(!1===s.closed&&!0!==i.data("closed")&&"select"===s.eventClick)""!==s.excludeSelectClass&&i.hasClass(s.excludeSelectClass)||null!==s.excludeSelectElement&&t(e.target).is(s.excludeSelectElement)||(i.hasClass("global-event")?!0===s.selectGlobal&&i.toggleClass("selected"):i.toggleClass("selected"),!0===s.changeUri&&n._changeURI(),n._fireEvent("event-select",{event:i[0],selected:i.hasClass("selected")}));else if(""!==s.excludeClickClass&&i.hasClass(s.excludeClickClass));else if(null!==s.excludeClickElement&&t(e.target).is(s.excludeClickElement));else if(n._fireEvent("event-click",{event:i[0]}),!0===s.closed||!0===i.data("closed")){var o=i.data("target");o&&(window.location.href=o)}})),i.off(e.events.click,".stream").on(e.events.click,".stream",(function(){var e=t(this),o=e.index();!1!==s.streamSelect&&(i.data("stream")===o?(i.find(".stream-event").removeClass("disabled"),i.data("stream",-1)):(i.data("stream",o),i.find(".stream-event").addClass("disabled"),n.enableStream(e),n._fireEvent("stream-select",{stream:e})),n._fireEvent("stream-click",{stream:e}))})),!0===s.wheel&&(i.find(".events-area").off(e.events.mousewheel).on(e.events.mousewheel,(function(e){if(void 0!==e.deltaY){var n,i=t(this),o=e.deltaY>0?-1:1,r=s.wheelStep;n=i.scrollLeft()-o*r,i.scrollLeft(n)}})),i.find(".events-area").off("mouseenter").on("mouseenter",(function(){var e,t;e=window.pageYOffset||document.documentElement.scrollTop,t=window.pageXOffset||document.documentElement.scrollLeft,window.onscroll=function(){window.scrollTo(t,e)}})),i.find(".events-area").off("mouseleave").on("mouseleave",(function(){window.onscroll=function(){}}))),i.find(".events-area").last().off("scroll").on("scroll",(function(){n._fireScroll()})),!0===t.touchable&&i.off(e.events.click,".stream").on(e.events.click,".stream",(function(){var e=t(this);e.toggleClass("focused"),t.each(i.find(".stream"),(function(){t(this).is(e)||t(this).removeClass("focused")}))}))},_changeURI:function(){var e=this.getLink();history.pushState({},document.title,e)},slideTo:function(e){var n,i=this.element,s=this.options;n=t(void 0===e?i.find(".streamer-timeline li")[0]:i.find(".streamer-timeline .js-time-point-"+e.replace(":","-"))[0]),i.find(".events-area").animate({draw:{scrollLeft:n[0].offsetLeft-i.find(".streams .stream").outerWidth()},dur:s.duration})},enableStream:function(e){var t=this.element,n=e.index()-1;e.removeClass("disabled").data("streamDisabled",!1),t.find(".stream-events").eq(n).find(".stream-event").removeClass("disabled")},disableStream:function(e){var t=this.element,n=e.index()-1;e.addClass("disabled").data("streamDisabled",!0),t.find(".stream-events").eq(n).find(".stream-event").addClass("disabled")},toggleStream:function(e){!0===e.data("streamDisabled")?this.enableStream(e):this.disableStream(e)},getLink:function(){var e,i=this.element,s=this.options,o=i.find(".stream-event"),r=[],a=window.location.href;return t.each(o,(function(){var e=t(this);void 0!==e.data("sid")&&e.hasClass("selected")&&r.push(e.data("sid"))})),e=i.attr("id")+"|"+r.join(","),!0===s.encodeLink&&(e=btoa(e)),n.updateURIParameter(a,"StreamerIDS",e)},getTimes:function(){var e=this.element.find(".streamer-timeline > li"),n=[];return t.each(e,(function(){n.push(t(this).data("time"))})),n},getEvents:function(e,n){var i,s=this.element,o=[];switch(e){case"selected":i=s.find(".stream-event.selected");break;case"non-selected":i=s.find(".stream-event:not(.selected)");break;default:i=s.find(".stream-event")}return t.each(i,(function(){var e,i=t(this);!0!==n&&i.parent().hasClass("global-stream")||(e=i.data("origin"),o.push(e))})),o},source:function(e){var t=this.element;if(void 0===e)return this.options.source;t.attr("data-source",e),this.options.source=e,this.changeSource()},dataSet:function(e){if(void 0===e)return this.options.data;this.options.data=e,this.changeData(e)},getStreamerData:function(){return this.data},toggleEvent:function(e){var n=this.options;(e=t(e)).hasClass("global-event")&&!0!==n.selectGlobal||(e.hasClass("selected")?this.selectEvent(e,!1):this.selectEvent(e,!0))},selectEvent:function(e,n){var i=this.options;void 0===n&&(n=!0),(e=t(e)).hasClass("global-event")&&!0!==i.selectGlobal||(!0===n?e.addClass("selected"):e.removeClass("selected"),!0===i.changeUri&&this._changeURI(),this._fireEvent("event-select",{event:e[0],selected:n}))},changeSource:function(){var e=this.element,t=this.options,n=e.attr("data-source");""!==String(n).trim()&&(t.source=n,this._fireEvent("data-load",{source:t.source}),this._loadSource(),this._fireEvent("source-change"))},changeData:function(e){var t=this.element,n=this.options,i=this.data;n.data="object"==typeof e?e:JSON.parse(t.attr("data-data")),this.data=n.data,this.build(),this._fireEvent("data-change",{oldData:i,newData:n.data})},changeStreamSelectOption:function(){var e=this.element;this.options.streamSelect="true"===e.attr("data-stream-select").toLowerCase()},changeAttribute:function(e){switch(e){case"data-source":this.changeSource();break;case"data-data":this.changeData();break;case"data-stream-select":this.changeStreamSelectOption()}},destroy:function(){var t=this.element;return t.off(e.events.click,".stream-event"),t.off(e.events.click,".stream"),t.find(".events-area").off(e.events.mousewheel),t.find(".events-area").last().off("scroll"),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={switchDeferred:0,material:!1,transition:!0,caption:"",captionPosition:"right",clsSwitch:"",clsCheck:"",clsCaption:"",textOn:"",textOff:"",locale:METRO_LOCALE,showOnOff:!1,onSwitchCreate:e.noop};e.switchSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroSwitchSetup&&e.switchSetup(window.metroSwitchSetup),e.Component("switch",{init:function(e,t){return this._super(t,e,i,{locale:null}),this},_create:function(){var e,n=this.element,i=this.options,s=t("<span>").addClass("check"),o=t("<span>").addClass("caption").html(i.caption);n.attr("type","checkbox"),void 0!==n.attr("readonly")&&n.on("click",(function(e){e.preventDefault()})),e=n.wrap(t("<label>").addClass((!0===i.material?" switch-material ":" switch ")+n[0].className)),this.component=e,s.appendTo(e),o.appendTo(e),!0===i.transition&&e.addClass("transition-on"),"left"===i.captionPosition&&e.addClass("caption-left"),n[0].className="",e.addClass(i.clsSwitch),o.addClass(i.clsCaption),s.addClass(i.clsCheck),n.is(":disabled")?this.disable():this.enable(),this.i18n(i.locale),this._fireEvent("switch-create")},disable:function(){this.element.prop("disabled",!0)},enable:function(){this.element.prop("disabled",!1)},toggleState:function(){this.element.is(":disabled")?this.enable():this.disable()},toggle:function(e){var t=this.element;return t.is(":disabled")||(n.isValue(e)?t.prop("checked",1===e):t.prop("checked",!n.bool(t.prop("checked")))),this},changeLocale:function(e,t){var n=this.element,i=this.options,s=n.siblings(".check");i["text"+Cake.capitalize(e)]=t,s.attr("data-"+e,t)},i18n:function(t){var n,i,s=this.element,o=this.options,r=s.siblings(".check");o.locale=t,this.locale=void 0!==e.locales[o.locale]?e.locales[o.locale]:e.locales["en-US"],o.showOnOff?(n=s.attr("data-on")||o.textOn||this.locale.switch.on,i=s.attr("data-off")||o.textOff||this.locale.switch.off,r.attr("data-on",n),r.attr("data-off",i)):(r.removeAttr("data-on"),r.removeAttr("data-off"))},changeAttribute:function(e,t){switch(e){case"data-on":case"data-text-on":this.changeLocale("on",t);break;case"data-off":case"data-text-off":this.changeLocale("off",t)}},destroy:function(){return this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={useCurrentSlice:!1,showInspectorButton:!1,inspectorButtonIcon:"<span class='default-icon-equalizer'>",tableDeferred:0,templateBeginToken:"<%",templateEndToken:"%>",paginationDistance:5,locale:METRO_LOCALE,horizontalScroll:!1,horizontalScrollStop:null,check:!1,checkType:"checkbox",checkStyle:1,checkColIndex:0,checkName:null,checkStoreKey:"TABLE:$1:KEYS",rownum:!1,rownumTitle:"#",filters:null,filtersOperator:"and",head:null,body:null,static:!1,source:null,searchMinLength:1,searchThreshold:500,searchFields:null,showRowsSteps:!0,showSearch:!0,showTableInfo:!0,showPagination:!0,paginationShortMode:!0,showActivity:!0,muteTable:!0,showSkip:!1,rows:10,rowsSteps:"10,25,50,100",staticView:!1,viewSaveMode:"client",viewSavePath:"TABLE:$1:OPTIONS",sortDir:"asc",decimalSeparator:".",thousandSeparator:",",tableRowsCountTitle:null,tableSearchTitle:null,tableSearchPlaceholder:"",tableInfoTitle:null,paginationPrevTitle:null,paginationNextTitle:null,allRecordsTitle:null,inspectorTitle:null,tableSkipTitle:null,emptyTableTitle:null,activityType:"atom",activityStyle:"color",activityTimeout:100,searchWrapper:null,rowsWrapper:null,infoWrapper:null,paginationWrapper:null,skipWrapper:null,cellWrapper:!0,clsComponent:"",clsTableContainer:"",clsTable:"",clsHead:"",clsHeadRow:"",clsHeadCell:"",clsBody:"",clsBodyRow:"",clsBodyCell:"",clsCellWrapper:"",clsFooter:"",clsFooterRow:"",clsFooterCell:"",clsTableTop:"",clsRowsCount:"",clsSearch:"",clsTableBottom:"",clsTableInfo:"",clsTablePagination:"",clsPagination:"",clsTableSkip:"",clsTableSkipInput:"",clsTableSkipButton:"",clsEvenRow:"",clsOddRow:"",clsRow:"",clsEmptyTableTitle:"",onDraw:e.noop,onDrawRow:e.noop,onDrawCell:e.noop,onAppendRow:e.noop,onAppendCell:e.noop,onSortStart:e.noop,onSortStop:e.noop,onSortItemSwitch:e.noop,onSearch:e.noop,onRowsCountChange:e.noop,onDataLoad:e.noop,onDataLoadError:e.noop,onDataLoaded:e.noop,onDataLoadEnd:e.noop,onDataSaveError:e.noop,onFilterRowAccepted:e.noop,onFilterRowDeclined:e.noop,onCheckClick:e.noop,onCheckClickAll:e.noop,onCheckDraw:e.noop,onViewSave:e.noop,onViewGet:e.noop,onViewCreated:e.noop,onTableCreate:e.noop,onSkip:e.noop};e.tableSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTableSetup&&e.tableSetup(window.metroTableSetup),e.Component("table",{init:function(t,s){return this._super(s,t,i,{currentPage:1,pagesCount:1,searchString:"",data:null,activity:null,loadActivity:null,busy:!1,filters:[],wrapperInfo:null,wrapperSearch:null,wrapperRows:null,wrapperPagination:null,wrapperSkip:null,filterIndex:null,filtersIndexes:[],component:null,inspector:null,view:{},viewDefault:{},locale:e.locales["en-US"],input_interval:null,searchFields:[],id:n.elementId("table"),sort:{dir:"asc",colIndex:0},service:[],heads:[],items:[],foots:[],filteredItems:[],currentSlice:[],index:{}}),this},_create:function(){var i,s,o,r=this,a=this.element,l=this.options,c=n.elementId("table");if(n.isValue(a.attr("id"))||a.attr("id",c),n.isValue(e.locales[l.locale])&&(this.locale=e.locales[l.locale]),n.isValue(l.searchFields)&&(this.searchFields=l.searchFields.toArray()),n.isValue(l.head)){var h=l.head;l.head=n.isObject(l.head),l.head||(console.warn("Head "+h+" defined but not exists!"),l.head=null)}if(n.isValue(l.body)){var u=l.body;l.body=n.isObject(l.body),l.body||(console.warn("Body "+u+" defined but not exists!"),l.body=null)}if(!0===l.static&&(l.showPagination=!1,l.showRowsSteps=!1,l.showSearch=!1,l.showTableInfo=!1,l.showSkip=!1,l.rows=-1),(i=t("<div>").addClass("table-component")).insertBefore(a),s=t("<div>").addClass("table-container").addClass(l.clsTableContainer).appendTo(i),a.appendTo(s),!0===l.horizontalScroll&&s.addClass("horizontal-scroll"),!n.isNull(l.horizontalScrollStop)&&n.mediaExist(l.horizontalScrollStop)&&s.removeClass("horizontal-scroll"),i.addClass(l.clsComponent),this.activity=t("<div>").addClass("table-progress").appendTo(i),o=t("<div>").appendTo(this.activity),e.makePlugin(o,"activity",{type:l.activityType,style:l.activityStyle}),!0!==l.showActivity&&this.activity.css({visibility:"hidden"}),this.component=i[0],null!==l.source){this._fireEvent("data-load",{source:l.source});var d=n.isObject(l.source);!1!==d&&t.isPlainObject(d)?r._build(d):this.activity.show((function(){fetch(l.source).then(e.fetch.status).then(e.fetch.json).then((function(e){if(r.activity.hide(),"object"!=typeof e)throw new Error("Data for table is not a object");r._fireEvent("data-loaded",{source:l.source,data:e}),r._build(e)})).catch((function(e){r.activity.hide(),r._fireEvent("data-load-error",{source:l.source,error:e})}))}))}else r._build()},_createIndex:function(){var e=this,t=this.options.checkColIndex;setImmediate((function(){e.items.forEach((function(n,i){e.index[n[t]]=i}))}))},_build:function(t){var i,s,o=this,r=this.element,a=this.options,l=r.attr("id");a.rows=+a.rows,this.items=[],this.heads=[],this.foots=[],Array.isArray(a.head)&&(this.heads=a.head),Array.isArray(a.body)&&(this.items=a.body),n.isValue(t)?this._createItemsFromJSON(t):this._createItemsFromHTML(),this._createIndex(),this.view=this._createView(),this.viewDefault=n.objectClone(this.view),s=a.viewSavePath.replace("$1",l),"client"===a.viewSaveMode.toLowerCase()?(i=e.storage.getItem(s),n.isValue(i)&&n.objectLength(i)===n.objectLength(this.view)&&(this.view=i,this._fireEvent("view-get",{source:"client",view:i})),this._final()):fetch(s).then(e.fetch.status).then(e.fetch.json).then((function(e){n.isValue(e)&&n.objectLength(e)===n.objectLength(o.view)&&(o.view=e,o._fireEvent("view-get",{source:"server",view:e})),o._final()})).catch((function(e){o._final(),console.warn("Warning! Error loading view for table "+r.attr("id")+": "+e)}))},_final:function(){var t=this.element,n=this.options,i=t.attr("id");e.storage.delItem(n.checkStoreKey.replace("$1",i)),this._service(),this._createStructure(),this._createInspector(),this._createEvents(),this._fireEvent("table-create",{element:t})},_service:function(){var e=this.options;this.service=[{title:e.rownumTitle,format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"rownum-cell "+(!0!==e.rownum?"d-none":""),cls:"rownum-cell "+(!0!==e.rownum?"d-none":""),colspan:void 0,type:"rownum"},{title:"checkbox"===e.checkType?"<input type='checkbox' data-role='checkbox' class='table-service-check-all' data-style='"+e.checkStyle+"'>":"",format:void 0,name:void 0,sortable:!1,sortDir:void 0,clsColumn:"check-cell "+(!0!==e.check?"d-none":""),cls:"check-cell "+(!0!==e.check?"d-none":""),colspan:void 0,type:"rowcheck"}]},_createView:function(){var e;return e={},t.each(this.heads,(function(t){n.isValue(this.cls)&&(this.cls=this.cls.replace("hidden","")),n.isValue(this.clsColumn)&&(this.clsColumn=this.clsColumn.replace("hidden","")),e[t]={index:t,"index-view":t,show:!n.isValue(this.show)||this.show,size:n.isValue(this.size)?this.size:""}})),this._fireEvent("view-created",{view:e}),e},_createInspectorItems:function(e){var i,s,o=this,r=this.options,a=[],l=this.heads;for(e.html(""),i=0;i<l.length;i++)a[i]=null;for(t.each(l,(function(e){(s=t("<tr>")).data("index",e),s.data("index-view",e),t("<td>").html("<input type='checkbox' data-style='"+r.checkStyle+"' data-role='checkbox' name='column_show_check[]' value='"+e+"' "+(n.bool(o.view[e].show)?"checked":"")+">").appendTo(s),t("<td>").html(this.title).appendTo(s),t("<td>").html("<input type='number' data-role='spinner' name='column_size' value='"+o.view[e].size+"' data-index='"+e+"'>").appendTo(s),t("<td>").html("<button class='button square js-table-inspector-field-up' type='button'><span class='mif-arrow-up'></span></button><button class='button square js-table-inspector-field-down' type='button'><span class='mif-arrow-down'></span></button>").appendTo(s),a[o.view[e]["index-view"]]=s})),i=0;i<l.length;i++)a[i].appendTo(e)},_createInspector:function(){var e,n,i,s,o,r=this.options;(e=t("<div data-role='draggable' data-drag-element='.table-inspector-header' data-drag-area='body'>").addClass("table-inspector")).attr("for",this.element.attr("id")),t("<div class='table-inspector-header'>"+(r.inspectorTitle||this.locale.table.inspector)+"</div>").appendTo(e),n=t("<div>").addClass("table-wrap").appendTo(e),i=t("<table>").addClass("table subcompact"),s=t("<tbody>").appendTo(i),i.appendTo(n),this._createInspectorItems(s),o=t("<div class='table-inspector-actions'>").appendTo(e),t("<button class='button primary js-table-inspector-save' type='button'>").html(this.locale.buttons.save).appendTo(o),t("<button class='button secondary js-table-inspector-reset ml-2 mr-2' type='button'>").html(this.locale.buttons.reset).appendTo(o),t("<button class='button link js-table-inspector-cancel place-right' type='button'>").html(this.locale.buttons.cancel).appendTo(o),e.data("open",!1),this.inspector=e,t("body").append(e),this._createInspectorEvents()},_resetInspector:function(){var e=this.inspector.find("table tbody");this._createInspectorItems(e),this._createInspectorEvents()},_createHeadsFromHTML:function(){var e=this,i=this.element.find("thead");i.length>0&&t.each(i.find("tr > *"),(function(){var i,s,o,r=t(this);r.hasClass("rownum-cell")||r.hasClass("check-cell")||(i=n.isValue(r.data("sort-dir"))?r.data("sort-dir"):r.hasClass("sort-asc")?"asc":r.hasClass("sort-desc")?"desc":void 0,o=(o=(o=(o=r[0].className.replace("sortable-column","")).replace("sort-asc","")).replace("sort-desc","")).replace("hidden",""),s={type:"data",title:r.html(),name:n.isValue(r.data("name"))?r.data("name"):r.text().replace(" ","_"),sortable:r.hasClass("sortable-column")||n.isValue(r.data("sortable"))&&!0===JSON.parse(r.data("sortable")),sortDir:i,format:n.isValue(r.data("format"))?r.data("format"):"string",formatMask:n.isValue(r.data("format-mask"))?r.data("format-mask"):null,clsColumn:n.isValue(r.data("cls-column"))?r.data("cls-column"):"",cls:o,colspan:r.attr("colspan"),size:n.isValue(r.data("size"))?r.data("size"):"",show:!(r.hasClass("hidden")||n.isValue(r.data("show"))&&!1===JSON.parse(r.data("show"))),required:!!n.isValue(r.data("required"))&&!0===JSON.parse(r.data("required")),field:n.isValue(r.data("field"))?r.data("field"):"input",fieldType:n.isValue(r.data("field-type"))?r.data("field-type"):"text",validator:n.isValue(r.data("validator"))?r.data("validator"):null,template:n.isValue(r.data("template"))?r.data("template"):null},e.heads.push(s))}))},_createFootsFromHTML:function(){var e=this,i=this.element.find("tfoot");i.length>0&&t.each(i.find("tr > *"),(function(){var i,s=t(this);i={title:s.html(),name:!!n.isValue(s.data("name"))&&s.data("name"),cls:s[0].className,colspan:s.attr("colspan")},e.foots.push(i)}))},_createItemsFromHTML:function(){var e=this,n=this.element.find("tbody");n.length>0&&t.each(n.find("tr"),(function(){var n=t(this),i=[];t.each(n.children("td"),(function(){var e=t(this);i.push(e.html())})),e.items.push(i)})),this._createHeadsFromHTML(),this._createFootsFromHTML()},_createItemsFromJSON:function(e){var n=this;"string"==typeof e&&(e=JSON.parse(e)),void 0!==e.header?n.heads=e.header:this._createHeadsFromHTML(),void 0!==e.data&&t.each(e.data,(function(){var e=[];t.each(this,(function(){e.push(this)})),n.items.push(e)})),void 0!==e.footer?this.foots=e.footer:this._createFootsFromHTML()},_createTableHeader:function(){var e,i,s,o=this.element,r=this.options,a=o.find("thead"),l=[],c=r.staticView?this._createView():this.view;if(0===a.length&&(a=t("<thead>"),o.prepend(a)),a.clear().addClass(r.clsHead),0===this.heads.length)return a;for(e=t("<tr>").addClass(r.clsHeadRow).appendTo(a),t.each(this.service,(function(){var i=this,s=[],o=t("<th>");n.isValue(i.title)&&o.html(i.title),n.isValue(i.size)&&o.css({width:i.size}),n.isValue(i.cls)&&s.push(i.cls),s.push(r.clsHeadCell),o.addClass(s.join(" ")),e.append(o)})),s=this.heads,i=0;i<s.length;i++)l[i]=null;for(t.each(s,(function(e){var i=this,s=[],o=t("<th>");o.data("index",e),n.isValue(i.title)&&o.html(i.title),n.isValue(i.format)&&o.attr("data-format",i.format),n.isValue(i.formatMask)&&o.attr("data-format-mask",i.formatMask),n.isValue(i.name)&&o.attr("data-name",i.name),n.isValue(i.colspan)&&o.attr("colspan",i.colspan),n.isValue(i.size)&&o.attr("data-size",i.size),n.isValue(i.sortable)&&o.attr("data-sortable",i.sortable),n.isValue(i.sortDir)&&o.attr("data-sort-dir",i.sortDir),n.isValue(i.clsColumn)&&o.attr("data-cls-column",i.clsColumn),n.isValue(i.cls)&&o.attr("data-cls",i.cls),n.isValue(i.colspan)&&o.attr("colspan",i.colspan),n.isValue(i.show)&&o.attr("data-show",i.show),n.isValue(i.required)&&o.attr("data-required",i.required),n.isValue(i.field)&&o.attr("data-field",i.field),n.isValue(i.fieldType)&&o.attr("data-field-type",i.fieldType),n.isValue(i.validator)&&o.attr("data-validator",i.validator),n.isValue(i.template)&&o.attr("data-template",i.template),n.isValue(c[e].size)&&o.css({width:c[e].size}),!0===i.sortable&&(s.push("sortable-column"),n.isValue(i.sortDir)&&s.push("sort-"+i.sortDir)),n.isValue(i.cls)&&t.each(i.cls.toArray(),(function(){s.push(this)})),!1===n.bool(c[e].show)&&-1===s.indexOf("hidden")&&s.push("hidden"),s.push(r.clsHeadCell),n.bool(c[e].show)&&n.arrayDelete(s,"hidden"),o.addClass(s.join(" ")),l[c[e]["index-view"]]=o})),i=0;i<s.length;i++)l[i].appendTo(e)},_createTableBody:function(){var e,n,i=this.element;n=i.find("thead"),0===(e=i.find("tbody")).length&&(e=t("<tbody>").addClass(this.options.clsBody),0!==n.length?e.insertAfter(n):i.append(e)),e.clear()},_createTableFooter:function(){var e,i,s=this.element,o=this.options,r=s.find("tfoot");0===r.length&&(r=t("<tfoot>").appendTo(s)),r.clear().addClass(o.clsFooter),0!==this.foots.length&&(e=t("<tr>").addClass(o.clsHeadRow).appendTo(r),t.each(this.foots,(function(){var s=this;i=t("<th>").appendTo(e),void 0!==s.title&&i.html(s.title),void 0!==s.name&&i.addClass("foot-column-name-"+s.name),void 0!==s.cls&&i.addClass(s.cls),n.isValue(s.colspan)&&i.attr("colspan",s.colspan),i.appendTo(e)})))},_createTopBlock:function(){var i,s,o,r,a=this,l=this.element,c=this.options,h=t("<div>").addClass("table-top").addClass(c.clsTableTop).insertBefore(l.parent());return(i=n.isValue(this.wrapperSearch)?this.wrapperSearch:t("<div>").addClass("table-search-block").addClass(c.clsSearch).appendTo(h)).addClass(c.clsSearch),s=t("<input>").attr("type","text").attr("placeholder",c.tableSearchPlaceholder).appendTo(i),e.makePlugin(s,"input",{prepend:c.tableSearchTitle||a.locale.table.search}),!0!==c.showSearch&&i.hide(),(o=n.isValue(this.wrapperRows)?this.wrapperRows:t("<div>").addClass("table-rows-block").appendTo(h)).addClass(c.clsRowsCount),r=t("<select>").appendTo(o),t.each(c.rowsSteps.toArray(),(function(){var e=parseInt(this),n=t("<option>").attr("value",e).text(-1===e?c.allRecordsTitle||a.locale.table.all:e).appendTo(r);e===parseInt(c.rows)&&n.attr("selected","selected")})),e.makePlugin(r,"select",{filter:!1,prepend:c.tableRowsCountTitle||a.locale.table.rowsCount,onChange:function(e){(e=parseInt(e))!==parseInt(c.rows)&&(c.rows=e,a.currentPage=1,a._draw(),a._fireEvent("rows-count-change",{val:e}))}}),c.showInspectorButton&&t("<button>").addClass("button inspector-button").attr("type","button").html(c.inspectorButtonIcon).insertAfter(o),!0!==c.showRowsSteps&&o.hide(),h},_createBottomBlock:function(){var e,i,s,o=this.element,r=this.options,a=t("<div>").addClass("table-bottom").addClass(r.clsTableBottom).insertAfter(o.parent());return(e=n.isValue(this.wrapperInfo)?this.wrapperInfo:t("<div>").addClass("table-info").appendTo(a)).addClass(r.clsTableInfo),!0!==r.showTableInfo&&e.hide(),(i=n.isValue(this.wrapperPagination)?this.wrapperPagination:t("<div>").addClass("table-pagination").appendTo(a)).addClass(r.clsTablePagination),!0!==r.showPagination&&i.hide(),(s=n.isValue(this.wrapperSkip)?this.wrapperSkip:t("<div>").addClass("table-skip").appendTo(a)).addClass(r.clsTableSkip),t("<input type='text'>").addClass("input table-skip-input").addClass(r.clsTableSkipInput).appendTo(s),t("<button>").addClass("button table-skip-button").addClass(r.clsTableSkipButton).html(r.tableSkipTitle||this.locale.table.skip).appendTo(s),!0!==r.showSkip&&s.hide(),a},_createStructure:function(){var e,i=this,s=this.element,o=this.options,r=t(o.searchWrapper),a=t(o.infoWrapper),l=t(o.rowsWrapper),c=t(o.paginationWrapper),h=t(o.skipWrapper);r.length>0&&(this.wrapperSearch=r),a.length>0&&(this.wrapperInfo=a),l.length>0&&(this.wrapperRows=l),c.length>0&&(this.wrapperPagination=c),h.length>0&&(this.wrapperSkip=h),s.addClass(o.clsTable),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this._createTopBlock(),this._createBottomBlock();var u,d=!1;this.heads.length>0&&t.each(this.heads,(function(e){!d&&["asc","desc"].indexOf(this.sortDir)>-1&&(d=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),d&&(e=s.find("thead th"),this._resetSortClass(e),t(e.get(this.sort.colIndex+i.service.length)).addClass("sort-"+this.sort.dir),this.sorting()),n.isValue(o.filters)&&"string"==typeof o.filters&&t.each(o.filters.toArray(),(function(){!1!==(u=n.isFunc(this))&&i.filtersIndexes.push(i.addFilter(u))})),this.currentPage=1,this._draw()},_resetSortClass:function(e){t(e).removeClass("sort-asc sort-desc")},_createEvents:function(){var i,s=this,o=this.element,r=this.options,a=o.closest(".table-component"),l=a.find(".table-container"),c=a.find(".table-search-block input"),h=r.skipWrapper?t(r.skipWrapper).find(".table-skip-button"):a.find(".table-skip-button"),u=r.skipWrapper?t(r.skipWrapper).find(".table-skip-input"):a.find(".table-skip-input"),d=o.attr("id");a.find(".inspector-button").on(e.events.click,(function(){s.toggleInspector()})),h.on(e.events.click,(function(){var e=parseInt(u.val().trim());if(isNaN(e)||e<=0||e>s.pagesCount)return u.val(""),!1;u.val(""),s._fireEvent("skip",{skipTo:e,skipFrom:s.currentPage}),s.page(e)})),t(window).on(e.events.resize,(function(){!0===r.horizontalScroll&&(!n.isNull(r.horizontalScrollStop)&&n.mediaExist(r.horizontalScrollStop)?l.removeClass("horizontal-scroll"):l.addClass("horizontal-scroll"))}),{ns:this.id}),o.on(e.events.click,".sortable-column",(function(){if(!0===r.muteTable&&o.addClass("disabled"),s.busy)return!1;s.busy=!0;var e=t(this);s.activity.show((function(){setImmediate((function(){s.currentPage=1,s.sort.colIndex=e.data("index"),e.hasClass("sort-asc")||e.hasClass("sort-desc")?e.hasClass("sort-asc")?s.sort.dir="desc":s.sort.dir="asc":s.sort.dir=r.sortDir,s._resetSortClass(o.find(".sortable-column")),e.addClass("sort-"+s.sort.dir),s.sorting(),s._draw((function(){s.busy=!1,!0===r.muteTable&&o.removeClass("disabled")}))}))}))})),o.on(e.events.click,".table-service-check input",(function(){var i=t(this),o=i.is(":checked"),a=""+i.val(),l=r.checkStoreKey.replace("$1",d),c=e.storage,h=c.getItem(l);"radio"===i.attr("type")&&(h=[]),o?n.isValue(h)?-1===Array(h).indexOf(a)&&h.push(a):h=[a]:n.isValue(h)?n.arrayDelete(h,a):h=[],c.setItem(l,h),s._fireEvent("check-click",{check:this,status:o,data:h})})),o.on(e.events.click,".table-service-check-all input",(function(){var n,i,o=t(this).is(":checked"),a=r.checkStoreKey.replace("$1",d),l=e.storage;!0===r.useCurrentSlice?(i=l.getItem(a,[]),o?t.each(s.currentSlice,(function(){-1===i.indexOf(""+this[r.checkColIndex])&&i.push(""+this[r.checkColIndex])})):t.each(s.currentSlice,(function(){var t=""+this[r.checkColIndex];-1!==i.indexOf(t)&&e.utils.arrayDelete(i,t)})),n=i):o?t.each(s.filteredItems,(function(){-1===n.indexOf(this[r.checkColIndex])&&n.push(""+this[r.checkColIndex])})):n=[],l.setItem(a,n),s._draw(),s._fireEvent("check-click-all",{check:this,status:o,data:n})}));var p=function(){s.searchString=this.value.trim().toLowerCase(),clearInterval(s.input_interval),s.input_interval=!1,s.input_interval||(s.input_interval=setTimeout((function(){s.currentPage=1,s._draw(),clearInterval(s.input_interval),s.input_interval=!1}),r.searchThreshold))};function f(e){var n=t(e),i=n.parent();0!==s.filteredItems.length&&(i.hasClass("active")||(i.hasClass("service")?"prev"===n.data("page")?(s.currentPage--,0===s.currentPage&&(s.currentPage=1)):(s.currentPage++,s.currentPage>s.pagesCount&&(s.currentPage=s.pagesCount)):s.currentPage=n.data("page"),s._draw()))}c.on(e.events.inputchange,p),n.isValue(this.wrapperSearch)&&(i=this.wrapperSearch.find("input")).length>0&&i.on(e.events.inputchange,p),a.on(e.events.click,".pagination .page-link",(function(){f(this)})),n.isValue(this.wrapperPagination)&&this.wrapperPagination.on(e.events.click,".pagination .page-link",(function(){f(this)})),this._createInspectorEvents(),o.on(e.events.click,".js-table-crud-button",(function(){}))},_createInspectorEvents:function(){var i=this,s=this.inspector;this._removeInspectorEvents(),s.on(e.events.click,".js-table-inspector-field-up",(function(){var e,n=t(this).closest("tr"),s=n.prev("tr"),o=n.data("index");0!==s.length&&(n.insertBefore(s),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[o]["index-view"]=e,t.each(n.nextAll(),(function(){var n=t(this);e++,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),s.on(e.events.click,".js-table-inspector-field-down",(function(){var e,n=t(this).closest("tr"),s=n.next("tr"),o=n.data("index");0!==s.length&&(n.insertAfter(s),n.addClass("flash"),setTimeout((function(){n.removeClass("flash")}),1e3),e=n.index(),n.data("index-view",e),i.view[o]["index-view"]=e,t.each(n.prevAll(),(function(){var n=t(this);e--,n.data("index-view",e),i.view[n.data("index")]["index-view"]=e})),i._createTableHeader(),i._draw())})),s.on(e.events.click,"input[type=checkbox]",(function(){var e=t(this),s=e.is(":checked"),o=e.val(),r=["cls","clsColumn"];s?t.each(r,(function(){var e;e=n.isValue(i.heads[o][this])?i.heads[o][this].toArray(" "):[],n.arrayDelete(e,"hidden"),i.heads[o][this]=e.join(" "),i.view[o].show=!0})):t.each(r,(function(){var e;-1===(e=n.isValue(i.heads[o][this])?i.heads[o][this].toArray(" "):[]).indexOf("hidden")&&e.push("hidden"),i.heads[o][this]=e.join(" "),i.view[o].show=!1})),i._createTableHeader(),i._draw()})),s.find("input[type=number]").on(e.events.inputchange,(function(){var e=t(this),n=e.attr("data-index"),s=parseInt(e.val());i.view[n].size=0===s?"":s,i._createTableHeader()})),s.on(e.events.click,".js-table-inspector-save",(function(){i._saveTableView(),i.openInspector(!1)})),s.on(e.events.click,".js-table-inspector-cancel",(function(){i.openInspector(!1)})),s.on(e.events.click,".js-table-inspector-reset",(function(){i.resetView()}))},_removeInspectorEvents:function(){var t=this.inspector;t.off(e.events.click,".js-table-inspector-field-up"),t.off(e.events.click,".js-table-inspector-field-down"),t.off(e.events.click,"input[type=checkbox]"),t.off(e.events.click,".js-table-inspector-save"),t.off(e.events.click,".js-table-inspector-cancel"),t.off(e.events.click,".js-table-inspector-reset"),t.find("input[type=number]").off(e.events.inputchange)},_saveTableView:function(){var t=this,n=this.element,i=this.options,s=this.view,o=n.attr("id"),r=i.viewSavePath.replace("$1",o),a=e.storage;if("client"===i.viewSaveMode.toLowerCase())a.setItem(r,s),this._fireEvent("view-save",{target:"client",path:i.viewSavePath,view:s});else{var l={id:n.attr("id"),view:s};fetch(r,{method:"POST",body:JSON.stringify(l),header:{"Content-type":"application/json;charset=utf-8"}}).then(e.fetch.status).then(e.fetch.text).then((function(e){t._fireEvent("view-save",{target:"server",path:i.viewSavePath,view:s,post_data:l,response:e})})).catch((function(e){t._fireEvent("data-save-error",{source:i.viewSavePath,error:e,post_data:l})}))}},_info:function(e,t,i){var s,o=this.element,r=this.options,a=o.closest(".table-component"),l=n.isValue(this.wrapperInfo)?this.wrapperInfo:a.find(".table-info");0!==l.length&&(t>i&&(t=i),0===this.items.length&&(e=t=i=0),s=(s=(s=(s=r.tableInfoTitle||this.locale.table.info).replace("$1",e)).replace("$2",t)).replace("$3",i),l.html(s))},_paging:function(t){var i=this.element,s=this.options,o=i.closest(".table-component");this.pagesCount=Math.ceil(t/s.rows),e.pagination({length:t,rows:s.rows,current:this.currentPage,target:n.isValue(this.wrapperPagination)?this.wrapperPagination:o.find(".table-pagination"),claPagination:s.clsPagination,prevTitle:s.paginationPrevTitle||this.locale.table.prev,nextTitle:s.paginationNextTitle||this.locale.table.next,distance:!0===s.paginationShortMode?s.paginationDistance:0})},_filter:function(){var e,i=this,s=this.options;return e=n.isValue(this.searchString)&&i.searchString.length>=s.searchMinLength||this.filters.length>0?this.items.filter((function(e){var o,r,a,l="",c=0;if(i.filters.length>0){for(o="and"===s.filtersOperator.toLowerCase(),a=0;a<i.filters.length;a++)n.isNull(i.filters[a])||(c++,o="and"===s.filtersOperator.toLowerCase()?o&&n.exec(i.filters[a],[e,i.heads]):o||n.exec(i.filters[a],[e,i.heads]));0===c&&(o=!0)}else o=!0;return i.searchFields.length>0?t.each(i.heads,(function(t,n){i.searchFields.indexOf(n.name)>-1&&(l+=""+e[t])})):l=e.join(""),l=l.replace(/[\n\r]+|[\s]{2,}/g," ").trim().toLowerCase(),r=!(n.isValue(i.searchString)&&i.searchString.length>=s.searchMinLength)||~l.indexOf(i.searchString),(o=o&&r)?i._fireEvent("filter-row-accepted",{row:e}):i._fireEvent("filter-row-declined",{row:e}),o})):this.items,this._fireEvent("search",{search:i.searchString,items:e}),this.filteredItems=e,e},_draw:function(i){var s,o,r,a,l,c,h,u,d,p=this,f=this.element,g=this.options,m=f.find("tbody"),v=-1===parseInt(g.rows)?0:g.rows*(this.currentPage-1),w=-1===parseInt(g.rows)?this.items.length-1:v+g.rows-1,b=[],y=e.storage.getItem(g.checkStoreKey.replace("$1",f.attr("id"))),C=g.staticView?this.viewDefault:this.view;if(m.html(""),this.heads.length){if(d=this._filter(),this.currentSlice=d.slice(v,w+1),b=[],d.length>0){for(s=v;s<=w;s++)if(c=d[s],h=[],n.isValue(c)){for((r=t("<tr>").addClass(g.clsBodyRow)).data("original",c),u=s%2==0,a=t("<td>").html(s+1),void 0!==p.service[0].clsColumn&&a.addClass(p.service[0].clsColumn),a.appendTo(r),a=t("<td>"),l="checkbox"===g.checkType?t("<input type='checkbox' data-style='"+g.checkStyle+"' data-role='checkbox' name='"+(n.isValue(g.checkName)?g.checkName:"table_row_check")+"[]' value='"+d[s][g.checkColIndex]+"'>"):t("<input type='radio' data-style='"+g.checkStyle+"' data-role='radio' name='"+(n.isValue(g.checkName)?g.checkName:"table_row_check")+"' value='"+d[s][g.checkColIndex]+"'>"),n.isValue(y)&&Array.isArray(y)&&y.indexOf(""+d[s][g.checkColIndex])>-1&&(l.prop("checked",!0),b.push(c)),l.addClass("table-service-check"),this._fireEvent("check-draw",{check:l}),l.appendTo(a),void 0!==p.service[1].clsColumn&&a.addClass(p.service[1].clsColumn),a.appendTo(r),o=0;o<c.length;o++)h[o]=null;for(t.each(c,(function(e){var i=this,s=t("<td>");n.isValue(p.heads[e].template)&&(i=p.heads[e].template.replace(/%VAL%/g,i)),s.html(i),s.addClass(g.clsBodyCell),n.isValue(p.heads[e].clsColumn)&&s.addClass(p.heads[e].clsColumn),!1===n.bool(C[e].show)&&s.addClass("hidden"),n.bool(C[e].show)&&s.removeClass("hidden"),s.data("original",this),h[C[e]["index-view"]]=s,p._fireEvent("draw-cell",{td:s,val:i,cellIndex:e,head:p.heads[e],items:c}),!0===g.cellWrapper&&(i=t("<div>").addClass("data-wrapper").addClass(g.clsCellWrapper).html(s.html()),s.html("").append(i))})),o=0;o<c.length;o++)h[o].appendTo(r),p._fireEvent("append-cell",{td:h[o],tr:r,index:o});p._fireEvent("draw-row",{tr:r,view:p.view,heads:p.heads,items:c}),r.addClass(g.clsRow).addClass(u?g.clsEvenRow:g.clsOddRow).appendTo(m),p._fireEvent("append-row",{tr:r})}t(this.component).find(".table-service-check-all input").prop("checked",b.length)}else o=0,t.each(C,(function(){this.show&&o++})),!0===g.check&&o++,!0===g.rownum&&o++,r=t("<tr>").addClass(g.clsBodyRow).appendTo(m),(a=t("<td>").attr("colspan",o).addClass("text-center").html(t("<span>").addClass(g.clsEmptyTableTitle).html(g.emptyTableTitle||p.locale.table.empty))).appendTo(r);this._info(v+1,w+1,d.length),this._paging(d.length),this.activity&&this.activity.hide(),this._fireEvent("draw"),void 0!==i&&n.exec(i,null,f[0])}else console.warn("Heads is not defined for table ID "+f.attr("id"))},_getItemContent:function(e){var t,i=this.options,s=e[this.sort.colIndex],o=this.heads[this.sort.colIndex].format,r=n.isNull(this.heads)||n.isNull(this.heads[this.sort.colIndex])||!n.isValue(this.heads[this.sort.colIndex].formatMask)?"%Y-%m-%d":this.heads[this.sort.colIndex].formatMask,a=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].thousandSeparator?this.heads[this.sort.colIndex].thousandSeparator:i.thousandSeparator,l=this.heads&&this.heads[this.sort.colIndex]&&this.heads[this.sort.colIndex].decimalSeparator?this.heads[this.sort.colIndex].decimalSeparator:i.decimalSeparator;if(t=(""+s).toLowerCase().replace(/[\n\r]+|[\s]{2,}/g," ").trim(),n.isValue(t)&&n.isValue(o))switch(-1!==["number","int","float","money"].indexOf(o)&&(t=n.parseNumber(t,a,l)),o){case"date":t=r?Datetime.from(t,r,i.locale):datetime(t);break;case"number":t=+t;break;case"int":t=parseInt(t);break;case"float":t=parseFloat(t);break;case"money":t=n.parseMoney(t);break;case"card":t=n.parseCard(t);break;case"phone":t=n.parsePhone(t)}return t},addItem:function(e,t){if(!Array.isArray(e))return console.warn("Item is not an array and can't be added"),this;this.items.push(e),!1!==t&&this.draw()},addItems:function(e,t){if(!Array.isArray(e))return console.warn("Items is not an array and can't be added"),this;e.forEach((function(e){Array.isArray(e)&&this.items.push(e,!1)})),this.draw(),!1!==t&&this.draw()},updateItem:function(e,t,i){var s=this.items[this.index[e]],o=null;return n.isNull(s)?(console.warn("Item is undefined for update"),this):(isNaN(t)&&this.heads.forEach((function(e,n){e.name===t&&(o=n)})),n.isNull(o)?(console.warn("Item is undefined for update. Field "+t+" not found in data structure"),this):(s[o]=i,this.items[this.index[e]]=s,this))},getItem:function(e){return this.items[this.index[e]]},deleteItem:function(e,t){var i,s=[],o=n.isFunc(t);for(i=0;i<this.items.length;i++)o?n.exec(t,[this.items[i][e]])&&s.push(i):this.items[i][e]===t&&s.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,s),this},deleteItemByName:function(e,t){var i,s,o=[],r=n.isFunc(t);for(i=0;i<this.heads.length;i++)if(this.heads[i].name===e){s=i;break}for(i=0;i<this.items.length;i++)r?n.exec(t,[this.items[i][s]])&&o.push(i):this.items[i][s]===t&&o.push(i);return this.items=n.arrayDeleteByMultipleKeys(this.items,o),this},draw:function(){return this._draw(),this},sorting:function(e){var t=this;return n.isValue(e)&&(this.sort.dir=e),this._fireEvent("sort-start",{items:this.items}),this.items.sort((function(e,n){var i=t._getItemContent(e),s=t._getItemContent(n),o=0;return i<s&&(o="asc"===t.sort.dir?-1:1),i>s&&(o="asc"===t.sort.dir?1:-1),0!==o&&t._fireEvent("sort-item-switch",{a:e,b:n,result:o}),o})),this._fireEvent("sort-stop",{items:this.items}),this},search:function(e){return this.searchString=e.trim().toLowerCase(),this.currentPage=1,this._draw(),this},_rebuild:function(e){var n,i=this,s=this.element,o=!1;this._createIndex(),!0===e&&(this.view=this._createView()),this._createTableHeader(),this._createTableBody(),this._createTableFooter(),this.heads.length>0&&t.each(this.heads,(function(e){!o&&["asc","desc"].indexOf(this.sortDir)>-1&&(o=!0,i.sort.colIndex=e,i.sort.dir=this.sortDir)})),o&&(n=s.find(".sortable-column"),this._resetSortClass(n),t(n.get(i.sort.colIndex)).addClass("sort-"+i.sort.dir),this.sorting()),i.currentPage=1,i._draw()},setHeads:function(e){return this.heads=e,this},setHeadItem:function(e,t){var n,i;for(n=0;n<this.heads.length;n++)if(this.heads[n].name===e){i=n;break}return this.heads[i]=t,this},setItems:function(e){return this.items=e,this},setData:function(e){var t=this,n=this.options;return this.activity.show((function(){t.items=[],t.heads=[],t.foots=[],Array.isArray(n.head)&&(t.heads=n.head),Array.isArray(n.body)&&(t.items=n.body),t._createItemsFromJSON(e),t._rebuild(!0),t.activity.hide()})),this},loadData:function(t,i){var s=this,o=this.element,r=this.options;n.isValue(i)||(i=!0),o.html(""),n.isValue(t)?(r.source=t,this._fireEvent("data-load",{source:r.source}),s.activity.show((function(){fetch(r.source).then(e.fetch.status).then(e.fetch.json).then((function(e){s.activity.hide(),s.items=[],s.heads=[],s.foots=[],s._fireEvent("data-loaded",{source:r.source,data:e}),Array.isArray(r.head)&&(s.heads=r.head),Array.isArray(r.body)&&(s.items=r.body),s._createItemsFromJSON(e),s._rebuild(i),s._resetInspector(),s._fireEvent("data-load-end",{source:r.source,data:e})})).catch((function(e){s.activity.hide(),s._fireEvent("data-load-error",{source:r.source,error:e})}))}))):this._rebuild(i)},reload:function(e){this.loadData(this.options.source,e)},clear:function(){return this.items=[],this.draw()},next:function(){if(0!==this.items.length){if(this.currentPage++,!(this.currentPage>this.pagesCount))return this._draw(),this;this.currentPage=this.pagesCount}},prev:function(){if(0!==this.items.length){if(this.currentPage--,0!==this.currentPage)return this._draw(),this;this.currentPage=1}},first:function(){if(0!==this.items.length)return this.currentPage=1,this._draw(),this},last:function(){if(0!==this.items.length)return this.currentPage=this.pagesCount,this._draw(),this},page:function(e){return e<=0&&(e=1),e>this.pagesCount&&(e=this.pagesCount),this.currentPage=e,this._draw(),this},addFilter:function(e,t){var i,s=null,o=n.isFunc(e);if(!1!==o){for(i=0;i<this.filters.length;i++)if(n.isNull(this.filters[i])){s=i,this.filters[i]=o;break}return n.isNull(s)&&(this.filters.push(o),s=this.filters.length-1),!0===t&&(this.currentPage=1,this.draw()),s}},removeFilter:function(e,t){return this.filters[e]=null,!0===t&&(this.currentPage=1,this.draw()),this},removeFilters:function(e){return this.filters=[],!0===e&&(this.currentPage=1,this.draw()),this},getItems:function(){return this.items},getHeads:function(){return this.heads},getView:function(){return this.view},getFilteredItems:function(){return this.filteredItems.length>0?this.filteredItems:this.items},getSelectedItems:function(){var i=this.element,s=this.options,o=e.storage.getItem(s.checkStoreKey.replace("$1",i.attr("id"))),r=[];return n.isValue(o)?(t.each(this.items,(function(){-1!==o.indexOf(""+this[s.checkColIndex])&&r.push(this)})),r):[]},getStoredKeys:function(){var t=this.element,n=this.options;return e.storage.getItem(n.checkStoreKey.replace("$1",t.attr("id")),[])},clearSelected:function(t){var n=this.element,i=this.options;e.storage.setItem(i.checkStoreKey.replace("$1",n.attr("id")),[]),n.find("table-service-check-all input").prop("checked",!1),!0===t&&this._draw()},getFilters:function(){return this.filters},getFiltersIndexes:function(){return this.filtersIndexes},openInspector:function(e){var n=this.inspector;e?n.show(0,(function(){n.css({top:(t(window).height()-n.outerHeight(!0))/2+pageYOffset,left:(t(window).width()-n.outerWidth(!0))/2+pageXOffset}).data("open",!0)})):n.hide().data("open",!1)},closeInspector:function(){this.openInspector(!1)},toggleInspector:function(){this.openInspector(!this.inspector.data("open"))},resetView:function(){this.view=this._createView(),this._createTableHeader(),this._createTableFooter(),this._draw(),this._resetInspector(),this._saveTableView()},rebuildIndex:function(){this._createIndex()},getIndex:function(){return this.index},export:function(i,s,o,r){var a,l,c,h,u,d,p,f,g=e.export,m=this,v=this.options,w=document.createElement("table"),b=t("<thead>").appendTo(w),y=t("<tbody>").appendTo(w),C=[];if("function"==typeof g.tableToCSV){for(s=n.isValue(s)?s.toLowerCase():"all-filtered",o=n.isValue(o)?o:n.elementId("table")+"-export.csv",u=t("<tr>"),c=this.heads,l=0;l<c.length;l++)C[l]=null;for(t.each(c,(function(e){!1!==n.bool(m.view[e].show)&&(d=t("<th>"),n.isValue(this.title)&&d.html(this.title),C[m.view[e]["index-view"]]=d)})),l=0;l<c.length;l++)n.isValue(C[l])&&C[l].appendTo(u);for(u.appendTo(b),"checked"===s?(p=0,f=(h=this.getSelectedItems()).length-1):"view"===s?(h=this._filter(),p=-1===parseInt(v.rows)?0:v.rows*(this.currentPage-1),f=-1===parseInt(v.rows)?h.length-1:p+v.rows-1):"all"===s?(p=0,f=(h=this.items).length-1):(p=0,f=(h=this._filter()).length-1),a=p;a<=f;a++)if(n.isValue(h[a])){for(u=t("<tr>"),c=h[a],l=0;l<c.length;l++)C[l]=null;for(t.each(c,(function(e){!1!==n.bool(m.view[e].show)&&(d=t("<td>").html(this),C[m.view[e]["index-view"]]=d)})),l=0;l<c.length;l++)n.isValue(C[l])&&C[l].appendTo(u);u.appendTo(y)}g.tableToCSV(w,o,r),w.remove()}},changeAttribute:function(e){var t=this,i=this.element,s=this.options;switch(e){case"data-check":s.check=n.bool(i.attr("data-check")),t._service(),t._createTableHeader(),t._draw();break;case"data-rownum":s.rownum=n.bool(i.attr("data-rownum")),t._service(),t._createTableHeader(),t._draw()}},destroy:function(){var i=this.element,s=i.closest(".table-component"),o=s.find("input"),r=s.find("select");if(o.data("input").destroy(),r.data("select").destroy(),t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".sortable-column"),i.off(e.events.click,".table-service-check input"),i.off(e.events.click,".table-service-check-all input"),o.off(e.events.inputchange),n.isValue(this.wrapperSearch)){var a=this.wrapperSearch.find("input");a.length>0&&a.off(e.events.inputchange)}return s.off(e.events.click,".pagination .page-link"),n.isValue(this.wrapperPagination)&&this.wrapperPagination.off(e.events.click,".pagination .page-link"),i.off(e.events.click,".js-table-crud-button"),this._removeInspectorEvents(),i}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={wheelStep:20,materialtabsDeferred:0,deep:!1,fixedTabs:!1,duration:300,appBar:!1,clsComponent:"",clsTabs:"",clsTab:"",clsTabActive:"",clsMarker:"",onBeforeTabOpen:e.noop_true,onTabOpen:e.noop,onTabsScroll:e.noop,onTabsCreate:e.noop};e.materialTabsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroMaterialTabsSetup&&e.materialTabsSetup(window.metroMaterialTabsSetup),e.Component("material-tabs",{init:function(e,t){return this._super(t,e,i,{marker:null,scroll:0,scrollDir:"left"}),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var e=this.element,n=this.options,i=e.find("li"),s=e.find("li.active"),o=t("<div>").addClass("tabs-material-wrapper").addClass(n.clsComponent).insertBefore(e);!0===n.appBar&&o.addClass("app-bar-present"),"more"===n.appBar&&o.addClass("app-bar-present-more"),e.appendTo(o),e.addClass("tabs-material").addClass(n.clsTabs),i.addClass(n.clsTab),!0===n.deep&&e.addClass("deep"),!0===n.fixedTabs&&e.addClass("fixed-tabs"),this.marker=e.find(".tab-marker"),0===this.marker.length&&(this.marker=t("<span>").addClass("tab-marker").addClass(n.clsMarker).appendTo(e)),this.openTab(0===s.length?i[0]:s[0])},_createEvents:function(){var i=this,s=this.element,o=this.options;s.on(e.events.click,"li",(function(e){var r=t(this),a=s.find("li.active"),l=r.index()>a.index(),c=r.children("a").attr("href");if(e.preventDefault(),n.isValue(c)&&"#"===c[0]){if(r.hasClass("active"))return;if(r.hasClass("disabled"))return;if(!1===n.exec(o.onBeforeTabOpen,[r,c,l],this))return;i.openTab(r,l)}})),s.on(e.events.scroll,(function(){var e=i.scroll;i.scrollDir=i.scroll<s[0].scrollLeft?"left":"right",i.scroll=s[0].scrollLeft,i._fireEvent("tabs-scroll",{scrollLeft:s[0].scrollLeft,oldScroll:e,scrollDir:i.scrollDir})})),s.on(e.events.mousewheel,(function(e){if(void 0!==e.deltaY){var n,i=t(this),s=e.deltaY>0?-1:1,r=o.wheelStep;n=i.scrollLeft()-s*r,i.scrollLeft(n)}}))},openTab:function(e,i){var s,o,r,a,l,c,h,u=this.element,d=this.options,p=u.find("li");e=t(e),t.each(p,(function(){var e=t(this).find("a").attr("href");n.isValue(e)&&"#"===e[0]&&e.length>1&&t(e).hide()})),o=u.width(),c=u.scrollLeft(),s=(l=e.position().left)+(r=e.width()),p.removeClass("active").removeClass(d.clsTabActive),e.addClass("active").addClass(d.clsTabActive),h=s+52>o+c?c+104:l<c?l-104:c,u.animate({draw:{scrollLeft:h},dur:d.duration}),this.marker.animate({draw:{left:l,width:r},dur:d.duration}),a=e.find("a").attr("href"),n.isValue(a)&&"#"===a[0]&&a.length>1&&t(a).show(),this._fireEvent("tab-open",{tab:e[0],target:a,tab_next:i})},open:function(e){var t=this.element,n=t.find("li"),i=t.find("li.active"),s=n.eq(e-1),o=n.index(s)>n.index(i);this.openTab(s,o)},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,"li"),t.off(e.events.scroll),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={tabsDeferred:0,expand:!1,expandPoint:null,tabsPosition:"top",tabsType:"default",updateUri:!1,clsTabs:"",clsTabsList:"",clsTabsListItem:"",clsTabsListItemActive:"",onTab:e.noop,onTabOpen:e.noop,onTabClose:e.noop,onBeforeTab:e.noop_true,onTabsCreate:e.noop};e.tabsSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTabsSetup&&e.tabsSetup(window.metroTabsSetup),e.Component("tabs",{init:function(e,t){return this._super(t,e,i,{_targets:[],id:n.elementId("tabs")}),this},_create:function(){var e=this.element,n=(this.options,e.find(".active").length>0?t(e.find(".active")[0]):void 0);this._createStructure(),this._createEvents(),this._open(n),this._fireEvent("tabs-create",{element:e})},_createStructure:function(){var i,s,o=this.element,r=this.options,a=o.parent(),l=a.hasClass("tabs"),c=l?a:t("<div>").addClass("tabs tabs-wrapper");if(c.addClass(r.tabsPosition.replace(["-","_","+"]," ")),o.addClass("tabs-list"),"default"!==r.tabsType&&o.addClass("tabs-"+r.tabsType),l||(c.insertBefore(o),o.appendTo(c)),o.data("expanded",!1),i=t("<div>").addClass("expand-title"),c.prepend(i),0===(s=c.find(".hamburger")).length){s=t("<button>").attr("type","button").addClass("hamburger menu-down").appendTo(c);for(var h=0;h<3;h++)t("<span>").addClass("line").appendTo(s);!0===e.colors.isLight(n.getStyleOne(c,"background-color"))&&s.addClass("dark")}c.addClass(r.clsTabs),o.addClass(r.clsTabsList),o.children("li").addClass(r.clsTabsListItem),!0!==r.expand||r.tabsPosition.includes("vertical")?n.isValue(r.expandPoint)&&n.mediaExist(r.expandPoint)&&!r.tabsPosition.includes("vertical")&&c.addClass("tabs-expand"):c.addClass("tabs-expand"),r.tabsPosition.includes("vertical")&&c.addClass("tabs-expand")},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.parent();t(window).on(e.events.resize,(function(){o.tabsPosition.includes("vertical")||(!0!==o.expand||o.tabsPosition.includes("vertical")?n.isValue(o.expandPoint)&&n.mediaExist(o.expandPoint)&&!o.tabsPosition.includes("vertical")?r.hasClass("tabs-expand")||r.addClass("tabs-expand"):r.hasClass("tabs-expand")&&r.removeClass("tabs-expand"):r.addClass("tabs-expand"))}),{ns:this.id}),r.on(e.events.click,".hamburger, .expand-title",(function(){!1===s.data("expanded")?(s.addClass("expand"),s.data("expanded",!0),r.find(".hamburger").addClass("active")):(s.removeClass("expand"),s.data("expanded",!1),r.find(".hamburger").removeClass("active"))})),s.on(e.events.click,"a",(function(e){var a=t(this),l=a.attr("href").trim(),c=a.parent("li");if(i._fireEvent("tab",{tab:c[0],target:c.children("a").attr("href")}),c.hasClass("active")&&e.preventDefault(),!0===s.data("expanded")&&(s.removeClass("expand"),s.data("expanded",!1),r.find(".hamburger").removeClass("active")),!0!==n.exec(o.onBeforeTab,[c,s],c[0]))return!1;n.isValue(l)&&"#"===l[0]&&(i._open(c),e.preventDefault())})),t(window).on("hashchange",(function(e){var n,s;o.updateUri&&(n=window.location.hash,s=i._findTabByTarget(n),i._open(t(s)))}))},_findTabByTarget:function(e){var n=this.element.find("li"),i=void 0;return n.each((function(n,s){i||t(s).children("a").attr("href")!==e||(i=s)})),i},_collectTargets:function(){var e=this,n=this.element.find("li");this._targets=[],t.each(n,(function(){var n=t(this).find("a").attr("href").trim();n.length>1&&"#"===n[0]&&e._targets.push(n)}))},_open:function(e){var n=this.element,i=this.options,s=n.find("li"),o=n.siblings(".expand-title"),r=n.find("li.active");if(0!==s.length){this._collectTargets(),void 0===e&&(e=t(s[0]));var a=e.find("a").attr("href");void 0!==a&&(s.removeClass("active").removeClass(i.clsTabsListItemActive),e.parent().hasClass("d-menu")?e.parent().parent().addClass("active"):e.addClass("active"),t.each(this._targets,(function(){var e=t(this);e.length>0&&e.hide()})),"#"!==a&&"#"===a[0]&&(i.updateUri&&(window.location.hash=a),t(a).show()),o.html(e.find("a").html()),e.addClass(i.clsTabsListItemActive),r.is(e)||(this._fireEvent("tab-open",{tab:e[0],target:e.children("a").attr("href")}),this._fireEvent("tab-close",{tab:r[0],target:r.children("a").attr("href")})))}},next:function(){var e;(e=this.element.find("li.active").next("li")).length>0&&this._open(e)},prev:function(){var e;(e=this.element.find("li.active").prev("li")).length>0&&this._open(e)},openByTarget:function(e){var n=this._findTabByTarget(e);n&&this._open(t(n))},open:function(e){var i=this.element.find("li");n.isValue(e)||(e=1),n.isInt(e)?n.isValue(i[e-1])&&this._open(t(i[e-1])):this._open(t(e))},changeAttribute:function(){},destroy:function(){var n=this.element,i=n.parent();return t(window).off(e.events.resize,{ns:this.id}),i.off(e.events.click,".hamburger, .expand-title"),n.off(e.events.click,"a"),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={autocomplete:null,autocompleteUnique:!0,autocompleteUrl:null,autocompleteUrlMethod:"GET",autocompleteUrlKey:null,autocompleteDivider:",",autocompleteListHeight:200,label:"",size:"normal",taginputDeferred:0,static:!1,clearButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",randomColor:!1,maxTags:0,tagSeparator:",",tagTrigger:"Enter, Space, Comma",backspace:!0,clsComponent:"",clsInput:"",clsClearButton:"",clsTag:"",clsTagTitle:"",clsTagRemover:"",clsLabel:"",onBeforeTagAdd:e.noop_true,onTagAdd:e.noop,onBeforeTagRemove:e.noop_true,onTagRemove:e.noop,onTag:e.noop,onClear:e.noop,onTagTrigger:e.noop,onTagInputCreate:e.noop};e.tagInputSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTagInputSetup&&e.tagInputSetup(window.metroTagInputSetup),e.Component("tag-input",{init:function(e,t){return this._super(t,e,i,{values:[],triggers:[],autocomplete:[]}),this},_create:function(){this.triggers=(""+this.options.tagTrigger).toArray(","),(this.triggers.includes("Space")||this.triggers.includes("Spacebar"))&&(this.triggers.push(" "),this.triggers.push("Spacebar")),this.triggers.includes("Comma")&&this.triggers.push(","),this._createStructure(),this._createEvents(),this._fireEvent("tag-input-create",{element:this.element})},_createStructure:function(){var e,i=this,s=this.element,o=this.options,r=s.val().trim();if(e=t("<div>").addClass("tag-input "+s[0].className).addClass(o.clsComponent).insertBefore(s),s.appendTo(e),e.addClass("input-"+o.size),s[0].className="",s.addClass("original-input"),t("<input type='text'>").addClass("input-wrapper").addClass(o.clsInput).attr("size",1).appendTo(e),!1===o.clearButton||s[0].readOnly||(e.addClass("padding-for-clear"),t("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(o.clearButtonIcon).appendTo(e)),n.isValue(r)&&t.each(r.toArray(o.tagSeparator),(function(){i._addTag(this)})),o.label){var a=t("<label>").addClass("label-for-input").addClass(o.clsLabel).html(o.label).insertBefore(e);s.attr("id")&&a.attr("for",s.attr("id")),"rtl"===s.attr("dir")&&a.addClass("rtl")}if(s.is(":disabled")?this.disable():this.enable(),!0!==o.static&&void 0===s.attr("readonly")||e.addClass("static-mode"),n.isNull(o.autocomplete)&&n.isNull(o.autocompleteUrl)||t("<div>").addClass("autocomplete-list").css({maxHeight:o.autocompleteListHeight,display:"none"}).appendTo(e),n.isValue(o.autocomplete)){var l=n.isObject(o.autocomplete);this.autocomplete=!1!==l?l:o.autocomplete.toArray(o.autocompleteDivider)}n.isValue(o.autocompleteUrl)&&fetch(o.autocompleteUrl,{method:o.autocompleteUrlMethod}).then((function(e){return e.text()})).then((function(e){var t=[];try{t=JSON.parse(e),o.autocompleteUrlKey&&(t=t[o.autocompleteUrlKey])}catch(n){t=e.split("\n")}i.autocomplete=i.autocomplete.concat(t)}))},_createEvents:function(){var n=this,i=this.element,s=this.options,o=i.closest(".tag-input"),r=o.find(".input-wrapper"),a=o.find(".autocomplete-list");r.on(e.events.focus,(function(){o.addClass("focused")})),r.on(e.events.blur,(function(){o.removeClass("focused")})),r.on(e.events.inputchange,(function(){r.attr("size",Math.ceil(r.val().length/2)+2)})),r.on(e.events.keydown,(function(e){var t=r.val().trim(),o=e.key;"Enter"===o&&e.preventDefault(),!0!==s.backspace||"Backspace"!==o||0!==t.length?""!==t&&n.triggers.includes(o)&&(n._fireEvent("tag-trigger",{key:o}),r.val(""),n._addTag(t),r.attr("size",1)):n.values.length>0&&(n.values.splice(-1,1),i.siblings(".tag").last().remove(),i.val(n.values.join(s.tagSeparator)))})),r.on(e.events.keyup,(function(e){var t=r.val(),i=e.key;n.triggers.includes(i)&&t[t.length-1]===i&&r.val(t.slice(0,-1))})),o.on(e.events.click,".tag .remover",(function(){var e=t(this).closest(".tag");n._delTag(e)})),o.on(e.events.click,(function(){r.focus()})),o.on(e.events.click,".input-clear-button",(function(){var e=i.val();n.clear(),n._fireEvent("clear",{val:e})})),r.on(e.events.input,(function(){var e=this.value.toLowerCase();n._drawAutocompleteList(e)})),o.on(e.events.click,".autocomplete-list .item",(function(){var e=t(this).attr("data-autocomplete-value");r.val(""),n._addTag(e),r.attr("size",1),a.css({display:"none"}),n._fireEvent("autocomplete-select",{value:e})}))},_drawAutocompleteList:function(e){var n,i=this,s=this.element,o=this.options,r=s.closest(".tag-input"),a=r.find(".input-wrapper"),l=r.find(".autocomplete-list");0!==l.length&&(l.html(""),n=this.autocomplete.filter((function(t){return t.toLowerCase().indexOf(e)>-1})),l.css({display:n.length>0?"block":"none",left:a.position().left}),t.each(n,(function(){if(!o.autocompleteUnique||-1===i.values.indexOf(this)){var n,s=this,r=s.toLowerCase().indexOf(e),a=t("<div>").addClass("item").attr("data-autocomplete-value",s);n=0===r?"<strong>"+s.substr(0,e.length)+"</strong>"+s.substr(e.length):s.substr(0,r)+"<strong>"+s.substr(r,e.length)+"</strong>"+s.substr(r+e.length),a.html(n).appendTo(l),i._fireEvent("draw-autocomplete-item",{item:a})}})))},_addTag:function(i){var s,o,r,a,l=this.element,c=this.options,h=l.closest(".tag-input"),u=h.find(".input-wrapper");if(h.hasClass("input-large")?a="large":h.hasClass("input-small")&&(a="small"),!(c.maxTags>0&&this.values.length===c.maxTags)&&""!==(""+i).trim()&&n.exec(c.onBeforeTagAdd,[i,this.values],l[0])){if((s=t("<span>").addClass("tag").addClass(a).addClass(c.clsTag).insertBefore(u)).data("value",i),(c.static||h.hasClass("static-mode")||l.readonly||l.disabled||h.hasClass("disabled"))&&s.addClass("static"),o=t("<span>").addClass("title").addClass(c.clsTagTitle).html(i),r=t("<span>").addClass("remover").addClass(c.clsTagRemover).html("&times;"),o.appendTo(s),r.appendTo(s),!0===c.randomColor){var d,p,f,g=e.colors.colors(e.colors.PALETTES.ALL);d=g[t.random(0,g.length-1)],f=e.colors.darken(d,15),p=e.colors.isDark(d)?"#ffffff":"#000000",s.css({backgroundColor:d,color:p}),r.css({backgroundColor:f,color:p})}this.values.push(i),l.val(this.values.join(c.tagSeparator)),this._fireEvent("tag-add",{tag:s[0],val:i,values:this.values}),this._fireEvent("tag",{tag:s[0],val:i,values:this.values})}},_delTag:function(e){var t=this.element,i=this.options,s=e.data("value");n.exec(i.onBeforeTagRemove,[e,s,this.values],t[0])&&(n.arrayDelete(this.values,s),t.val(this.values.join(i.tagSeparator)),this._fireEvent("tag-remove",{tag:e[0],val:s,values:this.values}),this._fireEvent("tag",{tag:e[0],val:s,values:this.values}),e.remove())},tags:function(){return this.values},val:function(e){var i=this,s=this.element,o=this.options,r=s.closest(".tag-input"),a=[];return n.isValue(e)?(this.values=[],r.find(".tag").remove(),"string"==typeof e?a=(""+e).toArray(o.tagSeparator):Array.isArray(e)&&(a=e),t.each(a,(function(){i._addTag(this)})),this):this.tags()},append:function(e){var n=this,i=this.options,s=this.values;return"string"==typeof e?s=(""+e).toArray(i.tagSeparator):Array.isArray(e)&&(s=e),t.each(s,(function(){n._addTag(this)})),this},clear:function(){var e=this.element,t=e.closest(".tag-input");return this.values=[],e.val("").trigger("change"),t.find(".tag").remove(),this},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},toggleStatic:function(e){var t=this.element.closest(".tag-input");(n.isValue(e)?n.bool(e):!t.hasClass("static-mode"))?t.addClass("static-mode"):t.removeClass("static-mode")},setAutocompleteList:function(e){var t=n.isObject(e);!1!==t?this.autocomplete=t:"string"==typeof e&&(this.autocomplete=e.toArray(this.options.autocompleteDivider))},changeAttribute:function(e){var t,i=this.element,s=this.options;switch(e){case"value":t=i.attr("value").trim(),this.clear(),n.isValue(t)&&this.val(t.toArray(s.tagSeparator));break;case"disabled":this.toggleState();break;case"static":this.toggleStatic()}},destroy:function(){var t=this.element,n=t.closest(".tag-input"),i=n.find(".input-wrapper");return i.off(e.events.focus),i.off(e.events.blur),i.off(e.events.keydown),n.off(e.events.click,".tag .remover"),n.off(e.events.click),t}}),t(document).on(e.events.click,(function(){t(".tag-input .autocomplete-list").hide()}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i=function(e,i,s){var o,r,a,l="<%(.+?)%>",c=/(^( )?(var|if|for|else|switch|case|break|{|}|;))(.*)?/g,h="with(obj) { var r=[];\n",u=0,d=function(e,t){return h+=t?e.match(c)?e+"\n":"r.push("+e+");\n":""!==e?'r.push("'+e.replace(/"/g,'\\"')+'");\n':"",d};for(n.isValue(s)&&(t.hasProp(s,"beginToken")&&(l=l.replace("<%",s.beginToken)),t.hasProp(s,"endToken")&&(l=l.replace("%>",s.endToken))),a=(o=new RegExp(l,"g")).exec(e);a;)d(e.slice(u,a.index))(a[1],!0),u=a.index+a[0].length,a=o.exec(e);d(e.substr(u,e.length-u)),h=(h+'return r.join(""); }').replace(/[\r\t\n]/g," ");try{r=new Function("obj",h).apply(i,[i])}catch(e){console.error("'"+e.message+"'"," in \n\nCode:\n",h,"\n")}return r},s={templateData:null,onTemplateCompile:e.noop,onTemplateCreate:e.noop};e.templateSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroTemplateSetup&&e.templateSetup(window.metroTemplateSetup),e.Component("template",{init:function(e,t){return this._super(t,e,s,{template:null,data:{}}),this},_compile:function(){var e,t,n=this.element;e=this.template.replace(/(&lt;%)/gm,"<%").replace(/(%&gt;)/gm,"%>").replace(/(&lt;)/gm,"<").replace(/(&gt;)/gm,">"),t=i(e,this.data),n.html(t),this._fireEvent("template-compile",{template:e,compiled:t,element:n})},_create:function(){var e=this.element,t=this.options;this.template=e.html(),this.data=n.isObject(t.templateData)||{},this._compile(),this._fireEvent("template-create",{element:e})},buildWith:function(e){var t=n.isObject(e);t&&(this.data=t,this._compile())},changeAttribute:function(e,t){"data-template-data"===e&&(this.options.templateData=t,this.data=n.isObject(t)||{},this._compile())},destroy:function(){return this.element}}),e.template=i}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={label:"",textareaDeferred:0,charsCounter:null,charsCounterTemplate:"$1",defaultValue:"",prepend:"",append:"",copyInlineStyles:!1,clearButton:!0,clearButtonIcon:"<span class='default-icon-cross'></span>",autoSize:!0,maxHeight:0,clsPrepend:"",clsAppend:"",clsComponent:"",clsTextarea:"",clsLabel:"",onChange:e.noop,onTextareaCreate:e.noop};e.textareaSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTextareaSetup&&e.textareaSetup(window.metroTextareaSetup),e.Component("textarea",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this.element;this._createStructure(),this._createEvents(),this._fireEvent("textarea-create",{element:e})},_createStructure:function(){var e,i=this,s=this.element,o=this.elem,r=this.options,a=t("<div>").addClass("textarea "+s[0].className),l=t("<textarea>").addClass("fake-textarea");if(a.insertBefore(s),s.appendTo(a),l.appendTo(a),!1===r.clearButton||s[0].readOnly||(e=t("<button>").addClass("button input-clear-button").attr("tabindex",-1).attr("type","button").html(r.clearButtonIcon)).appendTo(a),"rtl"===s.attr("dir")&&a.addClass("rtl").attr("dir","rtl"),""!==r.prepend&&t("<div>").html(r.prepend).addClass("prepend").addClass(r.clsPrepend).appendTo(a),""!==r.append){var c=t("<div>").html(r.append);c.addClass("append").addClass(r.clsAppend).appendTo(a),e.css({right:c.outerWidth()+4})}if(o.className="",!0===r.copyInlineStyles)for(var h=0,u=o.style.length;h<u;h++)a.css(o.style[h],s.css(o.style[h]));if(n.isValue(r.defaultValue)&&""===s.val().trim()&&s.val(r.defaultValue),a.addClass(r.clsComponent),s.addClass(r.clsTextarea),r.label){var d=t("<label>").addClass("label-for-input").addClass(r.clsLabel).html(r.label).insertBefore(a);s.attr("id")&&d.attr("for",s.attr("id")),"rtl"===s.attr("dir")&&d.addClass("rtl")}s.is(":disabled")?this.disable():this.enable(),l.val(s.val()),!0===r.autoSize&&(a.addClass("autosize no-scroll-vertical"),setTimeout((function(){i.resize()}),100))},_createEvents:function(){var i=this,s=this.element,o=this.options,r=s.closest(".textarea"),a=r.find(".fake-textarea"),l=t(o.charsCounter);r.on(e.events.click,".input-clear-button",(function(){s.val(n.isValue(o.defaultValue)?o.defaultValue:"").trigger("change").trigger("keyup").focus()})),o.autoSize&&s.on(e.events.inputchange+" "+e.events.keyup,(function(){a.val(this.value),i.resize()})),s.on(e.events.blur,(function(){r.removeClass("focused")})),s.on(e.events.focus,(function(){r.addClass("focused")})),s.on(e.events.keyup,(function(){n.isValue(o.charsCounter)&&l.length>0&&("INPUT"===l[0].tagName?l.val(i.length()):l.html(o.charsCounterTemplate.replace("$1",i.length()))),i._fireEvent("change",{val:s.val(),length:i.length()})}))},resize:function(){var e=this.element,t=this.options,n=e.closest(".textarea"),i=n.find(".fake-textarea"),s=i[0].scrollHeight;t.maxHeight&&s>=t.maxHeight?n.removeClass("no-scroll-vertical"):(t.maxHeight&&s<t.maxHeight&&n.addClass("no-scroll-vertical"),i[0].style.cssText="height:auto;",i[0].style.cssText="height:"+i[0].scrollHeight+"px",e[0].style.cssText="height:"+i[0].scrollHeight+"px")},clear:function(){this.element.val("").trigger("change").trigger("keyup").focus()},toDefault:function(){this.element.val(n.isValue(this.options.defaultValue)?this.options.defaultValue:"").trigger("change").trigger("keyup").focus()},length:function(){return this.elem.value.split("").length},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e){"disabled"===e&&this.toggleState()},destroy:function(){var t=this.element,n=this.options;return t.closest(".textarea").off(e.events.click,".input-clear-button"),n.autoSize&&t.off(e.events.inputchange+" "+e.events.keyup),t.off(e.events.blur),t.off(e.events.focus),t.off(e.events.keyup),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i=["slide-up","slide-down","slide-left","slide-right","fade","zoom","swirl","switch"],s={tileDeferred:0,size:"medium",cover:"",coverPosition:"center",effect:"",effectInterval:3e3,effectDuration:500,target:null,canTransform:!0,onTileClick:e.noop,onTileCreate:e.noop};e.tileSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroTileSetup&&e.tileSetup(window.metroTileSetup),e.Component("tile",{init:function(e,t){return this._super(t,e,s,{effectInterval:!1,images:[],slides:[],currentSlide:-1,unload:!1}),this},_create:function(){var e=this.element;this._createTile(),this._createEvents(),this._fireEvent("tile-create",{element:e})},_createTile:function(){function n(e,n,i){t.setTimeout((function(){e.fadeOut(500,(function(){e.css("background-image","url("+n+")"),e.fadeIn()}))}),300*i)}var s=this,o=this.element,r=this.options,a=o.find(".slide"),l=o.find(".slide-front, .slide-back");if(o.addClass("tile-"+r.size),r.effect.indexOf("hover-")>-1&&(o.addClass("effect-"+r.effect),t.each(l,(function(){var e=t(this);void 0!==e.data("cover")&&s._setCover(e,e.data("cover"),e.data("cover-position"))}))),i.includes(r.effect)&&a.length>1&&(t.each(a,(function(e){var n=t(this);s.slides.push(this),void 0!==n.data("cover")&&s._setCover(n,n.data("cover"),n.data("cover-position")),e>0&&(["slide-up","slide-down"].indexOf(r.effect)>-1&&n.css("top","100%"),["slide-left","slide-right"].indexOf(r.effect)>-1&&n.css("left","100%"),["fade","zoom","swirl","switch"].indexOf(r.effect)>-1&&n.css("opacity",0))})),this.currentSlide=0,this._runEffects()),""!==r.cover&&this._setCover(o,r.cover),"image-set"===r.effect){o.addClass("image-set"),t.each(o.children("img"),(function(){s.images.push(this),t(this).remove()}));for(var c=this.images.slice(),h=0;h<5;h++){var u=t.random(0,c.length-1),d=t("<div>").addClass("img -js-img-"+h).css("background-image","url("+c[u].src+")");o.prepend(d),c.splice(u,1)}var p=[0,1,4,3,2];t.setInterval((function(){var i=s.images.slice(),r=e.colors.random();o.css("background-color",r);for(var a=0;a<p.length;a++){var l=t.random(0,i.length-1);n(o.find(".-js-img-"+p[a]),i[l].src,a),i.splice(l,1)}p=p.reverse()}),5e3)}},_runEffects:function(){var n=this,s=this.options;!1===this.effectInterval&&(this.effectInterval=t.setInterval((function(){var o,r;o=t(n.slides[n.currentSlide]),n.currentSlide++,n.currentSlide===n.slides.length&&(n.currentSlide=0),r=n.slides[n.currentSlide],i.includes(s.effect)&&e.animations[Cake.camelCase(s.effect)](t(o),t(r),{duration:s.effectDuration})}),s.effectInterval))},_stopEffects:function(){t.clearInterval(this.effectInterval),this.effectInterval=!1},_setCover:function(e,t,i){n.isValue(i)||(i=this.options.coverPosition),e.css({backgroundImage:"url("+t+")",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:i})},_createEvents:function(){var i=this,s=this.element,o=this.options;s.on(e.events.startAll,(function(e){var r,a=t(this),l=s.width(),c=s.height(),h=n.pageXY(e).x-a.offset().left,u=n.pageXY(e).y-a.offset().top;!1===n.isRightMouse(e)&&(r=h<1*l/3&&(u<1*c/2||u>1*c/2)?"left":h>2*l/3&&(u<1*c/2||u>1*c/2)?"right":h>1*l/3&&h<2*l/3&&u>c/2?"bottom":"top",!0===o.canTransform&&a.addClass("transform-"+r),null!==o.target&&setTimeout((function(){document.location.href=o.target}),100),i._fireEvent("tile-click",{side:r}))})),s.on([e.events.stopAll,e.events.leave].join(" "),(function(){t(this).removeClass("transform-left").removeClass("transform-right").removeClass("transform-top").removeClass("transform-bottom")}))},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.startAll),t.off([e.events.stopAll,e.events.leave].join(" ")),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={label:"",timepickerDeferred:0,hoursStep:1,minutesStep:1,secondsStep:1,value:null,locale:METRO_LOCALE,distance:3,hours:!0,minutes:!0,seconds:!0,showLabels:!0,scrollSpeed:4,copyInlineStyles:!1,clsPicker:"",clsPart:"",clsHours:"",clsMinutes:"",clsSeconds:"",clsLabel:"",clsButton:"",clsOkButton:"",clsCancelButton:"",okButtonIcon:"<span class='default-icon-check'></span>",cancelButtonIcon:"<span class='default-icon-cross'></span>",onSet:e.noop,onOpen:e.noop,onClose:e.noop,onScroll:e.noop,onTimePickerCreate:e.noop};e.timePickerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTimePickerSetup&&e.timePickerSetup(window.metroTimePickerSetup),e.Component("time-picker",{init:function(t,s){return this._super(s,t,i,{picker:null,isOpen:!1,value:[],locale:e.locales[METRO_LOCALE].calendar,listTimer:{hours:null,minutes:null,seconds:null},id:n.elementId("time-picker")}),this},_create:function(){var t,i=this.element,s=this.options;for(s.distance<1&&(s.distance=1),s.hoursStep<1&&(s.hoursStep=1),s.hoursStep>23&&(s.hoursStep=23),s.minutesStep<1&&(s.minutesStep=1),s.minutesStep>59&&(s.minutesStep=59),s.secondsStep<1&&(s.secondsStep=1),s.secondsStep>59&&(s.secondsStep=59),""!==i.val()||n.isValue(s.value)||(s.value=datetime().format("HH:mm:ss")),this.value=(""!==i.val()?i.val():""+s.value).toArray(":"),t=0;t<3;t++)void 0===this.value[t]||null===this.value[t]?this.value[t]=0:this.value[t]=parseInt(this.value[t]);this._normalizeValue(),void 0===e.locales[s.locale]&&(s.locale=METRO_LOCALE),this.locale=e.locales[s.locale].calendar,this._createStructure(),this._createEvents(),this._set(),this._fireEvent("time-picker-create",{element:i})},_normalizeValue:function(){var e=this.options;e.hoursStep>1&&(this.value[0]=n.nearest(this.value[0],e.hoursStep,!0)),e.minutesStep>1&&(this.value[1]=n.nearest(this.value[1],e.minutesStep,!0)),e.minutesStep>1&&(this.value[2]=n.nearest(this.value[2],e.secondsStep,!0))},_createStructure:function(){var e,n,i,s,o,r,a,l,c,h=this.element,u=this.options;if((e=t("<div>").addClass("wheel-picker time-picker "+h[0].className).addClass(u.clsPicker)).insertBefore(h),h.attr("readonly",!0).appendTo(e),u.label){var d=t("<label>").addClass("label-for-input").addClass(u.clsLabel).html(u.label).insertBefore(e);h.attr("id")&&d.attr("for",h.attr("id")),"rtl"===h.attr("dir")&&d.addClass("rtl")}if(r=t("<div>").addClass("time-wrapper").appendTo(e),!0===u.hours&&(n=t("<div>").attr("data-title",this.locale.time.hours).addClass("hours").addClass(u.clsPart).addClass(u.clsHours).appendTo(r)),!0===u.minutes&&(i=t("<div>").attr("data-title",this.locale.time.minutes).addClass("minutes").addClass(u.clsPart).addClass(u.clsMinutes).appendTo(r)),!0===u.seconds&&(s=t("<div>").attr("data-title",this.locale.time.seconds).addClass("seconds").addClass(u.clsPart).addClass(u.clsSeconds).appendTo(r)),a=t("<div>").addClass("select-wrapper").appendTo(e),l=t("<div>").addClass("select-block").appendTo(a),!0===u.hours){for(n=t("<ul>").addClass("sel-hours").appendTo(l),o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(n);for(o=0;o<24;o+=u.hoursStep)t("<li>").addClass("js-hours-"+o).html(Cake.lpad(o,2,"0")).data("value",o).appendTo(n);for(o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(n)}if(!0===u.minutes){for(i=t("<ul>").addClass("sel-minutes").appendTo(l),o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i);for(o=0;o<60;o+=u.minutesStep)t("<li>").addClass("js-minutes-"+o).html(Cake.lpad(o,2,"0")).data("value",o).appendTo(i);for(o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(i)}if(!0===u.seconds){for(s=t("<ul>").addClass("sel-seconds").appendTo(l),o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s);for(o=0;o<60;o+=u.secondsStep)t("<li>").addClass("js-seconds-"+o).html(Cake.lpad(o,2,"0")).data("value",o).appendTo(s);for(o=0;o<u.distance;o++)t("<li>").html("&nbsp;").data("value",-1).appendTo(s)}if(l.height(40*(2*u.distance+1)),c=t("<div>").addClass("action-block").appendTo(a),t("<button>").attr("type","button").addClass("button action-ok").addClass(u.clsButton).addClass(u.clsOkButton).html(u.okButtonIcon).appendTo(c),t("<button>").attr("type","button").addClass("button action-cancel").addClass(u.clsButton).addClass(u.clsCancelButton).html(u.cancelButtonIcon).appendTo(c),h[0].className="",!0===u.copyInlineStyles)for(o=0;o<h[0].style.length;o++)e.css(h[0].style[o],h.css(h[0].style[o]));!0===u.showLabels&&e.addClass("show-labels"),h.prop("disabled")&&e.addClass("disabled"),this.picker=e},_createEvents:function(){var i=this,s=this.options,o=this.picker;o.on(e.events.start,".select-block ul",(function(o){if(!o.changedTouches){var r=this,a=n.pageXY(o).y;t(document).on(e.events.move,(function(e){r.scrollTop-=s.scrollSpeed*(a>n.pageXY(e).y?-1:1),a=n.pageXY(e).y}),{ns:i.id}),t(document).on(e.events.stop,(function(){t(document).off(e.events.move,{ns:i.id}),t(document).off(e.events.stop,{ns:i.id})}),{ns:i.id})}})),o.on(e.events.click,(function(e){!1===i.isOpen&&i.open(),e.stopPropagation()})),o.on(e.events.click,".action-ok",(function(e){var t,n,s,r=o.find(".sel-hours li.active"),a=o.find(".sel-minutes li.active"),l=o.find(".sel-seconds li.active");t=0===r.length?0:r.data("value"),n=0===a.length?0:a.data("value"),s=0===l.length?0:l.data("value"),i.value=[t,n,s],i._normalizeValue(),i._set(),i.close(),e.stopPropagation()})),o.on(e.events.click,".action-cancel",(function(e){i.close(),e.stopPropagation()})),t.each(["hours","minutes","seconds"],(function(){var e=this,t=o.find(".sel-"+e);t.on("scroll",(function(){i.isOpen&&(i.listTimer[e]&&(clearTimeout(i.listTimer[e]),i.listTimer[e]=null),i.listTimer[e]||(i.listTimer[e]=setTimeout((function(){var r,a,l;i.listTimer[e]=null,r=Math.round(Math.ceil(t.scrollTop())/40),"hours"===e&&s.hoursStep&&(r*=parseInt(s.hoursStep)),"minutes"===e&&s.minutesStep&&(r*=parseInt(s.minutesStep)),"seconds"===e&&s.secondsStep&&(r*=parseInt(s.secondsStep)),l=(a=t.find(".js-"+e+"-"+r)).position().top-40*s.distance,t.find(".active").removeClass("active"),t[0].scrollTop=l,a.addClass("active"),n.exec(s.onScroll,[a,t,o],t[0])}),150)))}))}))},_set:function(){var e=this.element,t=this.options,n=this.picker,i="00",s="00",o="00";!0===t.hours&&(i=parseInt(this.value[0]),n.find(".hours").html(Cake.lpad(i,2,"0"))),!0===t.minutes&&(s=parseInt(this.value[1]),n.find(".minutes").html(Cake.lpad(s,2,"0"))),!0===t.seconds&&(o=parseInt(this.value[2]),n.find(".seconds").html(Cake.lpad(o,2,"0"))),e.val([i,s,o].join(":")).trigger("change"),this._fireEvent("set",{val:this.value,elementVal:e.val()})},open:function(){var e,t,i,s,o,r,a,l,c,h,u,d=this.options,p=this.picker,f=p.find("li"),g=p.find(".select-wrapper");g.parent().removeClass("for-top for-bottom"),g.show(0),f.removeClass("active"),a=n.inViewport(g[0]),l=n.rect(g[0]),!a&&l.top>0&&g.parent().addClass("for-bottom"),!a&&l.top<0&&g.parent().addClass("for-top");var m=function(e,t){e.scrollTop(0).animate({draw:{scrollTop:t.position().top-40*d.distance+e.scrollTop()},dur:100})};!0===d.hours&&(e=parseInt(this.value[0]),c=(s=p.find(".sel-hours")).find("li.js-hours-"+e).addClass("active"),m(s,c)),!0===d.minutes&&(t=parseInt(this.value[1]),h=(o=p.find(".sel-minutes")).find("li.js-minutes-"+t).addClass("active"),m(o,h)),!0===d.seconds&&(i=parseInt(this.value[2]),u=(r=p.find(".sel-seconds")).find("li.js-seconds-"+i).addClass("active"),m(r,u)),this.isOpen=!0,this._fireEvent("open",{val:this.value})},close:function(){this.picker.find(".select-wrapper").hide(0),this.isOpen=!1,this._fireEvent("close",{val:this.value})},_convert:function(e){return Array.isArray(e)?e:"function"==typeof e.getMonth?[e.getHours(),e.getMinutes(),e.getSeconds()]:n.isObject(e)?[e.h,e.m,e.s]:e.toArray(":")},val:function(e){if(void 0===e)return this.element.val();this.value=this._convert(e),this._normalizeValue(),this._set()},time:function(e){if(void 0===e)return{h:this.value[0],m:this.value[1],s:this.value[2]};this.value=this._convert(e),this._normalizeValue(),this._set()},date:function(e){if(void 0===e||"function"!=typeof e.getMonth)return datetime().hour(this.value[0]).minute(this.value[1]).second(this.value[2]).ms(0).val();this.value=this._convert(e),this._normalizeValue(),this._set()},disable:function(){this.element.data("disabled",!0),this.element.parent().addClass("disabled")},enable:function(){this.element.data("disabled",!1),this.element.parent().removeClass("disabled")},toggleState:function(){this.elem.disabled?this.disable():this.enable()},changeAttribute:function(e,t){switch(e){case"data-value":this.val(t);break;case"disabled":this.toggleState()}},destroy:function(){var n=this.element,i=this.picker;return t.each(["hours","minutes","seconds"],(function(){i.find(".sel-"+this).off("scroll")})),i.off(e.events.start,".select-block ul"),i.off(e.events.click),i.off(e.events.click,".action-ok"),i.off(e.events.click,".action-cancel"),n}}),t(document).on(e.events.click,(function(){t.each(t(".time-picker"),(function(){t(this).find("input").each((function(){e.getPlugin(this,"timepicker").close()}))}))}))}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={callback:e.noop,timeout:METRO_TIMEOUT,distance:20,showTop:!1,clsToast:""};e.toastSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroToastSetup&&e.toastSetup(window.metroToastSetup);var s={create:function(e,n){var o,r,a,l,c,h,u=Array.from(arguments);t.isPlainObject(n)||(n=u[4],c=u[1],l=u[2],h=u[3]),o=t.extend({},i,n),a=(r=t("<div>").addClass("toast").html(e).appendTo(t("body"))).outerWidth(),r.hide(),l=l||o.timeout,c=c||o.callback,h=h||o.clsToast,!0===o.showTop?r.addClass("show-top").css({top:o.distance}):r.css({bottom:o.distance}),r.css({left:"50%","margin-left":-a/2}).addClass(o.clsToast).addClass(h).fadeIn(METRO_ANIMATION_DURATION,(function(){setTimeout((function(){s.remove(r,c)}),l)}))},remove:function(e,t){e&&e.fadeOut(METRO_ANIMATION_DURATION,(function(){e.remove(),n.exec(t,null,e[0])}))}};e.toast=s,e.createToast=s.create}(Metro,m4q),function(e,t){"use strict";var n={textToTokenize:"",spaceSymbol:"",spaceClass:"space",tokenClass:"",splitter:"",tokenElement:"span",useTokenSymbol:!0,useTokenIndex:!0,clsTokenizer:"",clsToken:"",clsTokenOdd:"",clsTokenEven:"",onTokenCreate:e.noop,onTokenize:e.noop,onTokenizerCreate:e.noop};e.tokenizerSetup=function(e){n=t.extend({},n,e)},void 0!==typeof window.metroTokenizerSetup&&e.tokenizerSetup(window.metroTokenizerSetup),e.Component("tokenizer",{init:function(e,t){return this._super(t,e,n,{originalText:""}),this},_create:function(){var e=this.element,t=this.options;this.originalText=t.textToTokenize?t.textToTokenize.trim():e.text().trim().replace(/[\r\n\t]/gi,"").replace(/\s\s+/g," "),this._createStructure(),this._fireEvent("tokenizer-create")},_tokenize:function(){var e,n,i=this,s=this.element,o=this.options,r=0;s.clear().attr("aria-label",this.originalText),t.each(this.originalText.split(o.splitter),(function(a){var l,c=this,h=" "===c;l=t("<"+o.tokenElement+">").html(h?o.spaceSymbol:c).attr("aria-hidden",!0).addClass(h?o.spaceClass:"").addClass(h&&o.useTokenSymbol?"":"ts-"+c.replace(" ","_")).addClass(h&&o.useTokenIndex?"":"ti-"+(a+1)).addClass(o.tokenClass?o.tokenClass:"").addClass(h?"":o.clsToken),h||(r++,l.addClass(r%2==0?"te-even":"te-odd"),l.addClass(r%2==0?o.clsTokenEven:o.clsTokenOdd)),o.prepend&&(n=t.isSelector(o.prepend)?t(o.prepend):t("<span>").html(o.prepend),l.prepend(n)),o.append&&(e=t.isSelector(o.append)?t(o.append):t("<span>").html(o.append),l.append(e)),s.append(l),i._fireEvent("token-create",{token:l[0]})})),i._fireEvent("tokenize",{tokens:s.children().items(),originalText:this.originalText})},_createStructure:function(){var e=this.element,t=this.options;e.addClass(t.clsTokenizer),this._tokenize()},tokenize:function(e){this.originalText=e,this._tokenize()},destroy:function(){this.element.remove()}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down",IN:"in",OUT:"out",NONE:"none",AUTO:"auto",SWIPE:"swipe",PINCH:"pinch",TAP:"tap",DOUBLE_TAP:"doubletap",LONG_TAP:"longtap",HOLD:"hold",HORIZONTAL:"horizontal",VERTICAL:"vertical",ALL_FINGERS:"all",DOUBLE_TAP_THRESHOLD:10,PHASE_START:"start",PHASE_MOVE:"move",PHASE_END:"end",PHASE_CANCEL:"cancel",SUPPORTS_TOUCH:"ontouchstart"in window,SUPPORTS_POINTER_IE10:window.navigator.msPointerEnabled&&!window.navigator.pointerEnabled&&!("ontouchstart"in window),SUPPORTS_POINTER:(window.navigator.pointerEnabled||window.navigator.msPointerEnabled)&&!("ontouchstart"in window),IN_TOUCH:"intouch"},s={touchDeferred:0,fingers:1,threshold:75,cancelThreshold:null,pinchThreshold:20,maxTimeThreshold:null,fingerReleaseThreshold:250,longTapThreshold:500,doubleTapThreshold:200,triggerOnTouchEnd:!0,triggerOnTouchLeave:!1,allowPageScroll:"auto",fallbackToMouseEvents:!0,excludedElements:".no-swipe",preventDefaultEvents:!0,onSwipe:e.noop,onSwipeLeft:e.noop,onSwipeRight:e.noop,onSwipeUp:e.noop,onSwipeDown:e.noop,onSwipeStatus:e.noop_true,onPinchIn:e.noop,onPinchOut:e.noop,onPinchStatus:e.noop_true,onTap:e.noop,onDoubleTap:e.noop,onLongTap:e.noop,onHold:e.noop,onTouchCreate:e.noop};e.touchSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroTouchSetup&&e.touchSetup(window.metroTouchSetup),e.Component("touch",{init:function(e,t){return this._super(t,e,s,{useTouchEvents:null,START_EV:null,MOVE_EV:null,END_EV:null,LEAVE_EV:null,CANCEL_EV:null,distance:0,direction:null,currentDirection:null,duration:0,startTouchesDistance:0,endTouchesDistance:0,pinchZoom:1,pinchDistance:0,pinchDirection:0,maximumsMap:null,phase:"start",fingerCount:0,fingerData:{},startTime:0,endTime:0,previousTouchEndTime:0,fingerCountAtRelease:0,doubleTapStartTime:0,singleTapTimeout:null,holdTimeout:null}),this},_create:function(){var n=this.element,s=this.options;this.useTouchEvents=i.SUPPORTS_TOUCH||i.SUPPORTS_POINTER||!this.options.fallbackToMouseEvents,this.START_EV=this.useTouchEvents?i.SUPPORTS_POINTER?i.SUPPORTS_POINTER_IE10?"MSPointerDown":"pointerdown":"touchstart":"mousedown",this.MOVE_EV=this.useTouchEvents?i.SUPPORTS_POINTER?i.SUPPORTS_POINTER_IE10?"MSPointerMove":"pointermove":"touchmove":"mousemove",this.END_EV=this.useTouchEvents?i.SUPPORTS_POINTER?i.SUPPORTS_POINTER_IE10?"MSPointerUp":"pointerup":"touchend":"mouseup",this.LEAVE_EV=this.useTouchEvents?i.SUPPORTS_POINTER?"mouseleave":null:"mouseleave",this.CANCEL_EV=i.SUPPORTS_POINTER?i.SUPPORTS_POINTER_IE10?"MSPointerCancel":"pointercancel":"touchcancel",void 0!==s.allowPageScroll||s.onSwipe===e.noop&&s.onSwipeStatus===e.noop||(s.allowPageScroll=i.NONE);try{n.on(this.START_EV,t.proxy(this.touchStart,this)),n.on(this.CANCEL_EV,t.proxy(this.touchCancel,this))}catch(e){throw new Error("Events not supported "+this.START_EV+","+this.CANCEL_EV+" on Swipe")}this._fireEvent("touch-create",{element:n})},touchStart:function(s){var o=this.element,r=this.options;if(!(this.getTouchInProgress()||t(s.target).closest(r.excludedElements).length>0)){var a,l=s,c=l.touches,h=c?c[0]:l;return this.phase=i.PHASE_START,c?this.fingerCount=c.length:!1!==r.preventDefaultEvents&&s.preventDefault(),this.distance=0,this.direction=null,this.currentDirection=null,this.pinchDirection=null,this.duration=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.pinchDistance=0,this.maximumsMap=this.createMaximumsData(),this.cancelMultiFingerRelease(),this.createFingerData(0,h),!c||this.fingerCount===r.fingers||r.fingers===i.ALL_FINGERS||this.hasPinches()?(this.startTime=this.getTimeStamp(),2===this.fingerCount&&(this.createFingerData(1,c[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)),r.onSwipeStatus===e.noop&&r.onPinchStatus===e.noop||(a=this.triggerHandler(l,this.phase))):a=!1,!1===a?(this.phase=i.PHASE_CANCEL,this.triggerHandler(l,this.phase),a):(r.onHold!==e.noop&&(this.holdTimeout=setTimeout(t.proxy((function(){o.trigger("hold",[l.target]),r.onHold!==e.noop&&(a=n.exec(r.onHold,[l,l.target],o[0]),o.fire("hold",{event:l,target:l.target}))}),this),r.longTapThreshold)),this.setTouchInProgress(!0),null)}},touchMove:function(t){var n=t;if(this.phase!==i.PHASE_END&&this.phase!==i.PHASE_CANCEL&&!this.inMultiFingerRelease()){var s,o=n.touches,r=o?o[0]:n,a=this.updateFingerData(r);if(this.endTime=this.getTimeStamp(),o&&(this.fingerCount=o.length),this.options.onHold!==e.noop&&clearTimeout(this.holdTimeout),this.phase=i.PHASE_MOVE,2===this.fingerCount&&(0===this.startTouchesDistance?(this.createFingerData(1,o[1]),this.startTouchesDistance=this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].start,this.fingerData[1].start)):(this.updateFingerData(o[1]),this.endTouchesDistance=this.calculateTouchesDistance(this.fingerData[0].end,this.fingerData[1].end),this.pinchDirection=this.calculatePinchDirection(this.fingerData[0].end,this.fingerData[1].end)),this.pinchZoom=this.calculatePinchZoom(this.startTouchesDistance,this.endTouchesDistance),this.pinchDistance=Math.abs(this.startTouchesDistance-this.endTouchesDistance)),this.fingerCount===this.options.fingers||this.options.fingers===i.ALL_FINGERS||!o||this.hasPinches()){if(this.direction=this.calculateDirection(a.start,a.end),this.currentDirection=this.calculateDirection(a.last,a.end),this.validateDefaultEvent(t,this.currentDirection),this.distance=this.calculateDistance(a.start,a.end),this.duration=this.calculateDuration(),this.setMaxDistance(this.direction,this.distance),s=this.triggerHandler(n,this.phase),!this.options.triggerOnTouchEnd||this.options.triggerOnTouchLeave){var l=!0;if(this.options.triggerOnTouchLeave){var c=this.getBounds(this);l=this.isInBounds(a.end,c)}!this.options.triggerOnTouchEnd&&l?this.phase=this.getNextPhase(i.PHASE_MOVE):this.options.triggerOnTouchLeave&&!l&&(this.phase=this.getNextPhase(i.PHASE_END)),this.phase!==i.PHASE_CANCEL&&this.phase!==i.PHASE_END||this.triggerHandler(n,this.phase)}}else this.phase=i.PHASE_CANCEL,this.triggerHandler(n,this.phase);!1===s&&(this.phase=i.PHASE_CANCEL,this.triggerHandler(n,this.phase))}},touchEnd:function(e){var t=e,n=t.touches;if(n){if(n.length&&!this.inMultiFingerRelease())return this.startMultiFingerRelease(t),!0;if(n.length&&this.inMultiFingerRelease())return!0}return this.inMultiFingerRelease()&&(this.fingerCount=this.fingerCountAtRelease),this.endTime=this.getTimeStamp(),this.duration=this.calculateDuration(),this.didSwipeBackToCancel()||!this.validateSwipeDistance()?(this.phase=i.PHASE_CANCEL,this.triggerHandler(t,this.phase)):this.options.triggerOnTouchEnd||!1===this.options.triggerOnTouchEnd&&this.phase===i.PHASE_MOVE?(!1!==this.options.preventDefaultEvents&&e.preventDefault(),this.phase=i.PHASE_END,this.triggerHandler(t,this.phase)):!this.options.triggerOnTouchEnd&&this.hasTap()?(this.phase=i.PHASE_END,this.triggerHandlerForGesture(t,this.phase,i.TAP)):this.phase===i.PHASE_MOVE&&(this.phase=i.PHASE_CANCEL,this.triggerHandler(t,this.phase)),this.setTouchInProgress(!1),null},touchCancel:function(){this.fingerCount=0,this.endTime=0,this.startTime=0,this.startTouchesDistance=0,this.endTouchesDistance=0,this.pinchZoom=1,this.cancelMultiFingerRelease(),this.setTouchInProgress(!1)},touchLeave:function(e){this.options.triggerOnTouchLeave&&(this.phase=this.getNextPhase(i.PHASE_END),this.triggerHandler(e,this.phase))},getNextPhase:function(e){var t=this.options,n=e,s=this.validateSwipeTime(),o=this.validateSwipeDistance(),r=this.didSwipeBackToCancel();return!s||r?n=i.PHASE_CANCEL:!o||e!==i.PHASE_MOVE||t.triggerOnTouchEnd&&!t.triggerOnTouchLeave?!o&&e===i.PHASE_END&&t.triggerOnTouchLeave&&(n=i.PHASE_CANCEL):n=i.PHASE_END,n},triggerHandler:function(e,t){var n,s=e.touches;return(this.didSwipe()||this.hasSwipes())&&(n=this.triggerHandlerForGesture(e,t,i.SWIPE)),(this.didPinch()||this.hasPinches())&&!1!==n&&(n=this.triggerHandlerForGesture(e,t,i.PINCH)),this.didDoubleTap()&&!1!==n?n=this.triggerHandlerForGesture(e,t,i.DOUBLE_TAP):this.didLongTap()&&!1!==n?n=this.triggerHandlerForGesture(e,t,i.LONG_TAP):this.didTap()&&!1!==n&&(n=this.triggerHandlerForGesture(e,t,i.TAP)),t===i.PHASE_CANCEL&&this.touchCancel(e),t===i.PHASE_END&&(s&&s.length||this.touchCancel(e)),n},triggerHandlerForGesture:function(e,s,o){var r,a=this.element,l=this.options;if(o===i.SWIPE){if(a.trigger("swipeStatus",[s,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipeStatus,[e,s,this.direction||null,this.distance||0,this.duration||0,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swipestatus",{event:e,phase:s,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),!1===r)return!1;if(s===i.PHASE_END&&this.validateSwipe()){if(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),a.trigger("swipe",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipe,[e,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swipe",{event:e,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection}),!1===r)return!1;switch(this.direction){case i.LEFT:a.trigger("swipeLeft",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipeLeft,[e,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swipeleft",{event:e,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case i.RIGHT:a.trigger("swipeRight",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipeRight,[e,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swiperight",{event:e,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case i.UP:a.trigger("swipeUp",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipeUp,[e,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swipeup",{event:e,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection});break;case i.DOWN:a.trigger("swipeDown",[this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection]),r=n.exec(l.onSwipeDown,[e,this.direction,this.distance,this.duration,this.fingerCount,this.fingerData,this.currentDirection],a[0]),a.fire("swipedown",{event:e,direction:this.direction,distance:this.distance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,currentDirection:this.currentDirection})}}}if(o===i.PINCH){if(a.trigger("pinchStatus",[s,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),r=n.exec(l.onPinchStatus,[e,s,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire("pinchstatus",{event:e,phase:s,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom}),!1===r)return!1;if(s===i.PHASE_END&&this.validatePinch())switch(this.pinchDirection){case i.IN:a.trigger("pinchIn",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),r=n.exec(l.onPinchIn,[e,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire("pinchin",{event:e,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom});break;case i.OUT:a.trigger("pinchOut",[this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom]),r=n.exec(l.onPinchOut,[e,this.pinchDirection||null,this.pinchDistance||0,this.duration||0,this.fingerCount,this.fingerData,this.pinchZoom],a[0]),a.fire("pinchout",{event:e,direction:this.pinchDirection,distance:this.pinchDistance,duration:this.duration,fingerCount:this.fingerCount,fingerData:this.fingerData,zoom:this.pinchZoom})}}return o===i.TAP?s!==i.PHASE_CANCEL&&s!==i.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.hasDoubleTap()&&!this.inDoubleTap()?(this.doubleTapStartTime=this.getTimeStamp(),this.singleTapTimeout=setTimeout(t.proxy((function(){this.doubleTapStartTime=null,r=n.exec(l.onTap,[e,e.target],a[0]),a.fire("tap",{event:e,target:e.target})}),this),l.doubleTapThreshold)):(this.doubleTapStartTime=null,r=n.exec(l.onTap,[e,e.target],a[0]),a.fire("tap",{event:e,target:e.target}))):o===i.DOUBLE_TAP?s!==i.PHASE_CANCEL&&s!==i.PHASE_END||(clearTimeout(this.singleTapTimeout),clearTimeout(this.holdTimeout),this.doubleTapStartTime=null,r=n.exec(l.onDoubleTap,[e,e.target],a[0]),a.fire("doubletap",{event:e,target:e.target})):o===i.LONG_TAP&&(s!==i.PHASE_CANCEL&&s!==i.PHASE_END||(clearTimeout(this.singleTapTimeout),this.doubleTapStartTime=null,r=n.exec(l.onLongTap,[e,e.target],a[0]),a.fire("longtap",{event:e,target:e.target}))),r},validateSwipeDistance:function(){var e=!0;return null!==this.options.threshold&&(e=this.distance>=this.options.threshold),e},didSwipeBackToCancel:function(){var e=this.options,t=!1;return null!==e.cancelThreshold&&null!==this.direction&&(t=this.getMaxDistance(this.direction)-this.distance>=e.cancelThreshold),t},validatePinchDistance:function(){return null===this.options.pinchThreshold||this.pinchDistance>=this.options.pinchThreshold},validateSwipeTime:function(){var e=this.options;return!e.maxTimeThreshold||this.duration<e.maxTimeThreshold},validateDefaultEvent:function(t,n){var s=this.options;if(!1!==s.preventDefaultEvents)if(s.allowPageScroll===i.NONE)t.preventDefault();else{var o=s.allowPageScroll===i.AUTO;switch(n){case i.LEFT:(s.onSwipeLeft!==e.noop&&o||!o&&s.allowPageScroll.toLowerCase()!==i.HORIZONTAL)&&t.preventDefault();break;case i.RIGHT:(s.onSwipeRight!==e.noop&&o||!o&&s.allowPageScroll.toLowerCase()!==i.HORIZONTAL)&&t.preventDefault();break;case i.UP:(s.onSwipeUp!==e.noop&&o||!o&&s.allowPageScroll.toLowerCase()!==i.VERTICAL)&&t.preventDefault();break;case i.DOWN:(s.onSwipeDown!==e.noop&&o||!o&&s.allowPageScroll.toLowerCase()!==i.VERTICAL)&&t.preventDefault()}}},validatePinch:function(){var e=this.validateFingers(),t=this.validateEndPoint(),n=this.validatePinchDistance();return e&&t&&n},hasPinches:function(){return!!(this.options.onPinchStatus||this.options.onPinchIn||this.options.onPinchOut)},didPinch:function(){return!(!this.validatePinch()||!this.hasPinches())},validateSwipe:function(){var e=this.validateSwipeTime(),t=this.validateSwipeDistance(),n=this.validateFingers(),i=this.validateEndPoint();return!this.didSwipeBackToCancel()&&i&&n&&t&&e},hasSwipes:function(){var t=this.options;return!(t.onSwipe===e.noop&&t.onSwipeStatus===e.noop&&t.onSwipeLeft===e.noop&&t.onSwipeRight===e.noop&&t.onSwipeUp===e.noop&&t.onSwipeDown===e.noop)},didSwipe:function(){return!(!this.validateSwipe()||!this.hasSwipes())},validateFingers:function(){return this.fingerCount===this.options.fingers||this.options.fingers===i.ALL_FINGERS||!i.SUPPORTS_TOUCH},validateEndPoint:function(){return 0!==this.fingerData[0].end.x},hasTap:function(){return this.options.onTap!==e.noop},hasDoubleTap:function(){return this.options.onDoubleTap!==e.noop},hasLongTap:function(){return this.options.onLongTap!==e.noop},validateDoubleTap:function(){if(null==this.doubleTapStartTime)return!1;var e=this.getTimeStamp();return this.hasDoubleTap()&&e-this.doubleTapStartTime<=this.options.doubleTapThreshold},inDoubleTap:function(){return this.validateDoubleTap()},validateTap:function(){return(1===this.fingerCount||!i.SUPPORTS_TOUCH)&&(isNaN(this.distance)||this.distance<this.options.threshold)},validateLongTap:function(){var e=this.options;return this.duration>e.longTapThreshold&&this.distance<i.DOUBLE_TAP_THRESHOLD},didTap:function(){return!(!this.validateTap()||!this.hasTap())},didDoubleTap:function(){return!(!this.validateDoubleTap()||!this.hasDoubleTap())},didLongTap:function(){return!(!this.validateLongTap()||!this.hasLongTap())},startMultiFingerRelease:function(e){this.previousTouchEndTime=this.getTimeStamp(),this.fingerCountAtRelease=e.touches.length+1},cancelMultiFingerRelease:function(){this.previousTouchEndTime=0,this.fingerCountAtRelease=0},inMultiFingerRelease:function(){var e=!1;return this.previousTouchEndTime&&this.getTimeStamp()-this.previousTouchEndTime<=this.options.fingerReleaseThreshold&&(e=!0),e},getTouchInProgress:function(){return!0===this.element.data("intouch")},setTouchInProgress:function(e){var n=this.element;n&&(!0===e?(n.on(this.MOVE_EV,t.proxy(this.touchMove,this)),n.on(this.END_EV,t.proxy(this.touchEnd,this)),this.LEAVE_EV&&n.on(this.LEAVE_EV,t.proxy(this.touchLeave,this))):(n.off(this.MOVE_EV),n.off(this.END_EV),this.LEAVE_EV&&n.off(this.LEAVE_EV)),n.data("intouch",!0===e))},createFingerData:function(e,t){var n={start:{x:0,y:0},last:{x:0,y:0},end:{x:0,y:0}};return n.start.x=n.last.x=n.end.x=t.pageX||t.clientX,n.start.y=n.last.y=n.end.y=t.pageY||t.clientY,this.fingerData[e]=n,n},updateFingerData:function(e){var t=void 0!==e.identifier?e.identifier:0,n=this.getFingerData(t);return null===n&&(n=this.createFingerData(t,e)),n.last.x=n.end.x,n.last.y=n.end.y,n.end.x=e.pageX||e.clientX,n.end.y=e.pageY||e.clientY,n},getFingerData:function(e){return this.fingerData[e]||null},setMaxDistance:function(e,t){e!==i.NONE&&(t=Math.max(t,this.getMaxDistance(e)),this.maximumsMap[e].distance=t)},getMaxDistance:function(e){return this.maximumsMap[e]?this.maximumsMap[e].distance:void 0},createMaximumsData:function(){var e={};return e[i.LEFT]=this.createMaximumVO(i.LEFT),e[i.RIGHT]=this.createMaximumVO(i.RIGHT),e[i.UP]=this.createMaximumVO(i.UP),e[i.DOWN]=this.createMaximumVO(i.DOWN),e},createMaximumVO:function(e){return{direction:e,distance:0}},calculateDuration:function(){return this.endTime-this.startTime},calculateTouchesDistance:function(e,t){var n=Math.abs(e.x-t.x),i=Math.abs(e.y-t.y);return Math.round(Math.sqrt(n*n+i*i))},calculatePinchZoom:function(e,t){return(t/e*100).toFixed(2)},calculatePinchDirection:function(){return this.pinchZoom<1?i.OUT:i.IN},calculateDistance:function(e,t){return Math.round(Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)))},calculateAngle:function(e,t){var n=e.x-t.x,i=t.y-e.y,s=Math.atan2(i,n),o=Math.round(180*s/Math.PI);return o<0&&(o=360-Math.abs(o)),o},calculateDirection:function(e,t){if(this.comparePoints(e,t))return i.NONE;var n=this.calculateAngle(e,t);return n<=45&&n>=0||n<=360&&n>=315?i.LEFT:n>=135&&n<=225?i.RIGHT:n>45&&n<135?i.DOWN:i.UP},getTimeStamp:function(){return(new Date).getTime()},getBounds:function(e){var n=(e=t(e)).offset();return{left:n.left,right:n.left+e.outerWidth(),top:n.top,bottom:n.top+e.outerHeight()}},isInBounds:function(e,t){return e.x>t.left&&e.x<t.right&&e.y>t.top&&e.y<t.bottom},comparePoints:function(e,t){return e.x===t.x&&e.y===t.y},removeListeners:function(){var e=this.element;e.off(this.START_EV),e.off(this.CANCEL_EV),e.off(this.MOVE_EV),e.off(this.END_EV),this.LEAVE_EV&&e.off(this.LEAVE_EV),this.setTouchInProgress(!1)},enable:function(){return this.disable(),this.element.on(this.START_EV,this.touchStart),this.element.on(this.CANCEL_EV,this.touchCancel),this.element},disable:function(){return this.removeListeners(),this.element},changeAttribute:function(){},destroy:function(){this.removeListeners()}}),e.touch=i}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={treeviewDeferred:0,showChildCount:!1,duration:100,onNodeClick:e.noop,onNodeDblClick:e.noop,onNodeDelete:e.noop,onNodeInsert:e.noop,onNodeClean:e.noop,onCheckClick:e.noop,onRadioClick:e.noop,onExpandNode:e.noop,onCollapseNode:e.noop,onTreeViewCreate:e.noop};e.treeViewSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroTreeViewSetup&&e.treeViewSetup(window.metroTreeViewSetup),e.Component("tree-view",{init:function(e,t){return this._super(t,e,i),this},_create:function(){var e=this,n=this.element;this._createTree(),this._createEvents(),t.each(n.find("input"),(function(){t(this).is(":checked")&&e._recheck(this)})),this._fireEvent("tree-view-create",{element:n})},_createIcon:function(e){var i,s;return s=n.isTag(e)?t(e):t("<img src='' alt=''>").attr("src",e),(i=t("<span>").addClass("icon")).html(s.outerHTML()),i},_createCaption:function(e){return t("<span>").addClass("caption").html(e)},_createToggle:function(){return t("<span>").addClass("node-toggle")},_createNode:function(e){var n;return n=t("<li>"),void 0!==e.caption&&n.prepend(this._createCaption(e.caption)),void 0!==e.icon&&n.prepend(this._createIcon(e.icon)),void 0!==e.html&&n.append(e.html),n},_createTree:function(){var e=this,i=this.element,s=this.options,o=i.find("li");i.addClass("treeview"),t.each(o,(function(){var i,o,r=t(this);i=r.data("caption"),o=r.data("icon"),void 0!==i&&(r.children("ul").length>0&&!0===s.showChildCount&&(i+=" ("+r.children("ul").children("li").length+")"),r.prepend(e._createCaption(i))),void 0!==o&&r.prepend(e._createIcon(o)),r.children("ul").length>0&&(r.addClass("tree-node"),r.append(e._createToggle()),!0!==n.bool(r.attr("data-collapsed"))?r.addClass("expanded"):r.children("ul").hide())}))},_createEvents:function(){var n=this,i=this.element;i.on(e.events.click,".node-toggle",(function(e){var i=t(this).parent();n.toggleNode(i),e.preventDefault()})),i.on(e.events.click,"li > .caption",(function(e){var i=t(this).parent();n.current(i),n._fireEvent("node-click",{node:i[0]}),e.preventDefault()})),i.on(e.events.dblclick,"li > .caption",(function(e){var i=t(this).closest("li"),s=i.children(".node-toggle"),o=i.children("ul");(s.length>0||o.length>0)&&n.toggleNode(i),n._fireEvent("node-dbl-click",{node:i[0]}),e.preventDefault()})),i.on(e.events.click,"input[type=radio]",(function(){var e=t(this),i=e.is(":checked"),s=e.closest("li");n.current(s),n._fireEvent("radio-click",{checked:i,check:e[0],node:s[0]})})),i.on(e.events.click,"input[type=checkbox]",(function(){var e=t(this),i=e.is(":checked"),s=e.closest("li");n._recheck(e),n._fireEvent("check-click",{checked:i,check:e[0],node:s[0]})}))},_recheck:function(e){var n,i,s,o,r=this.element;n=(e=t(e)).is(":checked"),i=e.closest("li"),this.current(i),(s=e.closest("li").find("ul input[type=checkbox]")).attr("data-indeterminate",!1),s.prop("checked",n),s.trigger("change"),o=[],t.each(r.find("input[type=checkbox]"),(function(){o.push(this)})),t.each(o.reverse(),(function(){var e=t(this),n=e.closest("li").children("ul").find("input[type=checkbox]").length,i=e.closest("li").children("ul").find("input[type=checkbox]").filter((function(e){return e.checked})).length;n>0&&0===i&&(e.attr("data-indeterminate",!1),e.prop("checked",!1),e.trigger("change")),0===i?e.attr("data-indeterminate",!1):i>0&&n>i?e.attr("data-indeterminate",!0):n===i&&(e.attr("data-indeterminate",!1),e.prop("checked",!0),e.trigger("change"))}))},current:function(e){var t=this.element;if(void 0===e)return t.find("li.current");t.find("li").removeClass("current"),e.addClass("current")},toggleNode:function(e){var n,i=t(e),s=this.options,o=!i.data("collapsed");i.toggleClass("expanded"),i.data("collapsed",o),n=!0===o?"slideUp":"slideDown",o?this._fireEvent("collapse-node",{node:i[0]}):this._fireEvent("expand-node",{node:i[0]}),i.children("ul")[n](s.duration)},addTo:function(e,n){var i,s,o=this.element;return null===e?i=o:0===(i=(e=t(e)).children("ul")).length&&(i=t("<ul>").appendTo(e),this._createToggle().appendTo(e),e.addClass("expanded")),(s=this._createNode(n)).appendTo(i),this._fireEvent("node-insert",{node:s[0],parent:e?e[0]:null}),s},insertBefore:function(e,i){var s=this._createNode(i);return n.isNull(e)?this.addTo(e,i):(e=t(e),s.insertBefore(e),this._fireEvent("node-insert",{node:s[0],parent:e?e[0]:null}),s)},insertAfter:function(e,i){var s=this._createNode(i);return n.isNull(e)?this.addTo(e,i):(e=t(e),s.insertAfter(e),this._fireEvent("node-insert",{node:s[0],parent:e[0]}),s)},del:function(e){var n=this.element,i=(e=t(e)).closest("ul"),s=i.closest("li");this._fireEvent("node-delete",{node:e[0]}),e.remove(),0!==i.children().length||i.is(n)||(i.remove(),s.removeClass("expanded"),s.children(".node-toggle").remove())},clean:function(e){(e=t(e)).children("ul").remove(),e.removeClass("expanded"),e.children(".node-toggle").remove(),this._fireEvent("node-clean",{node:e[0]})},changeAttribute:function(){},destroy:function(){var t=this.element;return t.off(e.events.click,".node-toggle"),t.off(e.events.click,"li > .caption"),t.off(e.events.dblclick,"li > .caption"),t.off(e.events.click,"input[type=radio]"),t.off(e.events.click,"input[type=checkbox]"),t}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={required:function(e){return Array.isArray(e)?e.length>0&&e:!!n.isValue(e)&&e.trim()},length:function(e,t){return Array.isArray(e)?e.length===parseInt(t):!(!n.isValue(t)||isNaN(t)||t<=0)&&e.trim().length===parseInt(t)},minlength:function(e,t){return Array.isArray(e)?e.length>=parseInt(t):!(!n.isValue(t)||isNaN(t)||t<=0)&&e.trim().length>=parseInt(t)},maxlength:function(e,t){return Array.isArray(e)?e.length<=parseInt(t):!(!n.isValue(t)||isNaN(t)||t<=0)&&e.trim().length<=parseInt(t)},min:function(e,t){return!(!n.isValue(t)||isNaN(t))&&!!this.number(e)&&!isNaN(e)&&Number(e)>=Number(t)},max:function(e,t){return!(!n.isValue(t)||isNaN(t))&&!!this.number(e)&&!isNaN(e)&&Number(e)<=Number(t)},email:function(e){return/^[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9\u007F-\uffff!#$%&'*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z]{2,}$/i.test(e)},domain:function(e){return/^((xn--)?[a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/.test(e)},url:function(e){return/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u00a1-\uffff][a-z0-9\u00a1-\uffff_-]{0,62})?[a-z0-9\u00a1-\uffff]\.)+(?:[a-z\u00a1-\uffff]{2,}\.?))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e)},date:function(e,t,n){try{return t?Datetime.from(e,t,n):datetime(e),!0}catch(e){return!1}},number:function(e){return!isNaN(e)},integer:function(e){return n.isInt(e)},float:function(e){return n.isFloat(e)},digits:function(e){return/^\d+$/.test(e)},hexcolor:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},color:function(t){return!!n.isValue(t)&&(!1!==e.colors.color(t,e.colors.PALETTES.STANDARD)||e.colors.isColor(e.colors.parse(t)))},pattern:function(e,t){return!!n.isValue(e)&&!!n.isValue(t)&&new RegExp(t).test(e)},compare:function(e,t){return e===t},not:function(e,t){return e!==t},notequals:function(e,t){return!n.isNull(e)&&!n.isNull(t)&&e.trim()!==t.trim()},equals:function(e,t){return!n.isNull(e)&&!n.isNull(t)&&e.trim()===t.trim()},custom:function(e,t){return!1!==n.isFunc(t)&&n.exec(t,[e])},is_control:function(e){return e.parent().hasClass("input")||e.parent().hasClass("select")||e.parent().hasClass("textarea")||e.parent().hasClass("checkbox")||e.parent().hasClass("switch")||e.parent().hasClass("radio")||e.parent().hasClass("spinner")},reset_state:function(e){var n=t(e);i.is_control(n)?n.parent().removeClass("invalid valid"):n.removeClass("invalid valid")},set_valid_state:function(e){var n=t(e);i.is_control(n)?n.parent().addClass("valid"):n.addClass("valid")},set_invalid_state:function(e){var n=t(e);i.is_control(n)?n.parent().addClass("invalid"):n.addClass("invalid")},reset:function(e){var n=this;return t.each(t(e).find("[data-validate]"),(function(){n.reset_state(this)})),this},validate:function(e,s,o,r,a){var l,c,h=!0,u=t(e),d=void 0!==u.data("validate")?String(u.data("validate")).split(" ").map((function(e){return e.trim()})):[],p=[],f=u.closest("form").length>0;return 0===d.length||(this.reset_state(u),u.attr("type")&&"checkbox"===u.attr("type").toLowerCase()?(!1===(h=-1===d.indexOf("required")||u.is(":checked"))&&p.push("required"),void 0!==s&&(s.val+=h?0:1)):u.attr("type")&&"radio"===u.attr("type").toLowerCase()?(void 0===typeof(l=u.attr("name"))?h=!0:(c=t("input[name="+l.replace("[","\\[").replace("]","\\]")+"]:checked"),h=c.length>0),void 0!==s&&(s.val+=h?0:1)):t.each(d,(function(){if(!1!==h){var e,o,r,l=this.split("=");e=l[0],l.shift(),o=l.join("="),["compare","equals","notequals"].indexOf(e)>-1&&(o=f?u[0].form.elements[o].value:t("[name="+o+"]").val()),"date"===e&&(o=u.attr("data-value-format"),r=u.attr("data-value-locale")),!1===(h=!1===n.isFunc(i[e])||(!0===a||"required"===e?i[e](u.val(),o,r):""===u.val().trim()||i[e](u.val(),o,r)))&&p.push(e),void 0!==s&&(s.val+=h?0:1)}})),!1===h?(this.set_invalid_state(u),void 0!==s&&s.log.push({input:u[0],name:u.attr("name"),value:u.val(),funcs:d,errors:p}),void 0!==r&&n.exec(r,[u,u.val()],u[0])):(this.set_valid_state(u),void 0!==o&&n.exec(o,[u,u.val()],u[0])),h)}};e.validator=i;var s={validatorDeferred:0,submitTimeout:200,interactiveCheck:!1,clearInvalid:0,requiredMode:!0,useRequiredClass:!0,onBeforeSubmit:e.noop_true,onSubmit:e.noop,onError:e.noop,onValidate:e.noop,onErrorForm:e.noop,onValidateForm:e.noop,onValidatorCreate:e.noop};e.validatorSetup=function(e){s=t.extend({},s,e)},void 0!==typeof window.metroValidatorSetup&&e.validatorSetup(window.metroValidatorSetup),e.Component("validator",{name:"Validator",init:function(e,t){return this._super(t,e,s,{_onsubmit:null,_onreset:null,result:[]}),this},_create:function(){var n=this,s=this.element,o=this.options,r=s.find("[data-validate]");s.attr("novalidate","novalidate"),t.each(r,(function(){var n=t(this);n.data("validate").indexOf("required")>-1&&!0===o.useRequiredClass&&(i.is_control(n)?n.parent().addClass("required"):n.addClass("required")),!0===o.interactiveCheck&&n.on(e.events.inputchange,(function(){i.validate(this,void 0,void 0,void 0,o.requiredMode)}))})),this._onsubmit=null,this._onreset=null,null!==s[0].onsubmit&&(this._onsubmit=s[0].onsubmit,s[0].onsubmit=null),null!==s[0].onreset&&(this._onreset=s[0].onreset,s[0].onreset=null),s[0].onsubmit=function(){return n._submit()},s[0].onreset=function(){return n._reset()},this._fireEvent("validator-create",{element:s})},_reset:function(){i.reset(this.element),null!==this._onsubmit&&n.exec(this._onsubmit,null,this.element[0])},_submit:function(){var e=this,s=this.element,o=this.options,r=this.elem,a=s.find("[data-validate]"),l=s.find("input[type=submit], button[type=submit]"),c={val:0,log:[]},h=t.serializeToArray(s);return l.length>0&&l.attr("disabled","disabled").addClass("disabled"),t.each(a,(function(){i.validate(this,c,o.onValidate,o.onError,o.requiredMode)})),l.removeAttr("disabled").removeClass("disabled"),c.val+=!1===n.exec(o.onBeforeSubmit,[h],this.elem)?1:0,0===c.val?(this._fireEvent("validate-form",{data:h}),setTimeout((function(){n.exec(o.onSubmit,[h],r),s.fire("formsubmit",{data:h}),null!==e._onsubmit&&n.exec(e._onsubmit,null,r)}),o.submitTimeout)):(this._fireEvent("error-form",{log:c.log,data:h}),o.clearInvalid>0&&setTimeout((function(){t.each(a,(function(){var e=t(this);i.is_control(e)?e.parent().removeClass("invalid"):e.removeClass("invalid")}))}),o.clearInvalid)),0===c.val},changeAttribute:function(){}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={duration:4e3,animationDuration:null,transitionDuration:null,transition:"fade",animation:null,slides:[],shuffle:!1,align:"center",valign:"center",loop:!0,autoplay:!0,mute:!0,cover:!0,preload:!0,timer:!0,overlay:2,color:null,volume:1,onPlay:e.noop,onPause:e.noop,onEnd:e.noop,onWalk:e.noop,onNext:e.noop,onPrev:e.noop,onJump:e.noop,onVegasCreate:e.noop};e.vegasSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroVegasSetup&&e.vegasSetup(window.metroVegasSetup),e.Component("vegas",{videoCache:{},init:function(e,t){return this.transitions=["fade","fade2","slideLeft","slideLeft2","slideRight","slideRight2","slideUp","slideUp2","slideDown","slideDown2","zoomIn","zoomIn2","zoomOut","zoomOut2","swirlLeft","swirlLeft2","swirlRight","swirlRight2"],this.animations=["kenburns","kenburnsUp","kenburnsDown","kenburnsRight","kenburnsLeft","kenburnsUpLeft","kenburnsUpRight","kenburnsDownLeft","kenburnsDownRight"],this.support={objectFit:"objectFit"in document.body.style,video:!/(Android|webOS|Phone|iPad|iPod|BlackBerry|Windows Phone)/i.test(navigator.userAgent)},this._super(t,e,i,{slide:0,slides:null,total:0,noshow:!1,paused:!1,ended:!1,timer:null,overlay:null,first:!0,timeout:!1}),this},_create:function(){var e=this.element,t=this.options;this.slides=n.isObject(t.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!t.autoplay||this.noshow,t.shuffle&&this.slides.shuffle(),t.preload&&this._preload(),this._createStructure(),this._createEvents(),this._fireEvent("vegas-create",{element:e})},_createStructure:function(){var e,i=this,s=this.element,o=this.options,r="BODY"===s[0].tagName;r||(s.css("height",s.css("height")),e=t('<div class="vegas-wrapper">').css("overflow",s.css("overflow")).css("padding",s.css("padding")),s.css("padding")||e.css("padding-top",s.css("padding-top")).css("padding-bottom",s.css("padding-bottom")).css("padding-left",s.css("padding-left")).css("padding-right",s.css("padding-right")),s.children().appendTo(e),s.clear()),s.addClass("vegas-container"),r||s.append(e),o.timer&&(this.timer=t('<div class="vegas-timer"><div class="vegas-timer-progress">'),s.append(this.timer)),o.overlay&&(this.overlay=t('<div class="vegas-overlay">').addClass("overlay"+("boolean"==typeof o.overlay||isNaN(o.overlay)?2:+o.overlay)),s.append(this.overlay)),setTimeout((function(){n.exec(o.onPlay,null,s[0]),i._goto(i.slide)}),1)},_createEvents:function(){},_preload:function(){var e;for(e=0;e<this.slides.length;e++){var t=this.slides[e];t.src&&((new Image).src=this.slides[e].src),t.video&&(t.video instanceof Array?this._video(t.video):this._video(t.video.src))}},_slideShow:function(){var e=this,t=this.options;this.total>1&&!this.ended&&!this.paused&&!this.noshow&&(this.timeout=setTimeout((function(){e.next()}),t.duration))},_timer:function(e){var t=this,n=this.options;clearTimeout(this.timeout),this.timer&&(this.timer.removeClass("vegas-timer-running").find("div").css("transition-duration","0ms"),this.ended||this.paused||this.noshow||e&&setTimeout((function(){t.timer.addClass("vegas-timer-running").find("div").css("transition-duration",+n.duration-100+"ms")}),100))},_fadeSoundIn:function(e,n){var i=this.options;t.animate({el:e,draw:{volume:+i.volume},dur:n})},_fadeSoundOut:function(e,n){t.animate({el:e,draw:{volume:0},dur:n})},_video:function(e){var t,n,i=e.toString();return this.videoCache[i]?this.videoCache[i]:(Array.isArray(e)||(e=[e]),(t=document.createElement("video")).preload=!0,e.forEach((function(e){(n=document.createElement("source")).src=e,t.appendChild(n)})),this.videoCache[i]=t,t)},_goto:function(e){var n,i,s,o,r,a=this,l=this.element,c=this.options;void 0===this.slides[e]&&(e=0),this.slide=e;var h,u,d,p,f=l.children(".vegas-slide"),g=this.slides[e],m=c.cover;function v(){a._timer(!0),setTimeout((function(){f.css("transition","all "+d+"ms").addClass("vegas-transition-"+h+"-out"),f.each((function(){var e=f.find("video").get(0);e&&(e.volume=1,a._fadeSoundOut(e,d))})),n.css("transition","all "+d+"ms").addClass("vegas-transition-"+h+"-in");for(var e=0;e<f.length-1;e++)f.eq(e).remove();a._fireEvent("walk",{slide:a.current(!0)}),a._slideShow()}),100)}this.first&&(this.first=!1),"repeat"!==m&&(!0===m?m="cover":!1===m&&(m="contain")),h="random"===c.transition?t.random(this.transitions):c.transition?c.transition:this.transitions[0],u="random"===c.animation?t.random(this.animations):c.animation?c.animation:this.animations[0],d=c.transitionDuration?"auto"===c.transitionDuration||+c.transitionDuration>+c.duration?+c.duration:+c.transitionDuration:+c.duration,p=c.animationDuration?"auto"===c.animationDuration||+c.animationDuration>+c.duration?+c.duration:+c.animationDuration:+c.duration,n=t("<div>").addClass("vegas-slide").addClass("vegas-transition-"+h),this.support.video&&g.video?((s=g.video instanceof Array?this._video(g.video):this._video(g.video.src)).loop=g.video.loop?g.video.loop:c.loop,s.muted=g.video.mute?g.video.mute:c.mute,s.muted?s.pause():this._fadeSoundIn(s,d),r=t(s).addClass("vegas-video").css("background-color",c.color||"#000000"),this.support.objectFit?r.css("object-position",c.align+" "+c.valign).css("object-fit",m).css("width","100%").css("height","100%"):"contain"===m&&r.css("width","100%").css("height","100%"),n.append(r)):(o=new Image,i=t("<div>").addClass("vegas-slide-inner").css({backgroundImage:'url("'+g.src+'")',backgroundColor:c.color||"#000000",backgroundPosition:c.align+" "+c.valign}),"repeat"===m?i.css("background-repeat","repeat"):i.css("background-size",m),u&&i.addClass("vegas-animation-"+u).css("animation-duration",p+"ms"),n.append(i)),f.length?f.eq(f.length-1).after(n):l.prepend(n),f.css("transition","all 0ms").each((function(){this.className="vegas-slide","VIDEO"===this.tagName&&(this.className+=" vegas-video"),h&&(this.className+=" vegas-transition-"+h,this.className+=" vegas-transition-"+h+"-in")})),this._timer(!1),s?(4===s.readyState&&(s.currentTime=0),s.play(),v()):(o.src=g.src,o.complete?v():o.onload=v)},_end:function(){this.ended=this.options.autoplay,this._timer(!1),this._fireEvent("end",{slide:this.current(!0)})},play:function(){this.paused&&(this._fireEvent("play",{slide:this.current(!0)}),this.paused=!1,this.next())},pause:function(){this._timer(!1),this.paused=!0,this._fireEvent("pause",{slide:this.current(!0)})},toggle:function(){this.paused?this.play():this.pause()},playing:function(){return!this.paused&&!this.noshow},current:function(e){return e?{slide:this.slide,data:this.slides[this.slide]}:this.slide},jump:function(e){if(e<=0||e>this.slides.length||e===this.slide+1)return this;this.slide=e-1,this._fireEvent("jump",{slide:this.current(!0)}),this._goto(this.slide)},next:function(){var e=this.options;if(this.slide++,this.slide>=this.slides.length){if(!e.loop)return this._end();this.slide=0}this._fireEvent("next",{slide:this.current(!0)}),this._goto(this.slide)},prev:function(){var e=this.options;if(this.slide--,this.slide<0){if(!e.loop)return this.slide++,this._end();this.slide=this.slides.length-1}this._fireEvent("prev",{slide:this.current(!0)}),this._goto(this.slide)},changeAttribute:function(e){var t=this.element,s=this.options,o=Cake.camelCase(e.replace("data-",""));"slides"===o?(s.slides=t.attr("data-slides"),this.slides=n.isObject(s.slides)||[],this.total=this.slides.length,this.noshow=this.total<2,this.paused=!this.options.autoplay||this.noshow):void 0!==i[o]&&(s[o]=JSON.parse(t.attr(e)))},destroy:function(){var e=this.element,t=this.options;return clearTimeout(this.timeout),e.removeClass("vegas-container"),e.find("> .vegas-slide").remove(),e.find("> .vegas-wrapper").children().appendTo(e),e.find("> .vegas-wrapper").remove(),t.timer&&this.timer.remove(),t.overlay&&this.overlay.remove(),e[0]}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={videoDeferred:0,src:null,poster:"",logo:"",logoHeight:32,logoWidth:"auto",logoTarget:"",volume:.5,loop:!1,autoplay:!1,fullScreenMode:e.fullScreenMode.DESKTOP,aspectRatio:e.aspectRatio.HD,controlsHide:3e3,showLoop:!0,showPlay:!0,showStop:!0,showMute:!0,showFull:!0,showStream:!0,showVolume:!0,showInfo:!0,loopIcon:"<span class='default-icon-loop'></span>",stopIcon:"<span class='default-icon-stop'></span>",playIcon:"<span class='default-icon-play'></span>",pauseIcon:"<span class='default-icon-pause'></span>",muteIcon:"<span class='default-icon-mute'></span>",volumeLowIcon:"<span class='default-icon-low-volume'></span>",volumeMediumIcon:"<span class='default-icon-medium-volume'></span>",volumeHighIcon:"<span class='default-icon-high-volume'></span>",screenMoreIcon:"<span class='default-icon-enlarge'></span>",screenLessIcon:"<span class='default-icon-shrink'></span>",onPlay:e.noop,onPause:e.noop,onStop:e.noop,onEnd:e.noop,onMetadata:e.noop,onTime:e.noop,onVideoPlayerCreate:e.noop};e.videoPlayerSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroVideoPlayerSetup&&e.videoPlayerSetup(window.metroVideoPlayerSetup),e.Component("video-player",{init:function(e,t){return this._super(t,e,i,{fullscreen:!1,preloader:null,player:null,video:t,stream:null,volume:null,volumeBackup:0,muted:!1,fullScreenInterval:!1,isPlaying:!1,id:n.elementId("video-player")}),this},_create:function(){var t=this.element,n=this.options;!1===e.fullScreenEnabled&&(n.fullScreenMode=e.fullScreenMode.WINDOW),this._createPlayer(),this._createControls(),this._createEvents(),this._setAspectRatio(),!0===n.autoplay&&this.play(),this._fireEvent("video-player-create",{element:t,player:this.player})},_createPlayer:function(){var e=this.element,n=this.options,i=this.video,s=t("<div>").addClass("media-player video-player "+e[0].className),o=t("<div>").addClass("preloader").appendTo(s),r=t("<a>").attr("href",n.logoTarget).addClass("logo").appendTo(s);s.insertBefore(e),e.appendTo(s),t.each(["muted","autoplay","controls","height","width","loop","poster","preload"],(function(){e.removeAttr(this)})),e.attr("preload","auto"),""!==n.poster&&e.attr("poster",n.poster),i.volume=n.volume,o.activity({type:"cycle",style:"color"}),o.hide(),this.preloader=o,""!==n.logo&&t("<img>").css({height:n.logoHeight,width:n.logoWidth}).attr("src",n.logo).appendTo(r),null!==n.src&&this._setSource(n.src),e[0].className="",this.player=s},_setSource:function(e){var n=this.element;n.find("source").remove(),n.removeAttr("src"),Array.isArray(e)?t.each(e,(function(){var e=this;void 0!==e.src&&t("<source>").attr("src",e.src).attr("type",void 0!==e.type?e.type:"").appendTo(n)})):n.attr("src",e)},_createControls:function(){var n,i=this,s=this.element,o=this.options,r=this.elem,a=t("<div>").addClass("controls").addClass(o.clsControls).insertAfter(s),l=t("<div>").addClass("stream").appendTo(a),c=t("<input>").addClass("stream-slider ultra-thin cycle-marker").appendTo(l),h=t("<div>").addClass("volume").appendTo(a),u=t("<input>").addClass("volume-slider ultra-thin cycle-marker").appendTo(h),d=t("<div>").addClass("info-box").appendTo(a);!0!==o.showInfo&&d.hide(),e.makePlugin(c,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",clsComplete:"bg-cyan",hint:!0,onStart:function(){r.paused||r.pause()},onStop:function(e){r.seekable.length>0&&(r.currentTime=(i.duration*e/100).toFixed(0)),r.paused&&r.currentTime>0&&r.play()}}),this.stream=c,!0!==o.showStream&&l.hide(),e.makePlugin(u,"slider",{clsMarker:"bg-red",clsHint:"bg-cyan fg-white",hint:!0,value:100*o.volume,onChangeValue:function(e){r.volume=e/100}}),this.volume=u,!0!==o.showVolume&&h.hide(),!0===o.showLoop&&(n=t("<button>").attr("type","button").addClass("button square loop").html(o.loopIcon).appendTo(a)),!0===o.showPlay&&t("<button>").attr("type","button").addClass("button square play").html(o.playIcon).appendTo(a),!0===o.showStop&&t("<button>").attr("type","button").addClass("button square stop").html(o.stopIcon).appendTo(a),!0===o.showMute&&t("<button>").attr("type","button").addClass("button square mute").html(o.muteIcon).appendTo(a),!0===o.showFull&&t("<button>").attr("type","button").addClass("button square full").html(o.screenMoreIcon).appendTo(a),!0===o.loop&&(n.addClass("active"),s.attr("loop","loop")),this._setVolume(),o.muted&&(i.volumeBackup=r.volume,e.getPlugin(i.volume,"slider").val(0),r.volume=0),d.html("00:00 / 00:00")},_createEvents:function(){var i=this,s=this.element,o=this.options,r=this.elem,a=this.player;s.on("loadstart",(function(){i.preloader.show()})),s.on("loadedmetadata",(function(){i.duration=r.duration.toFixed(0),i._setInfo(0,i.duration),n.exec(o.onMetadata,[r,a],s[0])})),s.on("canplay",(function(){i._setBuffer(),i.preloader.hide()})),s.on("progress",(function(){i._setBuffer()})),s.on("timeupdate",(function(){var t=Math.round(100*r.currentTime/i.duration);i._setInfo(r.currentTime,i.duration),e.getPlugin(i.stream,"slider").val(t),n.exec(o.onTime,[r.currentTime,i.duration,r,a],s[0])})),s.on("waiting",(function(){i.preloader.show()})),s.on("loadeddata",(function(){})),s.on("play",(function(){a.find(".play").html(o.pauseIcon),n.exec(o.onPlay,[r,a],s[0]),i._onMouse()})),s.on("pause",(function(){a.find(".play").html(o.playIcon),n.exec(o.onPause,[r,a],s[0]),i._offMouse()})),s.on("stop",(function(){e.getPlugin(i.stream,"slider").val(0),n.exec(o.onStop,[r,a],s[0]),i._offMouse()})),s.on("ended",(function(){e.getPlugin(i.stream,"slider").val(0),n.exec(o.onEnd,[r,a],s[0]),i._offMouse()})),s.on("volumechange",(function(){i._setVolume()})),a.on(e.events.click,".play",(function(){r.paused?i.play():i.pause()})),a.on(e.events.click,".stop",(function(){i.stop()})),a.on(e.events.click,".mute",(function(){i._toggleMute()})),a.on(e.events.click,".loop",(function(){i._toggleLoop()})),a.on(e.events.click,".full",(function(){i.fullscreen=!i.fullscreen,a.find(".full").html(!0===i.fullscreen?o.screenLessIcon:o.screenMoreIcon),o.fullScreenMode===e.fullScreenMode.WINDOW?!0===i.fullscreen?a.addClass("full-screen"):a.removeClass("full-screen"):!0===i.fullscreen?(e.requestFullScreen(r),!1===i.fullScreenInterval&&(i.fullScreenInterval=setInterval((function(){!1===e.inFullScreen()&&(i.fullscreen=!1,clearInterval(i.fullScreenInterval),i.fullScreenInterval=!1,a.find(".full").html(o.screenMoreIcon))}),1e3))):e.exitFullScreen()})),t(window).on(e.events.keyup,(function(e){i.fullscreen&&27===e.keyCode&&a.find(".full").click()}),{ns:this.id}),t(window).on(e.events.resize,(function(){i._setAspectRatio()}),{ns:this.id})},_onMouse:function(){var t=this.options,n=this.player;n.on(e.events.enter,(function(){var e=n.find(".controls");t.controlsHide>0&&"none"===e.style("display")&&e.stop(!0).fadeIn(500,(function(){e.css("display","flex")}))})),n.on(e.events.leave,(function(){var e=n.find(".controls");t.controlsHide>0&&1===parseInt(e.style("opacity"))&&setTimeout((function(){e.stop(!0).fadeOut(500)}),t.controlsHide)}))},_offMouse:function(){var t=this.player,n=this.options,i=t.find(".controls");t.off(e.events.enter),t.off(e.events.leave),n.controlsHide>0&&"none"===i.style("display")&&i.stop(!0).fadeIn(500,(function(){i.css("display","flex")}))},_toggleLoop:function(){var e=this.player.find(".loop");0!==e.length&&(e.toggleClass("active"),e.hasClass("active")?this.element.attr("loop","loop"):this.element.removeAttr("loop"))},_toggleMute:function(){this.muted=!this.muted,!1===this.muted?this.video.volume=this.volumeBackup:(this.volumeBackup=this.video.volume,this.video.volume=0),e.getPlugin(this.volume,"slider").val(!1===this.muted?100*this.volumeBackup:0)},_setInfo:function(e,t){this.player.find(".info-box").html(n.secondsToFormattedString(Math.round(e))+" / "+n.secondsToFormattedString(Math.round(t)))},_setBuffer:function(){var t=this.video.buffered.length?Math.round(Math.floor(this.video.buffered.end(0))/Math.floor(this.video.duration)*100):0;e.getPlugin(this.stream,"slider").buff(t)},_setVolume:function(){var e=this.video,t=this.player,n=this.options,i=t.find(".mute"),s=100*e.volume;s>1&&s<30?i.html(n.volumeLowIcon):s>=30&&s<60?i.html(n.volumeMediumIcon):s>=60&&s<=100?i.html(n.volumeHighIcon):i.html(n.muteIcon)},_setAspectRatio:function(){var t,i=this.player,s=this.options,o=i.outerWidth();switch(s.aspectRatio){case e.aspectRatio.SD:t=n.aspectRatioH(o,"4/3");break;case e.aspectRatio.CINEMA:t=n.aspectRatioH(o,"21/9");break;default:t=n.aspectRatioH(o,"16/9")}i.outerHeight(t)},aspectRatio:function(e){this.options.aspectRatio=e,this._setAspectRatio()},play:function(e){void 0!==e&&this._setSource(e),void 0===this.element.attr("src")&&0===this.element.find("source").length||(this.isPlaying=!0,this.video.play())},pause:function(){this.isPlaying=!1,this.video.pause()},resume:function(){this.video.paused&&this.play()},stop:function(){this.isPlaying=!1,this.video.pause(),this.video.currentTime=0,e.getPlugin(this.stream,"slider").val(0),this._offMouse()},setVolume:function(t){if(void 0===t)return this.video.volume;t>1&&(t/=100),this.video.volume=t,e.getPlugin(this.volume[0],"slider").val(100*t)},loop:function(){this._toggleLoop()},mute:function(){this._toggleMute()},changeAspectRatio:function(){this.options.aspectRatio=this.element.attr("data-aspect-ratio"),this._setAspectRatio()},changeSource:function(){var e=JSON.parse(this.element.attr("data-src"));this.play(e)},changeVolume:function(){var e=this.element.attr("data-volume");this.setVolume(e)},changeAttribute:function(e){switch(e){case"data-aspect-ratio":this.changeAspectRatio();break;case"data-src":this.changeSource();break;case"data-volume":this.changeVolume()}},destroy:function(){var n=this.element,i=this.player;return e.getPlugin(this.stream,"slider").destroy(),e.getPlugin(this.volume,"slider").destroy(),n.off("loadstart"),n.off("loadedmetadata"),n.off("canplay"),n.off("progress"),n.off("timeupdate"),n.off("waiting"),n.off("loadeddata"),n.off("play"),n.off("pause"),n.off("stop"),n.off("ended"),n.off("volumechange"),i.off(e.events.click,".play"),i.off(e.events.click,".stop"),i.off(e.events.click,".mute"),i.off(e.events.click,".loop"),i.off(e.events.click,".full"),t(window).off(e.events.keyup,{ns:this.id}),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={onViewport:e.noop,onViewportEnter:e.noop,onViewportLeave:e.noop,onViewportCheckCreate:e.noop};e.viewportCheckSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroViewportCheckSetup&&e.viewportCheckSetup(window.metroViewportCheckSetup),e.Component("viewport-check",{init:function(e,t){return this._super(t,e,i,{inViewport:!1,id:n.elementId("viewport-check")}),this},_create:function(){this.inViewport=n.inViewport(this.elem),this._createEvents(),this._fireEvent("viewport-check-create")},_createEvents:function(){var i=this,s=this.elem;t(window).on(e.events.scroll,(function(){var e=i.inViewport;i.inViewport=n.inViewport(s),e!==i.inViewport&&(i.inViewport?i._fireEvent("viewport-enter"):i._fireEvent("viewport-leave")),i._fireEvent("viewport",{state:i.inViewport})}),{ns:i.id})},state:function(){return this.inViewport},destroy:function(){return t(window).off(e.events.scroll,{ns:this.id}),this.element}})}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={windowDeferred:0,hidden:!1,width:"auto",height:"auto",btnClose:!0,btnMin:!0,btnMax:!0,draggable:!0,dragElement:".window-caption .icon, .window-caption .title",dragArea:"parent",shadow:!1,icon:"",title:"Window",content:null,resizable:!0,overlay:!1,overlayColor:"transparent",overlayAlpha:.5,modal:!1,position:"absolute",checkEmbed:!0,top:"auto",left:"auto",place:"auto",closeAction:e.actions.REMOVE,customButtons:null,clsCustomButton:"",clsCaption:"",clsContent:"",clsWindow:"",_runtime:!1,minWidth:0,minHeight:0,maxWidth:0,maxHeight:0,onDragStart:e.noop,onDragStop:e.noop,onDragMove:e.noop,onCaptionDblClick:e.noop,onCloseClick:e.noop,onMaxClick:e.noop,onMinClick:e.noop,onResizeStart:e.noop,onResizeStop:e.noop,onResize:e.noop,onWindowCreate:e.noop,onShow:e.noop,onWindowDestroy:e.noop,onCanClose:e.noop_true,onClose:e.noop};e.windowSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroWindowSetup&&e.windowSetup(window.metroWindowSetup),e.Component("window",{init:function(e,t){return this._super(t,e,i,{win:null,overlay:null,position:{top:0,left:0},hidden:!1,content:null}),this},_create:function(){var e,i,s,o=this,r=this.element,a=this.options,l="parent"===a.dragArea?r.parent():t(a.dragArea);!0===a.modal&&(a.btnMax=!1,a.btnMin=!1,a.resizable=!1),n.isNull(a.content)||(n.isUrl(a.content)&&n.isVideoUrl(a.content)?(a.content=n.embedUrl(a.content),r.css({height:"100%"})):!n.isQ(a.content)&&n.isFunc(a.content)&&(a.content=n.exec(a.content)),0===(s=t(a.content)).length?r.appendText(a.content):r.append(s)),a.content=r,!0===a._runtime&&this._runtime(r,"window"),(e=this._window(a)).addClass("no-visible"),l.append(e),!0===a.overlay&&((i=this._overlay()).appendTo(e.parent()),this.overlay=i),this.win=e,this._fireEvent("window-create",{win:this.win[0],element:r}),setTimeout((function(){o._setPosition(),!0!==a.hidden&&o.win.removeClass("no-visible"),o._fireEvent("show",{win:o.win[0],element:r})}),100)},_setPosition:function(){var e,n,i,s,o=this.options,r=this.win,a="parent"===o.dragArea?r.parent():t(o.dragArea),l=a.height()/2-r[0].offsetHeight/2,c=a.width()/2-r[0].offsetWidth/2;if("auto"!==o.place){switch(o.place.toLowerCase()){case"top-left":e=0,n=0,i="auto",s="auto";break;case"top-center":e=0,n=c,i="auto",s="auto";break;case"top-right":e=0,i=0,n="auto",s="auto";break;case"right-center":e=l,i=0,n="auto",s="auto";break;case"bottom-right":s=0,i=0,n="auto",e="auto";break;case"bottom-center":s=0,n=c,i="auto",e="auto";break;case"bottom-left":s=0,n=0,i="auto",e="auto";break;case"left-center":e=l,n=0,i="auto",s="auto";break;default:e=l,n=c,s="auto",i="auto"}r.css({top:e,left:n,bottom:s,right:i})}},_window:function(i){var s,o,r,a,l,c=this,h=i.width,u=i.height;if(s=t("<div>").addClass("window"),!0===i.modal&&s.addClass("modal"),o=t("<div>").addClass("window-caption"),r=t("<div>").addClass("window-content"),s.append(o),s.append(r),!0===i.status&&(l=t("<div>").addClass("window-status"),s.append(l)),!0===i.shadow&&s.addClass("win-shadow"),n.isValue(i.icon)&&t("<span>").addClass("icon").html(i.icon).appendTo(o),t("<span>").addClass("title").html(n.isValue(i.title)?i.title:"&nbsp;").appendTo(o),n.isNull(i.content)||(n.isQ(i.content)?i.content.appendTo(r):r.html(i.content)),(a=t("<div>").addClass("buttons")).appendTo(o),!0===i.btnMax&&t("<span>").addClass("button btn-max sys-button").appendTo(a),!0===i.btnMin&&t("<span>").addClass("button btn-min sys-button").appendTo(a),!0===i.btnClose&&t("<span>").addClass("button btn-close sys-button").appendTo(a),n.isValue(i.customButtons)){var d=[];!1!==n.isObject(i.customButtons)&&(i.customButtons=n.isObject(i.customButtons)),"string"==typeof i.customButtons&&i.customButtons.indexOf("{")>-1?d=JSON.parse(i.customButtons):"object"==typeof i.customButtons&&n.objectLength(i.customButtons)>0?d=i.customButtons:console.warn("Unknown format for custom buttons"),t.each(d,(function(){var e=this,n=t("<span>");n.addClass("button btn-custom").addClass(i.clsCustomButton).addClass(e.cls).attr("tabindex",-1).html(e.html),e.attr&&"object"==typeof e.attr&&t.each(e.attr,(function(e,t){n.attr(Cake.dashedName(e),t)})),n.data("action",e.onclick),a.prepend(n)}))}return o.on(e.events.stop,".btn-custom",(function(e){if(!n.isRightMouse(e)){var i=t(this),s=i.data("action");n.exec(s,[i],this)}})),s.attr("id",void 0===i.id?n.elementId("window"):i.id),s.on(e.events.dblclick,".window-caption",(function(e){c.maximized(e)})),o.on(e.events.click,".btn-max, .btn-min, .btn-close",(function(e){if(!n.isRightMouse(e)){var i=t(e.target);i.hasClass("btn-max")&&c.maximized(e),i.hasClass("btn-min")&&c.minimized(e),i.hasClass("btn-close")&&c.close(e)}})),!0===i.draggable&&e.makePlugin(s,"draggable",{dragContext:s[0],dragElement:i.dragElement,dragArea:i.dragArea,onDragStart:i.onDragStart,onDragStop:i.onDragStop,onDragMove:i.onDragMove}),s.addClass(i.clsWindow),o.addClass(i.clsCaption),r.addClass(i.clsContent),0===i.minWidth&&(i.minWidth=34,t.each(a.children(".btn-custom"),(function(){i.minWidth+=n.hiddenElementSize(this).width})),i.btnMax&&(i.minWidth+=34),i.btnMin&&(i.minWidth+=34),i.btnClose&&(i.minWidth+=34)),i.minWidth>0&&!isNaN(i.width)&&i.width<i.minWidth&&(h=i.minWidth),i.minHeight>0&&!isNaN(i.height)&&i.height>i.minHeight&&(u=i.minHeight),!0===i.resizable&&(t("<span>").addClass("resize-element").appendTo(s),s.addClass("resizable"),e.makePlugin(s,"resizable",{minWidth:i.minWidth,minHeight:i.minHeight,maxWidth:i.maxWidth,maxHeight:i.maxHeight,resizeElement:".resize-element",onResizeStart:i.onResizeStart,onResizeStop:i.onResizeStop,onResize:i.onResize})),s.css({width:h,height:u,position:i.position,top:i.top,left:i.left}),s},_overlay:function(){var n=this.options,i=t("<div>");return i.addClass("overlay"),"transparent"===n.overlayColor?i.addClass("transparent"):i.css({background:e.colors.toRGBA(n.overlayColor,n.overlayAlpha)}),i},width:function(e){var t=this.win;return n.isValue(e)?(t.css("width",parseInt(e)),this):t.width()},height:function(e){var t=this.win;return n.isValue(e)?(t.css("height",parseInt(e)),this):t.height()},maximized:function(e){var n=this.win,i=this.options,s=t(e.target);i.btnMax&&(n.removeClass("minimized"),n.toggleClass("maximized")),s.hasClass&&s.hasClass("title")?this._fireEvent("caption-dbl-click",{win:n[0]}):this._fireEvent("max-click",{win:n[0]})},minimized:function(){var e=this.win;this.options.btnMin&&(e.removeClass("maximized"),e.toggleClass("minimized")),this._fireEvent("min-click",{win:e[0]})},close:function(){var t=this,i=this.win,s=this.options;if(!1===n.exec(s.onCanClose,[i]))return!1;var o=0;s.onClose!==e.noop&&(o=500),this._fireEvent("close",{win:i[0]}),setTimeout((function(){!0===s.modal&&i.siblings(".overlay").remove(),t._fireEvent("close-click",{win:i[0]}),s.closeAction===e.actions.REMOVE?(t._fireEvent("window-destroy",{win:i[0]}),i.remove()):t.hide()}),o)},hide:function(){var e=this.win;e.css({display:"none"}),this._fireEvent("hide",{win:e[0]})},show:function(){var e=this.win;e.removeClass("no-visible").css({display:"flex"}),this._fireEvent("show",{win:e[0]})},toggle:function(){"none"===this.win.css("display")||this.win.hasClass("no-visible")?this.show():this.hide()},isOpen:function(){return this.win.hasClass("no-visible")},min:function(e){e?this.win.addClass("minimized"):this.win.removeClass("minimized")},max:function(e){e?this.win.addClass("maximized"):this.win.removeClass("maximized")},changeClass:function(e){var t=this.element,n=this.win,i=this.options;"data-cls-window"===e&&(n[0].className="window "+(i.resizable?" resizable ":" ")+t.attr("data-cls-window")),"data-cls-caption"===e&&(n.find(".window-caption")[0].className="window-caption "+t.attr("data-cls-caption")),"data-cls-content"===e&&(n.find(".window-content")[0].className="window-content "+t.attr("data-cls-content"))},toggleShadow:function(){var e=this.element,t=this.win;!0===JSON.parse(e.attr("data-shadow"))?t.addClass("win-shadow"):t.removeClass("win-shadow")},setContent:function(e){var t,i=this.element,s=this.win,o=n.isValue(e)?e:i.attr("data-content");t=!n.isQ(o)&&n.isFunc(o)?n.exec(o):n.isQ(o)?o.html():o,s.find(".window-content").html(t)},setTitle:function(e){var t=this.element,i=this.win,s=n.isValue(e)?e:t.attr("data-title");i.find(".window-caption .title").html(s)},setIcon:function(e){var t=this.element,i=this.win,s=n.isValue(e)?e:t.attr("data-icon");i.find(".window-caption .icon").html(s)},getIcon:function(){return this.win.find(".window-caption .icon").html()},getTitle:function(){return this.win.find(".window-caption .title").html()},toggleDraggable:function(t){var i=this.win,s=n.bool(t),o=e.getPlugin(i,"draggable");!0===s?o.on():o.off()},toggleResizable:function(t){var i=this.win,s=n.bool(t),o=e.getPlugin(i,"resizable");!0===s?(o.on(),i.find(".resize-element").removeClass("resize-element-disabled")):(o.off(),i.find(".resize-element").addClass("resize-element-disabled"))},changePlace:function(e){var t=this.element,i=this.win,s=n.isValue(e)?e:t.attr("data-place");i.addClass(s)},pos:function(e,t){return this.win.css({top:e,left:t}),this},top:function(e){return this.win.css({top:e}),this},left:function(e){return this.win.css({left:e}),this},changeAttribute:function(e,t){switch(e){case"data-btn-close":case"data-btn-min":case"data-btn-max":!function(e,t){var i=this.win,s=i.find(".btn-close"),o=i.find(".btn-min"),r=i.find(".btn-max"),a=n.bool(t)?"show":"hide";switch(e){case"data-btn-close":s[a]();break;case"data-btn-min":o[a]();break;case"data-btn-max":r[a]()}}(e,t);break;case"data-width":case"data-height":!function(e,t){var n=this.win;"data-width"===e&&n.css("width",+t),"data-height"===e&&n.css("height",+t)}(e,t);break;case"data-cls-window":case"data-cls-caption":case"data-cls-content":this.changeClass(e);break;case"data-shadow":this.toggleShadow();break;case"data-icon":this.setIcon();break;case"data-title":this.setTitle();break;case"data-content":this.setContent();break;case"data-draggable":this.toggleDraggable(t);break;case"data-resizable":this.toggleResizable(t);break;case"data-top":case"data-left":!function(e,t){var n,i=this.win;if("data-top"===e){if(n=parseInt(t),!isNaN(n))return;i.css("top",n)}if("data-left"===e){if(n=parseInt(t),!isNaN(n))return;i.css("left",n)}}(e,t);break;case"data-place":this.changePlace()}},destroy:function(){return this.element}}),e.window={isWindow:function(e){return n.isMetroObject(e,"window")},min:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").min(n)},max:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").max(n)},show:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").show()},hide:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").hide()},toggle:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").toggle()},isOpen:function(t){return!!this.isWindow(t)&&e.getPlugin(t,"window").isOpen()},close:function(t){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").close()},pos:function(t,n,i){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").pos(n,i)},top:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").top(n)},left:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").left(n)},width:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").width(n)},height:function(t,n){if(!this.isWindow(t))return!1;e.getPlugin(t,"window").height(n)},create:function(n,i){var s;s=t("<div>").appendTo(t(i||"body"));var o=t.extend({_runtime:!0},n||{});return e.makePlugin(s,"window",o)}}}(Metro,m4q),function(e,t){"use strict";var n=e.utils,i={wizardDeferred:0,start:1,finish:0,iconHelp:"<span class='default-icon-help'></span>",iconPrev:"<span class='default-icon-left-arrow'></span>",iconNext:"<span class='default-icon-right-arrow'></span>",iconFinish:"<span class='default-icon-check'></span>",buttonMode:"cycle",buttonOutline:!0,duration:300,clsWizard:"",clsActions:"",clsHelp:"",clsPrev:"",clsNext:"",clsFinish:"",onPage:e.noop,onNextPage:e.noop,onPrevPage:e.noop,onFirstPage:e.noop,onLastPage:e.noop,onFinishPage:e.noop,onHelpClick:e.noop,onPrevClick:e.noop,onNextClick:e.noop,onFinishClick:e.noop,onBeforePrev:e.noop_true,onBeforeNext:e.noop_true,onWizardCreate:e.noop};e.wizardSetup=function(e){i=t.extend({},i,e)},void 0!==typeof window.metroWizardSetup&&e.wizardSetup(window.metroWizardSetup),e.Component("wizard",{init:function(e,t){return this._super(t,e,i,{id:n.elementId("wizard")}),this},_create:function(){var e=this.element;this._createWizard(),this._createEvents(),this._fireEvent("wizard-create",{element:e})},_createWizard:function(){var e,i=this.element,s=this.options;i.addClass("wizard").addClass(s.view).addClass(s.clsWizard),e=t("<div>").addClass("action-bar").addClass(s.clsActions).appendTo(i);var o="button"===s.buttonMode?"":s.buttonMode;!0===s.buttonOutline&&(o+=" outline"),!1!==s.iconHelp&&t("<button>").attr("type","button").addClass("button wizard-btn-help").addClass(o).addClass(s.clsHelp).html(n.isTag(s.iconHelp)?s.iconHelp:t("<img>").attr("src",s.iconHelp)).appendTo(e),!1!==s.iconPrev&&t("<button>").attr("type","button").addClass("button wizard-btn-prev").addClass(o).addClass(s.clsPrev).html(n.isTag(s.iconPrev)?s.iconPrev:t("<img>").attr("src",s.iconPrev)).appendTo(e),!1!==s.iconNext&&t("<button>").attr("type","button").addClass("button wizard-btn-next").addClass(o).addClass(s.clsNext).html(n.isTag(s.iconNext)?s.iconNext:t("<img>").attr("src",s.iconNext)).appendTo(e),!1!==s.iconFinish&&t("<button>").attr("type","button").addClass("button wizard-btn-finish").addClass(o).addClass(s.clsFinish).html(n.isTag(s.iconFinish)?s.iconFinish:t("<img>").attr("src",s.iconFinish)).appendTo(e),this.toPage(s.start),this._setHeight()},_setHeight:function(){var e=this.element,n=e.children("section"),i=0;n.children(".page-content").css("max-height","none"),t.each(n,(function(){var e=t(this).height();i<parseInt(e)&&(i=e)})),e.height(i)},_createEvents:function(){var n=this,i=this.element;i.on(e.events.click,".wizard-btn-help",(function(){var e=i.children("section").get(n.current-1);n._fireEvent("help-click",{index:n.current,page:e})})),i.on(e.events.click,".wizard-btn-prev",(function(){n.prev();var e=i.children("section").get(n.current-1);n._fireEvent("prev-click",{index:n.current,page:e})})),i.on(e.events.click,".wizard-btn-next",(function(){n.next();var e=i.children("section").get(n.current-1);n._fireEvent("next-click",{index:n.current,page:e})})),i.on(e.events.click,".wizard-btn-finish",(function(){var e=i.children("section").get(n.current-1);n._fireEvent("finish-click",{index:n.current,page:e})})),i.on(e.events.click,".complete",(function(){var e=t(this).index()+1;n.toPage(e)})),t(window).on(e.events.resize,(function(){n._setHeight()}),{ns:this.id})},next:function(){var e=this.element,i=this.options,s=e.children("section"),o=t(e.children("section").get(this.current-1));this.current+1>s.length||!1===n.exec(i.onBeforeNext,[this.current,o,e])||(this.current++,this.toPage(this.current),o=t(e.children("section").get(this.current-1)),this._fireEvent("next-page",{index:this.current,page:o[0]}))},prev:function(){var e=this.element,i=this.options,s=t(e.children("section").get(this.current-1));this.current-1!=0&&!1!==n.exec(i.onBeforePrev,[this.current,s,e])&&(this.current--,this.toPage(this.current),s=t(e.children("section").get(this.current-1)),this._fireEvent("prev-page",{index:this.current,page:s[0]}))},last:function(){var e,n=this.element;this.toPage(n.children("section").length),e=t(n.children("section").get(this.current-1)),this._fireEvent("last-page",{index:this.current,page:e[0]})},first:function(){var e,n=this.element;this.toPage(1),e=t(n.children("section").get(0)),this._fireEvent("first-page",{index:this.current,page:e[0]})},toPage:function(e){var i=this.element,s=this.options,o=t(i.children("section").get(e-1)),r=i.children("section"),a=i.find(".action-bar");if(0!==o.length){var l=i.find(".wizard-btn-finish").addClass("disabled"),c=i.find(".wizard-btn-next").addClass("disabled"),h=i.find(".wizard-btn-prev").addClass("disabled");this.current=e,i.children("section").removeClass("complete current").removeClass(s.clsCurrent).removeClass(s.clsComplete),o.addClass("current").addClass(s.clsCurrent),o.prevAll().addClass("complete").addClass(s.clsComplete);var u=0===i.children("section.complete").length?0:parseInt(n.getStyleOne(i.children("section.complete")[0],"border-left-width"));a.animate({draw:{left:i.children("section.complete").length*u+41},dur:s.duration}),(this.current===r.length||s.finish>0&&this.current>=s.finish)&&l.removeClass("disabled"),parseInt(s.finish)>0&&this.current===parseInt(s.finish)&&this._fireEvent("finish-page",{index:this.current,page:o[0]}),this.current<r.length&&c.removeClass("disabled"),this.current>1&&h.removeClass("disabled"),this._fireEvent("page",{index:this.current,page:o[0]})}},changeAttribute:function(){},destroy:function(){var n=this.element;return n.off(e.events.click,".wizard-btn-help"),n.off(e.events.click,".wizard-btn-prev"),n.off(e.events.click,".wizard-btn-next"),n.off(e.events.click,".wizard-btn-finish"),n.off(e.events.click,".complete"),t(window).off(e.events.resize,{ns:this.id}),n}})}(Metro,m4q)},213:(e,t,n)=>{var i=n(728),s=Object.prototype.hasOwnProperty,o="undefined"!=typeof Map;function r(){this._array=[],this._set=o?new Map:Object.create(null)}r.fromArray=function(e,t){for(var n=new r,i=0,s=e.length;i<s;i++)n.add(e[i],t);return n},r.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},r.prototype.add=function(e,t){var n=o?e:i.toSetString(e),r=o?this.has(e):s.call(this._set,n),a=this._array.length;r&&!t||this._array.push(e),r||(o?this._set.set(e,a):this._set[n]=a)},r.prototype.has=function(e){if(o)return this._set.has(e);var t=i.toSetString(e);return s.call(this._set,t)},r.prototype.indexOf=function(e){if(o){var t=this._set.get(e);if(t>=0)return t}else{var n=i.toSetString(e);if(s.call(this._set,n))return this._set[n]}throw new Error('"'+e+'" is not in the set.')},r.prototype.at=function(e){if(e>=0&&e<this._array.length)return this._array[e];throw new Error("No element indexed by "+e)},r.prototype.toArray=function(){return this._array.slice()},t.I=r},400:(e,t,n)=>{var i=n(923);t.encode=function(e){var t,n="",s=function(e){return e<0?1+(-e<<1):0+(e<<1)}(e);do{t=31&s,(s>>>=5)>0&&(t|=32),n+=i.encode(t)}while(s>0);return n},t.decode=function(e,t,n){var s,o,r,a,l=e.length,c=0,h=0;do{if(t>=l)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=i.decode(e.charCodeAt(t++))))throw new Error("Invalid base64 digit: "+e.charAt(t-1));s=!!(32&o),c+=(o&=31)<<h,h+=5}while(s);n.value=(a=(r=c)>>1,1==(1&r)?-a:a),n.rest=t}},923:(e,t)=>{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");t.encode=function(e){if(0<=e&&e<n.length)return n[e];throw new TypeError("Must be between 0 and 63: "+e)},t.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1}},216:(e,t)=>{function n(e,i,s,o,r,a){var l=Math.floor((i-e)/2)+e,c=r(s,o[l],!0);return 0===c?l:c>0?i-l>1?n(l,i,s,o,r,a):a==t.LEAST_UPPER_BOUND?i<o.length?i:-1:l:l-e>1?n(e,l,s,o,r,a):a==t.LEAST_UPPER_BOUND?l:e<0?-1:e}t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2,t.search=function(e,i,s,o){if(0===i.length)return-1;var r=n(-1,i.length,e,i,s,o||t.GREATEST_LOWER_BOUND);if(r<0)return-1;for(;r-1>=0&&0===s(i[r],i[r-1],!0);)--r;return r}},188:(e,t,n)=>{var i=n(728);function s(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}s.prototype.unsortedForEach=function(e,t){this._array.forEach(e,t)},s.prototype.add=function(e){var t,n,s,o,r,a;n=e,s=(t=this._last).generatedLine,o=n.generatedLine,r=t.generatedColumn,a=n.generatedColumn,o>s||o==s&&a>=r||i.compareByGeneratedPositionsInflated(t,n)<=0?(this._last=e,this._array.push(e)):(this._sorted=!1,this._array.push(e))},s.prototype.toArray=function(){return this._sorted||(this._array.sort(i.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},t.H=s},826:(e,t)=>{function n(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function i(e,t,s,o){if(s<o){var r=s-1;n(e,(h=s,u=o,Math.round(h+Math.random()*(u-h))),o);for(var a=e[o],l=s;l<o;l++)t(e[l],a)<=0&&n(e,r+=1,l);n(e,r+1,l);var c=r+1;i(e,t,s,c-1),i(e,t,c+1,o)}var h,u}t.U=function(e,t){i(e,t,0,e.length-1)}},771:(e,t,n)=>{var i=n(728),s=n(216),o=n(213).I,r=n(400),a=n(826).U;function l(e,t){var n=e;return"string"==typeof e&&(n=i.parseSourceMapInput(e)),null!=n.sections?new u(n,t):new c(n,t)}function c(e,t){var n=e;"string"==typeof e&&(n=i.parseSourceMapInput(e));var s=i.getArg(n,"version"),r=i.getArg(n,"sources"),a=i.getArg(n,"names",[]),l=i.getArg(n,"sourceRoot",null),c=i.getArg(n,"sourcesContent",null),h=i.getArg(n,"mappings"),u=i.getArg(n,"file",null);if(s!=this._version)throw new Error("Unsupported version: "+s);l&&(l=i.normalize(l)),r=r.map(String).map(i.normalize).map((function(e){return l&&i.isAbsolute(l)&&i.isAbsolute(e)?i.relative(l,e):e})),this._names=o.fromArray(a.map(String),!0),this._sources=o.fromArray(r,!0),this._absoluteSources=this._sources.toArray().map((function(e){return i.computeSourceURL(l,e,t)})),this.sourceRoot=l,this.sourcesContent=c,this._mappings=h,this._sourceMapURL=t,this.file=u}function h(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function u(e,t){var n=e;"string"==typeof e&&(n=i.parseSourceMapInput(e));var s=i.getArg(n,"version"),r=i.getArg(n,"sections");if(s!=this._version)throw new Error("Unsupported version: "+s);this._sources=new o,this._names=new o;var a={line:-1,column:0};this._sections=r.map((function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=i.getArg(e,"offset"),s=i.getArg(n,"line"),o=i.getArg(n,"column");if(s<a.line||s===a.line&&o<a.column)throw new Error("Section offsets must be ordered and non-overlapping.");return a=n,{generatedOffset:{generatedLine:s+1,generatedColumn:o+1},consumer:new l(i.getArg(e,"map"),t)}}))}l.fromSourceMap=function(e,t){return c.fromSourceMap(e,t)},l.prototype._version=3,l.prototype.__generatedMappings=null,Object.defineProperty(l.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),l.prototype.__originalMappings=null,Object.defineProperty(l.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),l.prototype._charIsMappingSeparator=function(e,t){var n=e.charAt(t);return";"===n||","===n},l.prototype._parseMappings=function(e,t){throw new Error("Subclasses must implement _parseMappings")},l.GENERATED_ORDER=1,l.ORIGINAL_ORDER=2,l.GREATEST_LOWER_BOUND=1,l.LEAST_UPPER_BOUND=2,l.prototype.eachMapping=function(e,t,n){var s,o=t||null;switch(n||l.GENERATED_ORDER){case l.GENERATED_ORDER:s=this._generatedMappings;break;case l.ORIGINAL_ORDER:s=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var r=this.sourceRoot;s.map((function(e){var t=null===e.source?null:this._sources.at(e.source);return{source:t=i.computeSourceURL(r,t,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}}),this).forEach(e,o)},l.prototype.allGeneratedPositionsFor=function(e){var t=i.getArg(e,"line"),n={source:i.getArg(e,"source"),originalLine:t,originalColumn:i.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],r=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,s.LEAST_UPPER_BOUND);if(r>=0){var a=this._originalMappings[r];if(void 0===e.column)for(var l=a.originalLine;a&&a.originalLine===l;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++r];else for(var c=a.originalColumn;a&&a.originalLine===t&&a.originalColumn==c;)o.push({line:i.getArg(a,"generatedLine",null),column:i.getArg(a,"generatedColumn",null),lastColumn:i.getArg(a,"lastGeneratedColumn",null)}),a=this._originalMappings[++r]}return o},t.SourceMapConsumer=l,c.prototype=Object.create(l.prototype),c.prototype.consumer=l,c.prototype._findSourceIndex=function(e){var t,n=e;if(null!=this.sourceRoot&&(n=i.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(t=0;t<this._absoluteSources.length;++t)if(this._absoluteSources[t]==e)return t;return-1},c.fromSourceMap=function(e,t){var n=Object.create(c.prototype),s=n._names=o.fromArray(e._names.toArray(),!0),r=n._sources=o.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=t,n._absoluteSources=n._sources.toArray().map((function(e){return i.computeSourceURL(n.sourceRoot,e,t)}));for(var l=e._mappings.toArray().slice(),u=n.__generatedMappings=[],d=n.__originalMappings=[],p=0,f=l.length;p<f;p++){var g=l[p],m=new h;m.generatedLine=g.generatedLine,m.generatedColumn=g.generatedColumn,g.source&&(m.source=r.indexOf(g.source),m.originalLine=g.originalLine,m.originalColumn=g.originalColumn,g.name&&(m.name=s.indexOf(g.name)),d.push(m)),u.push(m)}return a(n.__originalMappings,i.compareByOriginalPositions),n},c.prototype._version=3,Object.defineProperty(c.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),c.prototype._parseMappings=function(e,t){for(var n,s,o,l,c,u=1,d=0,p=0,f=0,g=0,m=0,v=e.length,w=0,b={},y={},C=[],x=[];w<v;)if(";"===e.charAt(w))u++,w++,d=0;else if(","===e.charAt(w))w++;else{for((n=new h).generatedLine=u,l=w;l<v&&!this._charIsMappingSeparator(e,l);l++);if(o=b[s=e.slice(w,l)])w+=s.length;else{for(o=[];w<l;)r.decode(e,w,y),c=y.value,w=y.rest,o.push(c);if(2===o.length)throw new Error("Found a source, but no line and column");if(3===o.length)throw new Error("Found a source and line, but no column");b[s]=o}n.generatedColumn=d+o[0],d=n.generatedColumn,o.length>1&&(n.source=g+o[1],g+=o[1],n.originalLine=p+o[2],p=n.originalLine,n.originalLine+=1,n.originalColumn=f+o[3],f=n.originalColumn,o.length>4&&(n.name=m+o[4],m+=o[4])),x.push(n),"number"==typeof n.originalLine&&C.push(n)}a(x,i.compareByGeneratedPositionsDeflated),this.__generatedMappings=x,a(C,i.compareByOriginalPositions),this.__originalMappings=C},c.prototype._findMapping=function(e,t,n,i,o,r){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[i]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[i]);return s.search(e,t,o,r)},c.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var t=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(t.generatedLine===n.generatedLine){t.lastGeneratedColumn=n.generatedColumn-1;continue}}t.lastGeneratedColumn=1/0}},c.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=this._findMapping(t,this._generatedMappings,"generatedLine","generatedColumn",i.compareByGeneratedPositionsDeflated,i.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(n>=0){var s=this._generatedMappings[n];if(s.generatedLine===t.generatedLine){var o=i.getArg(s,"source",null);null!==o&&(o=this._sources.at(o),o=i.computeSourceURL(this.sourceRoot,o,this._sourceMapURL));var r=i.getArg(s,"name",null);return null!==r&&(r=this._names.at(r)),{source:o,line:i.getArg(s,"originalLine",null),column:i.getArg(s,"originalColumn",null),name:r}}}return{source:null,line:null,column:null,name:null}},c.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some((function(e){return null==e}))},c.prototype.sourceContentFor=function(e,t){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var s,o=e;if(null!=this.sourceRoot&&(o=i.relative(this.sourceRoot,o)),null!=this.sourceRoot&&(s=i.urlParse(this.sourceRoot))){var r=o.replace(/^file:\/\//,"");if("file"==s.scheme&&this._sources.has(r))return this.sourcesContent[this._sources.indexOf(r)];if((!s.path||"/"==s.path)&&this._sources.has("/"+o))return this.sourcesContent[this._sources.indexOf("/"+o)]}if(t)return null;throw new Error('"'+o+'" is not in the SourceMap.')},c.prototype.generatedPositionFor=function(e){var t=i.getArg(e,"source");if((t=this._findSourceIndex(t))<0)return{line:null,column:null,lastColumn:null};var n={source:t,originalLine:i.getArg(e,"line"),originalColumn:i.getArg(e,"column")},s=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",i.compareByOriginalPositions,i.getArg(e,"bias",l.GREATEST_LOWER_BOUND));if(s>=0){var o=this._originalMappings[s];if(o.source===n.source)return{line:i.getArg(o,"generatedLine",null),column:i.getArg(o,"generatedColumn",null),lastColumn:i.getArg(o,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},u.prototype=Object.create(l.prototype),u.prototype.constructor=l,u.prototype._version=3,Object.defineProperty(u.prototype,"sources",{get:function(){for(var e=[],t=0;t<this._sections.length;t++)for(var n=0;n<this._sections[t].consumer.sources.length;n++)e.push(this._sections[t].consumer.sources[n]);return e}}),u.prototype.originalPositionFor=function(e){var t={generatedLine:i.getArg(e,"line"),generatedColumn:i.getArg(e,"column")},n=s.search(t,this._sections,(function(e,t){return e.generatedLine-t.generatedOffset.generatedLine||e.generatedColumn-t.generatedOffset.generatedColumn})),o=this._sections[n];return o?o.consumer.originalPositionFor({line:t.generatedLine-(o.generatedOffset.generatedLine-1),column:t.generatedColumn-(o.generatedOffset.generatedLine===t.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},u.prototype.hasContentsOfAllSources=function(){return this._sections.every((function(e){return e.consumer.hasContentsOfAllSources()}))},u.prototype.sourceContentFor=function(e,t){for(var n=0;n<this._sections.length;n++){var i=this._sections[n].consumer.sourceContentFor(e,!0);if(i)return i}if(t)return null;throw new Error('"'+e+'" is not in the SourceMap.')},u.prototype.generatedPositionFor=function(e){for(var t=0;t<this._sections.length;t++){var n=this._sections[t];if(-1!==n.consumer._findSourceIndex(i.getArg(e,"source"))){var s=n.consumer.generatedPositionFor(e);if(s)return{line:s.line+(n.generatedOffset.generatedLine-1),column:s.column+(n.generatedOffset.generatedLine===s.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},u.prototype._parseMappings=function(e,t){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var s=this._sections[n],o=s.consumer._generatedMappings,r=0;r<o.length;r++){var l=o[r],c=s.consumer._sources.at(l.source);c=i.computeSourceURL(s.consumer.sourceRoot,c,this._sourceMapURL),this._sources.add(c),c=this._sources.indexOf(c);var h=null;l.name&&(h=s.consumer._names.at(l.name),this._names.add(h),h=this._names.indexOf(h));var u={source:c,generatedLine:l.generatedLine+(s.generatedOffset.generatedLine-1),generatedColumn:l.generatedColumn+(s.generatedOffset.generatedLine===l.generatedLine?s.generatedOffset.generatedColumn-1:0),originalLine:l.originalLine,originalColumn:l.originalColumn,name:h};this.__generatedMappings.push(u),"number"==typeof u.originalLine&&this.__originalMappings.push(u)}a(this.__generatedMappings,i.compareByGeneratedPositionsDeflated),a(this.__originalMappings,i.compareByOriginalPositions)}},433:(e,t,n)=>{var i=n(400),s=n(728),o=n(213).I,r=n(188).H;function a(e){e||(e={}),this._file=s.getArg(e,"file",null),this._sourceRoot=s.getArg(e,"sourceRoot",null),this._skipValidation=s.getArg(e,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new r,this._sourcesContents=null}a.prototype._version=3,a.fromSourceMap=function(e){var t=e.sourceRoot,n=new a({file:e.file,sourceRoot:t});return e.eachMapping((function(e){var i={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(i.source=e.source,null!=t&&(i.source=s.relative(t,i.source)),i.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(i.name=e.name)),n.addMapping(i)})),e.sources.forEach((function(i){var o=i;null!==t&&(o=s.relative(t,i)),n._sources.has(o)||n._sources.add(o);var r=e.sourceContentFor(i);null!=r&&n.setSourceContent(i,r)})),n},a.prototype.addMapping=function(e){var t=s.getArg(e,"generated"),n=s.getArg(e,"original",null),i=s.getArg(e,"source",null),o=s.getArg(e,"name",null);this._skipValidation||this._validateMapping(t,n,i,o),null!=i&&(i=String(i),this._sources.has(i)||this._sources.add(i)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:t.line,generatedColumn:t.column,originalLine:null!=n&&n.line,originalColumn:null!=n&&n.column,source:i,name:o})},a.prototype.setSourceContent=function(e,t){var n=e;null!=this._sourceRoot&&(n=s.relative(this._sourceRoot,n)),null!=t?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[s.toSetString(n)]=t):this._sourcesContents&&(delete this._sourcesContents[s.toSetString(n)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},a.prototype.applySourceMap=function(e,t,n){var i=t;if(null==t){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');i=e.file}var r=this._sourceRoot;null!=r&&(i=s.relative(r,i));var a=new o,l=new o;this._mappings.unsortedForEach((function(t){if(t.source===i&&null!=t.originalLine){var o=e.originalPositionFor({line:t.originalLine,column:t.originalColumn});null!=o.source&&(t.source=o.source,null!=n&&(t.source=s.join(n,t.source)),null!=r&&(t.source=s.relative(r,t.source)),t.originalLine=o.line,t.originalColumn=o.column,null!=o.name&&(t.name=o.name))}var c=t.source;null==c||a.has(c)||a.add(c);var h=t.name;null==h||l.has(h)||l.add(h)}),this),this._sources=a,this._names=l,e.sources.forEach((function(t){var i=e.sourceContentFor(t);null!=i&&(null!=n&&(t=s.join(n,t)),null!=r&&(t=s.relative(r,t)),this.setSourceContent(t,i))}),this)},a.prototype._validateMapping=function(e,t,n,i){if(t&&"number"!=typeof t.line&&"number"!=typeof t.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||t||n||i)&&!(e&&"line"in e&&"column"in e&&t&&"line"in t&&"column"in t&&e.line>0&&e.column>=0&&t.line>0&&t.column>=0&&n))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:n,original:t,name:i}))},a.prototype._serializeMappings=function(){for(var e,t,n,o,r=0,a=1,l=0,c=0,h=0,u=0,d="",p=this._mappings.toArray(),f=0,g=p.length;f<g;f++){if(e="",(t=p[f]).generatedLine!==a)for(r=0;t.generatedLine!==a;)e+=";",a++;else if(f>0){if(!s.compareByGeneratedPositionsInflated(t,p[f-1]))continue;e+=","}e+=i.encode(t.generatedColumn-r),r=t.generatedColumn,null!=t.source&&(o=this._sources.indexOf(t.source),e+=i.encode(o-u),u=o,e+=i.encode(t.originalLine-1-c),c=t.originalLine-1,e+=i.encode(t.originalColumn-l),l=t.originalColumn,null!=t.name&&(n=this._names.indexOf(t.name),e+=i.encode(n-h),h=n)),d+=e}return d},a.prototype._generateSourcesContent=function(e,t){return e.map((function(e){if(!this._sourcesContents)return null;null!=t&&(e=s.relative(t,e));var n=s.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,n)?this._sourcesContents[n]:null}),this)},a.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},a.prototype.toString=function(){return JSON.stringify(this.toJSON())},t.SourceMapGenerator=a},841:(e,t,n)=>{var i=n(433).SourceMapGenerator,s=n(728),o=/(\r?\n)/,r="$$$isSourceNode$$$";function a(e,t,n,i,s){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==t?null:t,this.source=null==n?null:n,this.name=null==s?null:s,this[r]=!0,null!=i&&this.add(i)}a.fromStringWithSourceMap=function(e,t,n){var i=new a,r=e.split(o),l=0,c=function(){return e()+(e()||"");function e(){return l<r.length?r[l++]:void 0}},h=1,u=0,d=null;return t.eachMapping((function(e){if(null!==d){if(!(h<e.generatedLine)){var t=(n=r[l]||"").substr(0,e.generatedColumn-u);return r[l]=n.substr(e.generatedColumn-u),u=e.generatedColumn,p(d,t),void(d=e)}p(d,c()),h++,u=0}for(;h<e.generatedLine;)i.add(c()),h++;if(u<e.generatedColumn){var n=r[l]||"";i.add(n.substr(0,e.generatedColumn)),r[l]=n.substr(e.generatedColumn),u=e.generatedColumn}d=e}),this),l<r.length&&(d&&p(d,c()),i.add(r.splice(l).join(""))),t.sources.forEach((function(e){var o=t.sourceContentFor(e);null!=o&&(null!=n&&(e=s.join(n,e)),i.setSourceContent(e,o))})),i;function p(e,t){if(null===e||void 0===e.source)i.add(t);else{var o=n?s.join(n,e.source):e.source;i.add(new a(e.originalLine,e.originalColumn,o,t,e.name))}}},a.prototype.add=function(e){if(Array.isArray(e))e.forEach((function(e){this.add(e)}),this);else{if(!e[r]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},a.prototype.prepend=function(e){if(Array.isArray(e))for(var t=e.length-1;t>=0;t--)this.prepend(e[t]);else{if(!e[r]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},a.prototype.walk=function(e){for(var t,n=0,i=this.children.length;n<i;n++)(t=this.children[n])[r]?t.walk(e):""!==t&&e(t,{source:this.source,line:this.line,column:this.column,name:this.name})},a.prototype.join=function(e){var t,n,i=this.children.length;if(i>0){for(t=[],n=0;n<i-1;n++)t.push(this.children[n]),t.push(e);t.push(this.children[n]),this.children=t}return this},a.prototype.replaceRight=function(e,t){var n=this.children[this.children.length-1];return n[r]?n.replaceRight(e,t):"string"==typeof n?this.children[this.children.length-1]=n.replace(e,t):this.children.push("".replace(e,t)),this},a.prototype.setSourceContent=function(e,t){this.sourceContents[s.toSetString(e)]=t},a.prototype.walkSourceContents=function(e){for(var t=0,n=this.children.length;t<n;t++)this.children[t][r]&&this.children[t].walkSourceContents(e);var i=Object.keys(this.sourceContents);for(t=0,n=i.length;t<n;t++)e(s.fromSetString(i[t]),this.sourceContents[i[t]])},a.prototype.toString=function(){var e="";return this.walk((function(t){e+=t})),e},a.prototype.toStringWithSourceMap=function(e){var t={code:"",line:1,column:0},n=new i(e),s=!1,o=null,r=null,a=null,l=null;return this.walk((function(e,i){t.code+=e,null!==i.source&&null!==i.line&&null!==i.column?(o===i.source&&r===i.line&&a===i.column&&l===i.name||n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name}),o=i.source,r=i.line,a=i.column,l=i.name,s=!0):s&&(n.addMapping({generated:{line:t.line,column:t.column}}),o=null,s=!1);for(var c=0,h=e.length;c<h;c++)10===e.charCodeAt(c)?(t.line++,t.column=0,c+1===h?(o=null,s=!1):s&&n.addMapping({source:i.source,original:{line:i.line,column:i.column},generated:{line:t.line,column:t.column},name:i.name})):t.column++})),this.walkSourceContents((function(e,t){n.setSourceContent(e,t)})),{code:t.code,map:n}},t.SourceNode=a},728:(e,t)=>{t.getArg=function(e,t,n){if(t in e)return e[t];if(3===arguments.length)return n;throw new Error('"'+t+'" is a required argument.')};var n=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,i=/^data:.+\,.+$/;function s(e){var t=e.match(n);return t?{scheme:t[1],auth:t[2],host:t[3],port:t[4],path:t[5]}:null}function o(e){var t="";return e.scheme&&(t+=e.scheme+":"),t+="//",e.auth&&(t+=e.auth+"@"),e.host&&(t+=e.host),e.port&&(t+=":"+e.port),e.path&&(t+=e.path),t}function r(e){var n=e,i=s(e);if(i){if(!i.path)return e;n=i.path}for(var r,a=t.isAbsolute(n),l=n.split(/\/+/),c=0,h=l.length-1;h>=0;h--)"."===(r=l[h])?l.splice(h,1):".."===r?c++:c>0&&(""===r?(l.splice(h+1,c),c=0):(l.splice(h,2),c--));return""===(n=l.join("/"))&&(n=a?"/":"."),i?(i.path=n,o(i)):n}function a(e,t){""===e&&(e="."),""===t&&(t=".");var n=s(t),a=s(e);if(a&&(e=a.path||"/"),n&&!n.scheme)return a&&(n.scheme=a.scheme),o(n);if(n||t.match(i))return t;if(a&&!a.host&&!a.path)return a.host=t,o(a);var l="/"===t.charAt(0)?t:r(e.replace(/\/+$/,"")+"/"+t);return a?(a.path=l,o(a)):l}t.urlParse=s,t.urlGenerate=o,t.normalize=r,t.join=a,t.isAbsolute=function(e){return"/"===e.charAt(0)||n.test(e)},t.relative=function(e,t){""===e&&(e="."),e=e.replace(/\/$/,"");for(var n=0;0!==t.indexOf(e+"/");){var i=e.lastIndexOf("/");if(i<0)return t;if((e=e.slice(0,i)).match(/^([^\/]+:\/)?\/*$/))return t;++n}return Array(n+1).join("../")+t.substr(e.length+1)};var l=!("__proto__"in Object.create(null));function c(e){return e}function h(e){if(!e)return!1;var t=e.length;if(t<9)return!1;if(95!==e.charCodeAt(t-1)||95!==e.charCodeAt(t-2)||111!==e.charCodeAt(t-3)||116!==e.charCodeAt(t-4)||111!==e.charCodeAt(t-5)||114!==e.charCodeAt(t-6)||112!==e.charCodeAt(t-7)||95!==e.charCodeAt(t-8)||95!==e.charCodeAt(t-9))return!1;for(var n=t-10;n>=0;n--)if(36!==e.charCodeAt(n))return!1;return!0}function u(e,t){return e===t?0:null===e?1:null===t?-1:e>t?1:-1}t.toSetString=l?c:function(e){return h(e)?"$"+e:e},t.fromSetString=l?c:function(e){return h(e)?e.slice(1):e},t.compareByOriginalPositions=function(e,t,n){var i=u(e.source,t.source);return 0!==i||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)||n||0!=(i=e.generatedColumn-t.generatedColumn)||0!=(i=e.generatedLine-t.generatedLine)?i:u(e.name,t.name)},t.compareByGeneratedPositionsDeflated=function(e,t,n){var i=e.generatedLine-t.generatedLine;return 0!==i||0!=(i=e.generatedColumn-t.generatedColumn)||n||0!==(i=u(e.source,t.source))||0!=(i=e.originalLine-t.originalLine)||0!=(i=e.originalColumn-t.originalColumn)?i:u(e.name,t.name)},t.compareByGeneratedPositionsInflated=function(e,t){var n=e.generatedLine-t.generatedLine;return 0!==n||0!=(n=e.generatedColumn-t.generatedColumn)||0!==(n=u(e.source,t.source))||0!=(n=e.originalLine-t.originalLine)||0!=(n=e.originalColumn-t.originalColumn)?n:u(e.name,t.name)},t.parseSourceMapInput=function(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))},t.computeSourceURL=function(e,t,n){if(t=t||"",e&&("/"!==e[e.length-1]&&"/"!==t[0]&&(e+="/"),t=e+t),n){var i=s(n);if(!i)throw new Error("sourceMapURL could not be parsed");if(i.path){var l=i.path.lastIndexOf("/");l>=0&&(i.path=i.path.substring(0,l+1))}t=a(o(i),t)}return r(t)}},125:(e,t,n)=>{t.SourceMapGenerator=n(433).SourceMapGenerator,t.SourceMapConsumer=n(771).SourceMapConsumer,t.SourceNode=n(841).SourceNode},260:(e,t,n)=>{var i=n(16);e.exports=i},552:(e,t,n)=>{var i=n(256);e.exports={enable:function(e){var t=e.svg.querySelector("defs");if(t||(t=document.createElementNS(i.svgNS,"defs"),e.svg.appendChild(t)),!t.querySelector("style#svg-pan-zoom-controls-styles")){var n=document.createElementNS(i.svgNS,"style");n.setAttribute("id","svg-pan-zoom-controls-styles"),n.setAttribute("type","text/css"),n.textContent=".svg-pan-zoom-control { cursor: pointer; fill: black; fill-opacity: 0.333; } .svg-pan-zoom-control:hover { fill-opacity: 0.8; } .svg-pan-zoom-control-background { fill: white; fill-opacity: 0.5; } .svg-pan-zoom-control-background { fill-opacity: 0.8; }",t.appendChild(n)}var s=document.createElementNS(i.svgNS,"g");s.setAttribute("id","svg-pan-zoom-controls"),s.setAttribute("transform","translate("+(e.width-70)+" "+(e.height-76)+") scale(0.75)"),s.setAttribute("class","svg-pan-zoom-control"),s.appendChild(this._createZoomIn(e)),s.appendChild(this._createZoomReset(e)),s.appendChild(this._createZoomOut(e)),e.svg.appendChild(s),e.controlIcons=s},_createZoomIn:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-in"),t.setAttribute("transform","translate(30.5 5) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomIn()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomIn()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var s=document.createElementNS(i.svgNS,"path");return s.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-320v320q0 26 -19 45t-45 19h-128q-26 0 -45 -19t-19 -45v-320h-320q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h320v-320q0 -26 19 -45t45 -19h128q26 0 45 19t19 45v320h320q26 0 45 19t19 45zM1536 1120v-960 q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5t84.5 -203.5z"),s.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(s),t},_createZoomReset:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-reset-pan-zoom"),t.setAttribute("transform","translate(5 35) scale(0.4)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().reset()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().reset()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","2"),n.setAttribute("y","2"),n.setAttribute("width","182"),n.setAttribute("height","58"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var s=document.createElementNS(i.svgNS,"path");s.setAttribute("d","M33.051,20.632c-0.742-0.406-1.854-0.609-3.338-0.609h-7.969v9.281h7.769c1.543,0,2.701-0.188,3.473-0.562c1.365-0.656,2.048-1.953,2.048-3.891C35.032,22.757,34.372,21.351,33.051,20.632z"),s.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(s);var o=document.createElementNS(i.svgNS,"path");return o.setAttribute("d","M170.231,0.5H15.847C7.102,0.5,0.5,5.708,0.5,11.84v38.861C0.5,56.833,7.102,61.5,15.847,61.5h154.384c8.745,0,15.269-4.667,15.269-10.798V11.84C185.5,5.708,178.976,0.5,170.231,0.5z M42.837,48.569h-7.969c-0.219-0.766-0.375-1.383-0.469-1.852c-0.188-0.969-0.289-1.961-0.305-2.977l-0.047-3.211c-0.03-2.203-0.41-3.672-1.142-4.406c-0.732-0.734-2.103-1.102-4.113-1.102h-7.05v13.547h-7.055V14.022h16.524c2.361,0.047,4.178,0.344,5.45,0.891c1.272,0.547,2.351,1.352,3.234,2.414c0.731,0.875,1.31,1.844,1.737,2.906s0.64,2.273,0.64,3.633c0,1.641-0.414,3.254-1.242,4.84s-2.195,2.707-4.102,3.363c1.594,0.641,2.723,1.551,3.387,2.73s0.996,2.98,0.996,5.402v2.32c0,1.578,0.063,2.648,0.19,3.211c0.19,0.891,0.635,1.547,1.333,1.969V48.569z M75.579,48.569h-26.18V14.022h25.336v6.117H56.454v7.336h16.781v6H56.454v8.883h19.125V48.569z M104.497,46.331c-2.44,2.086-5.887,3.129-10.34,3.129c-4.548,0-8.125-1.027-10.731-3.082s-3.909-4.879-3.909-8.473h6.891c0.224,1.578,0.662,2.758,1.316,3.539c1.196,1.422,3.246,2.133,6.15,2.133c1.739,0,3.151-0.188,4.236-0.562c2.058-0.719,3.087-2.055,3.087-4.008c0-1.141-0.504-2.023-1.512-2.648c-1.008-0.609-2.607-1.148-4.796-1.617l-3.74-0.82c-3.676-0.812-6.201-1.695-7.576-2.648c-2.328-1.594-3.492-4.086-3.492-7.477c0-3.094,1.139-5.664,3.417-7.711s5.623-3.07,10.036-3.07c3.685,0,6.829,0.965,9.431,2.895c2.602,1.93,3.966,4.73,4.093,8.402h-6.938c-0.128-2.078-1.057-3.555-2.787-4.43c-1.154-0.578-2.587-0.867-4.301-0.867c-1.907,0-3.428,0.375-4.565,1.125c-1.138,0.75-1.706,1.797-1.706,3.141c0,1.234,0.561,2.156,1.682,2.766c0.721,0.406,2.25,0.883,4.589,1.43l6.063,1.43c2.657,0.625,4.648,1.461,5.975,2.508c2.059,1.625,3.089,3.977,3.089,7.055C108.157,41.624,106.937,44.245,104.497,46.331z M139.61,48.569h-26.18V14.022h25.336v6.117h-18.281v7.336h16.781v6h-16.781v8.883h19.125V48.569z M170.337,20.14h-10.336v28.43h-7.266V20.14h-10.383v-6.117h27.984V20.14z"),o.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(o),t},_createZoomOut:function(e){var t=document.createElementNS(i.svgNS,"g");t.setAttribute("id","svg-pan-zoom-zoom-out"),t.setAttribute("transform","translate(30.5 70) scale(0.015)"),t.setAttribute("class","svg-pan-zoom-control"),t.addEventListener("click",(function(){e.getPublicInstance().zoomOut()}),!1),t.addEventListener("touchstart",(function(){e.getPublicInstance().zoomOut()}),!1);var n=document.createElementNS(i.svgNS,"rect");n.setAttribute("x","0"),n.setAttribute("y","0"),n.setAttribute("width","1500"),n.setAttribute("height","1400"),n.setAttribute("class","svg-pan-zoom-control-background"),t.appendChild(n);var s=document.createElementNS(i.svgNS,"path");return s.setAttribute("d","M1280 576v128q0 26 -19 45t-45 19h-896q-26 0 -45 -19t-19 -45v-128q0 -26 19 -45t45 -19h896q26 0 45 19t19 45zM1536 1120v-960q0 -119 -84.5 -203.5t-203.5 -84.5h-960q-119 0 -203.5 84.5t-84.5 203.5v960q0 119 84.5 203.5t203.5 84.5h960q119 0 203.5 -84.5 t84.5 -203.5z"),s.setAttribute("class","svg-pan-zoom-control-element"),t.appendChild(s),t},disable:function(e){e.controlIcons&&(e.controlIcons.parentNode.removeChild(e.controlIcons),e.controlIcons=null)}}},15:(e,t,n)=>{var i=n(256),s=n(749),o=function(e,t){this.init(e,t)};o.prototype.init=function(e,t){this.viewport=e,this.options=t,this.originalState={zoom:1,x:0,y:0},this.activeState={zoom:1,x:0,y:0},this.updateCTMCached=s.proxy(this.updateCTM,this),this.requestAnimationFrame=s.createRequestAnimationFrame(this.options.refreshRate),this.viewBox={x:0,y:0,width:0,height:0},this.cacheViewBox();var n=this.processCTM();this.setCTM(n),this.updateCTM()},o.prototype.cacheViewBox=function(){var e=this.options.svg.getAttribute("viewBox");if(e){var t=e.split(/[\s\,]/).filter((function(e){return e})).map(parseFloat);this.viewBox.x=t[0],this.viewBox.y=t[1],this.viewBox.width=t[2],this.viewBox.height=t[3];var n=Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height);this.activeState.zoom=n,this.activeState.x=(this.options.width-this.viewBox.width*n)/2,this.activeState.y=(this.options.height-this.viewBox.height*n)/2,this.updateCTMOnNextFrame(),this.options.svg.removeAttribute("viewBox")}else this.simpleViewBoxCache()},o.prototype.simpleViewBoxCache=function(){var e=this.viewport.getBBox();this.viewBox.x=e.x,this.viewBox.y=e.y,this.viewBox.width=e.width,this.viewBox.height=e.height},o.prototype.getViewBox=function(){return s.extend({},this.viewBox)},o.prototype.processCTM=function(){var e,t=this.getCTM();if((this.options.fit||this.options.contain)&&(e=this.options.fit?Math.min(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height):Math.max(this.options.width/this.viewBox.width,this.options.height/this.viewBox.height),t.a=e,t.d=e,t.e=-this.viewBox.x*e,t.f=-this.viewBox.y*e),this.options.center){var n=.5*(this.options.width-(this.viewBox.width+2*this.viewBox.x)*t.a),i=.5*(this.options.height-(this.viewBox.height+2*this.viewBox.y)*t.a);t.e=n,t.f=i}return this.originalState.zoom=t.a,this.originalState.x=t.e,this.originalState.y=t.f,t},o.prototype.getOriginalState=function(){return s.extend({},this.originalState)},o.prototype.getState=function(){return s.extend({},this.activeState)},o.prototype.getZoom=function(){return this.activeState.zoom},o.prototype.getRelativeZoom=function(){return this.activeState.zoom/this.originalState.zoom},o.prototype.computeRelativeZoom=function(e){return e/this.originalState.zoom},o.prototype.getPan=function(){return{x:this.activeState.x,y:this.activeState.y}},o.prototype.getCTM=function(){var e=this.options.svg.createSVGMatrix();return e.a=this.activeState.zoom,e.b=0,e.c=0,e.d=this.activeState.zoom,e.e=this.activeState.x,e.f=this.activeState.y,e},o.prototype.setCTM=function(e){var t=this.isZoomDifferent(e),n=this.isPanDifferent(e);if(t||n){if(t&&(!1===this.options.beforeZoom(this.getRelativeZoom(),this.computeRelativeZoom(e.a))?(e.a=e.d=this.activeState.zoom,t=!1):(this.updateCache(e),this.options.onZoom(this.getRelativeZoom()))),n){var i=this.options.beforePan(this.getPan(),{x:e.e,y:e.f}),o=!1,r=!1;!1===i?(e.e=this.getPan().x,e.f=this.getPan().y,o=r=!0):s.isObject(i)&&(!1===i.x?(e.e=this.getPan().x,o=!0):s.isNumber(i.x)&&(e.e=i.x),!1===i.y?(e.f=this.getPan().y,r=!0):s.isNumber(i.y)&&(e.f=i.y)),o&&r||!this.isPanDifferent(e)?n=!1:(this.updateCache(e),this.options.onPan(this.getPan()))}(t||n)&&this.updateCTMOnNextFrame()}},o.prototype.isZoomDifferent=function(e){return this.activeState.zoom!==e.a},o.prototype.isPanDifferent=function(e){return this.activeState.x!==e.e||this.activeState.y!==e.f},o.prototype.updateCache=function(e){this.activeState.zoom=e.a,this.activeState.x=e.e,this.activeState.y=e.f},o.prototype.pendingUpdate=!1,o.prototype.updateCTMOnNextFrame=function(){this.pendingUpdate||(this.pendingUpdate=!0,this.requestAnimationFrame.call(window,this.updateCTMCached))},o.prototype.updateCTM=function(){var e=this.getCTM();i.setCTM(this.viewport,e,this.defs),this.pendingUpdate=!1,this.options.onUpdatedCTM&&this.options.onUpdatedCTM(e)},e.exports=function(e,t){return new o(e,t)}},16:(e,t,n)=>{var i=n(818),s=n(552),o=n(749),r=n(256),a=n(15),l=function(e,t){this.init(e,t)},c={viewportSelector:".svg-pan-zoom_viewport",panEnabled:!0,controlIconsEnabled:!1,zoomEnabled:!0,dblClickZoomEnabled:!0,mouseWheelZoomEnabled:!0,preventMouseEventsDefault:!0,zoomScaleSensitivity:.1,minZoom:.5,maxZoom:10,fit:!0,contain:!1,center:!0,refreshRate:"auto",beforeZoom:null,onZoom:null,beforePan:null,onPan:null,customEventsHandler:null,eventsListenerElement:null,onUpdatedCTM:null},h={passive:!0};l.prototype.init=function(e,t){var n=this;this.svg=e,this.defs=e.querySelector("defs"),r.setupSvgAttributes(this.svg),this.options=o.extend(o.extend({},c),t),this.state="none";var i=r.getBoundingClientRectNormalized(e);this.width=i.width,this.height=i.height,this.viewport=a(r.getOrCreateViewport(this.svg,this.options.viewportSelector),{svg:this.svg,width:this.width,height:this.height,fit:this.options.fit,contain:this.options.contain,center:this.options.center,refreshRate:this.options.refreshRate,beforeZoom:function(e,t){if(n.viewport&&n.options.beforeZoom)return n.options.beforeZoom(e,t)},onZoom:function(e){if(n.viewport&&n.options.onZoom)return n.options.onZoom(e)},beforePan:function(e,t){if(n.viewport&&n.options.beforePan)return n.options.beforePan(e,t)},onPan:function(e){if(n.viewport&&n.options.onPan)return n.options.onPan(e)},onUpdatedCTM:function(e){if(n.viewport&&n.options.onUpdatedCTM)return n.options.onUpdatedCTM(e)}});var l=this.getPublicInstance();l.setBeforeZoom(this.options.beforeZoom),l.setOnZoom(this.options.onZoom),l.setBeforePan(this.options.beforePan),l.setOnPan(this.options.onPan),l.setOnUpdatedCTM(this.options.onUpdatedCTM),this.options.controlIconsEnabled&&s.enable(this),this.lastMouseWheelEventTime=Date.now(),this.setupHandlers()},l.prototype.setupHandlers=function(){var e=this,t=null;if(this.eventListeners={mousedown:function(n){var i=e.handleMouseDown(n,t);return t=n,i},touchstart:function(n){var i=e.handleMouseDown(n,t);return t=n,i},mouseup:function(t){return e.handleMouseUp(t)},touchend:function(t){return e.handleMouseUp(t)},mousemove:function(t){return e.handleMouseMove(t)},touchmove:function(t){return e.handleMouseMove(t)},mouseleave:function(t){return e.handleMouseUp(t)},touchleave:function(t){return e.handleMouseUp(t)},touchcancel:function(t){return e.handleMouseUp(t)}},null!=this.options.customEventsHandler){this.options.customEventsHandler.init({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()});var n=this.options.customEventsHandler.haltEventListeners;if(n&&n.length)for(var i=n.length-1;i>=0;i--)this.eventListeners.hasOwnProperty(n[i])&&delete this.eventListeners[n[i]]}for(var s in this.eventListeners)(this.options.eventsListenerElement||this.svg).addEventListener(s,this.eventListeners[s],!this.options.preventMouseEventsDefault&&h);this.options.mouseWheelZoomEnabled&&(this.options.mouseWheelZoomEnabled=!1,this.enableMouseWheelZoom())},l.prototype.enableMouseWheelZoom=function(){if(!this.options.mouseWheelZoomEnabled){var e=this;this.wheelListener=function(t){return e.handleMouseWheel(t)};var t=!this.options.preventMouseEventsDefault;i.on(this.options.eventsListenerElement||this.svg,this.wheelListener,t),this.options.mouseWheelZoomEnabled=!0}},l.prototype.disableMouseWheelZoom=function(){if(this.options.mouseWheelZoomEnabled){var e=!this.options.preventMouseEventsDefault;i.off(this.options.eventsListenerElement||this.svg,this.wheelListener,e),this.options.mouseWheelZoomEnabled=!1}},l.prototype.handleMouseWheel=function(e){if(this.options.zoomEnabled&&"none"===this.state){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1);var t=e.deltaY||1,n=Date.now()-this.lastMouseWheelEventTime,i=3+Math.max(0,30-n);this.lastMouseWheelEventTime=Date.now(),"deltaMode"in e&&0===e.deltaMode&&e.wheelDelta&&(t=0===e.deltaY?0:Math.abs(e.wheelDelta)/e.deltaY),t=-.3<t&&t<.3?t:(t>0?1:-1)*Math.log(Math.abs(t)+10)/i;var s=this.svg.getScreenCTM().inverse(),o=r.getEventPoint(e,this.svg).matrixTransform(s),a=Math.pow(1+this.options.zoomScaleSensitivity,-1*t);this.zoomAtPoint(a,o)}},l.prototype.zoomAtPoint=function(e,t,n){var i=this.viewport.getOriginalState();n?(e=Math.max(this.options.minZoom*i.zoom,Math.min(this.options.maxZoom*i.zoom,e)),e/=this.getZoom()):this.getZoom()*e<this.options.minZoom*i.zoom?e=this.options.minZoom*i.zoom/this.getZoom():this.getZoom()*e>this.options.maxZoom*i.zoom&&(e=this.options.maxZoom*i.zoom/this.getZoom());var s=this.viewport.getCTM(),o=t.matrixTransform(s.inverse()),r=this.svg.createSVGMatrix().translate(o.x,o.y).scale(e).translate(-o.x,-o.y),a=s.multiply(r);a.a!==s.a&&this.viewport.setCTM(a)},l.prototype.zoom=function(e,t){this.zoomAtPoint(e,r.getSvgCenterPoint(this.svg,this.width,this.height),t)},l.prototype.publicZoom=function(e,t){t&&(e=this.computeFromRelativeZoom(e)),this.zoom(e,t)},l.prototype.publicZoomAtPoint=function(e,t,n){if(n&&(e=this.computeFromRelativeZoom(e)),"SVGPoint"!==o.getType(t)){if(!("x"in t)||!("y"in t))throw new Error("Given point is invalid");t=r.createSVGPoint(this.svg,t.x,t.y)}this.zoomAtPoint(e,t,n)},l.prototype.getZoom=function(){return this.viewport.getZoom()},l.prototype.getRelativeZoom=function(){return this.viewport.getRelativeZoom()},l.prototype.computeFromRelativeZoom=function(e){return e*this.viewport.getOriginalState().zoom},l.prototype.resetZoom=function(){var e=this.viewport.getOriginalState();this.zoom(e.zoom,!0)},l.prototype.resetPan=function(){this.pan(this.viewport.getOriginalState())},l.prototype.reset=function(){this.resetZoom(),this.resetPan()},l.prototype.handleDblClick=function(e){var t;if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),this.options.controlIconsEnabled&&(e.target.getAttribute("class")||"").indexOf("svg-pan-zoom-control")>-1)return!1;t=e.shiftKey?1/(2*(1+this.options.zoomScaleSensitivity)):2*(1+this.options.zoomScaleSensitivity);var n=r.getEventPoint(e,this.svg).matrixTransform(this.svg.getScreenCTM().inverse());this.zoomAtPoint(t,n)},l.prototype.handleMouseDown=function(e,t){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),o.mouseAndTouchNormalize(e,this.svg),this.options.dblClickZoomEnabled&&o.isDblClick(e,t)?this.handleDblClick(e):(this.state="pan",this.firstEventCTM=this.viewport.getCTM(),this.stateOrigin=r.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()))},l.prototype.handleMouseMove=function(e){if(this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&this.options.panEnabled){var t=r.getEventPoint(e,this.svg).matrixTransform(this.firstEventCTM.inverse()),n=this.firstEventCTM.translate(t.x-this.stateOrigin.x,t.y-this.stateOrigin.y);this.viewport.setCTM(n)}},l.prototype.handleMouseUp=function(e){this.options.preventMouseEventsDefault&&(e.preventDefault?e.preventDefault():e.returnValue=!1),"pan"===this.state&&(this.state="none")},l.prototype.fit=function(){var e=this.viewport.getViewBox(),t=Math.min(this.width/e.width,this.height/e.height);this.zoom(t,!0)},l.prototype.contain=function(){var e=this.viewport.getViewBox(),t=Math.max(this.width/e.width,this.height/e.height);this.zoom(t,!0)},l.prototype.center=function(){var e=this.viewport.getViewBox(),t=.5*(this.width-(e.width+2*e.x)*this.getZoom()),n=.5*(this.height-(e.height+2*e.y)*this.getZoom());this.getPublicInstance().pan({x:t,y:n})},l.prototype.updateBBox=function(){this.viewport.simpleViewBoxCache()},l.prototype.pan=function(e){var t=this.viewport.getCTM();t.e=e.x,t.f=e.y,this.viewport.setCTM(t)},l.prototype.panBy=function(e){var t=this.viewport.getCTM();t.e+=e.x,t.f+=e.y,this.viewport.setCTM(t)},l.prototype.getPan=function(){var e=this.viewport.getState();return{x:e.x,y:e.y}},l.prototype.resize=function(){var e=r.getBoundingClientRectNormalized(this.svg);this.width=e.width,this.height=e.height;var t=this.viewport;t.options.width=this.width,t.options.height=this.height,t.processCTM(),this.options.controlIconsEnabled&&(this.getPublicInstance().disableControlIcons(),this.getPublicInstance().enableControlIcons())},l.prototype.destroy=function(){var e=this;for(var t in this.beforeZoom=null,this.onZoom=null,this.beforePan=null,this.onPan=null,this.onUpdatedCTM=null,null!=this.options.customEventsHandler&&this.options.customEventsHandler.destroy({svgElement:this.svg,eventsListenerElement:this.options.eventsListenerElement,instance:this.getPublicInstance()}),this.eventListeners)(this.options.eventsListenerElement||this.svg).removeEventListener(t,this.eventListeners[t],!this.options.preventMouseEventsDefault&&h);this.disableMouseWheelZoom(),this.getPublicInstance().disableControlIcons(),this.reset(),u=u.filter((function(t){return t.svg!==e.svg})),delete this.options,delete this.viewport,delete this.publicInstance,delete this.pi,this.getPublicInstance=function(){return null}},l.prototype.getPublicInstance=function(){var e=this;return this.publicInstance||(this.publicInstance=this.pi={enablePan:function(){return e.options.panEnabled=!0,e.pi},disablePan:function(){return e.options.panEnabled=!1,e.pi},isPanEnabled:function(){return!!e.options.panEnabled},pan:function(t){return e.pan(t),e.pi},panBy:function(t){return e.panBy(t),e.pi},getPan:function(){return e.getPan()},setBeforePan:function(t){return e.options.beforePan=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnPan:function(t){return e.options.onPan=null===t?null:o.proxy(t,e.publicInstance),e.pi},enableZoom:function(){return e.options.zoomEnabled=!0,e.pi},disableZoom:function(){return e.options.zoomEnabled=!1,e.pi},isZoomEnabled:function(){return!!e.options.zoomEnabled},enableControlIcons:function(){return e.options.controlIconsEnabled||(e.options.controlIconsEnabled=!0,s.enable(e)),e.pi},disableControlIcons:function(){return e.options.controlIconsEnabled&&(e.options.controlIconsEnabled=!1,s.disable(e)),e.pi},isControlIconsEnabled:function(){return!!e.options.controlIconsEnabled},enableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!0,e.pi},disableDblClickZoom:function(){return e.options.dblClickZoomEnabled=!1,e.pi},isDblClickZoomEnabled:function(){return!!e.options.dblClickZoomEnabled},enableMouseWheelZoom:function(){return e.enableMouseWheelZoom(),e.pi},disableMouseWheelZoom:function(){return e.disableMouseWheelZoom(),e.pi},isMouseWheelZoomEnabled:function(){return!!e.options.mouseWheelZoomEnabled},setZoomScaleSensitivity:function(t){return e.options.zoomScaleSensitivity=t,e.pi},setMinZoom:function(t){return e.options.minZoom=t,e.pi},setMaxZoom:function(t){return e.options.maxZoom=t,e.pi},setBeforeZoom:function(t){return e.options.beforeZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},setOnZoom:function(t){return e.options.onZoom=null===t?null:o.proxy(t,e.publicInstance),e.pi},zoom:function(t){return e.publicZoom(t,!0),e.pi},zoomBy:function(t){return e.publicZoom(t,!1),e.pi},zoomAtPoint:function(t,n){return e.publicZoomAtPoint(t,n,!0),e.pi},zoomAtPointBy:function(t,n){return e.publicZoomAtPoint(t,n,!1),e.pi},zoomIn:function(){return this.zoomBy(1+e.options.zoomScaleSensitivity),e.pi},zoomOut:function(){return this.zoomBy(1/(1+e.options.zoomScaleSensitivity)),e.pi},getZoom:function(){return e.getRelativeZoom()},setOnUpdatedCTM:function(t){return e.options.onUpdatedCTM=null===t?null:o.proxy(t,e.publicInstance),e.pi},resetZoom:function(){return e.resetZoom(),e.pi},resetPan:function(){return e.resetPan(),e.pi},reset:function(){return e.reset(),e.pi},fit:function(){return e.fit(),e.pi},contain:function(){return e.contain(),e.pi},center:function(){return e.center(),e.pi},updateBBox:function(){return e.updateBBox(),e.pi},resize:function(){return e.resize(),e.pi},getSizes:function(){return{width:e.width,height:e.height,realZoom:e.getZoom(),viewBox:e.viewport.getViewBox()}},destroy:function(){return e.destroy(),e.pi}}),this.publicInstance};var u=[];e.exports=function(e,t){var n=o.getSvg(e);if(null===n)return null;for(var i=u.length-1;i>=0;i--)if(u[i].svg===n)return u[i].instance.getPublicInstance();return u.push({svg:n,instance:new l(n,t)}),u[u.length-1].instance.getPublicInstance()}},256:function(e,t,n){var i=n(749),s="unknown";document.documentMode&&(s="ie"),e.exports={svgNS:"http://www.w3.org/2000/svg",xmlNS:"http://www.w3.org/XML/1998/namespace",xmlnsNS:"http://www.w3.org/2000/xmlns/",xlinkNS:"http://www.w3.org/1999/xlink",evNS:"http://www.w3.org/2001/xml-events",getBoundingClientRectNormalized:function(e){if(e.clientWidth&&e.clientHeight)return{width:e.clientWidth,height:e.clientHeight};if(e.getBoundingClientRect())return e.getBoundingClientRect();throw new Error("Cannot get BoundingClientRect for SVG.")},getOrCreateViewport:function(e,t){var n=null;if(!(n=i.isElement(t)?t:e.querySelector(t))){var s=Array.prototype.slice.call(e.childNodes||e.children).filter((function(e){return"defs"!==e.nodeName&&"#text"!==e.nodeName}));1===s.length&&"g"===s[0].nodeName&&null===s[0].getAttribute("transform")&&(n=s[0])}if(!n){var o="viewport-"+(new Date).toISOString().replace(/\D/g,"");(n=document.createElementNS(this.svgNS,"g")).setAttribute("id",o);var r=e.childNodes||e.children;if(r&&r.length>0)for(var a=r.length;a>0;a--)"defs"!==r[r.length-a].nodeName&&n.appendChild(r[r.length-a]);e.appendChild(n)}var l=[];return n.getAttribute("class")&&(l=n.getAttribute("class").split(" ")),~l.indexOf("svg-pan-zoom_viewport")||(l.push("svg-pan-zoom_viewport"),n.setAttribute("class",l.join(" "))),n},setupSvgAttributes:function(e){if(e.setAttribute("xmlns",this.svgNS),e.setAttributeNS(this.xmlnsNS,"xmlns:xlink",this.xlinkNS),e.setAttributeNS(this.xmlnsNS,"xmlns:ev",this.evNS),null!==e.parentNode){var t=e.getAttribute("style")||"";-1===t.toLowerCase().indexOf("overflow")&&e.setAttribute("style","overflow: hidden; "+t)}},internetExplorerRedisplayInterval:300,refreshDefsGlobal:i.throttle((function(){for(var e=document.querySelectorAll("defs"),t=e.length,n=0;n<t;n++){var i=e[n];i.parentNode.insertBefore(i,i)}}),this?this.internetExplorerRedisplayInterval:null),setCTM:function(e,t,n){var i=this,o="matrix("+t.a+","+t.b+","+t.c+","+t.d+","+t.e+","+t.f+")";e.setAttributeNS(null,"transform",o),"transform"in e.style?e.style.transform=o:"-ms-transform"in e.style?e.style["-ms-transform"]=o:"-webkit-transform"in e.style&&(e.style["-webkit-transform"]=o),"ie"===s&&n&&(n.parentNode.insertBefore(n,n),window.setTimeout((function(){i.refreshDefsGlobal()}),i.internetExplorerRedisplayInterval))},getEventPoint:function(e,t){var n=t.createSVGPoint();return i.mouseAndTouchNormalize(e,t),n.x=e.clientX,n.y=e.clientY,n},getSvgCenterPoint:function(e,t,n){return this.createSVGPoint(e,t/2,n/2)},createSVGPoint:function(e,t,n){var i=e.createSVGPoint();return i.x=t,i.y=n,i}}},818:e=>{e.exports=function(){var e,t,n,i="",s=[],o={passive:!0};function r(t,r,a,l){var c;c="wheel"===n?a:function(e,t){var i=function(e){!e&&(e=window.event);var i={originalEvent:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,delatZ:0,preventDefault:function(){e.preventDefault?e.preventDefault():e.returnValue=!1}};return"mousewheel"==n?(i.deltaY=-1/40*e.wheelDelta,e.wheelDeltaX&&(i.deltaX=-1/40*e.wheelDeltaX)):i.deltaY=e.detail,t(i)};return s.push({element:e,fn:i}),i}(t,a),t[e](i+r,c,!!l&&o)}function a(e,r,a,l){var c;c="wheel"===n?a:function(e){for(var t=0;t<s.length;t++)if(s[t].element===e)return s[t].fn;return function(){}}(e),e[t](i+r,c,!!l&&o),function(e){for(var t=0;t<s.length;t++)if(s[t].element===e)return s.splice(t,1)}(e)}return window.addEventListener?(e="addEventListener",t="removeEventListener"):(e="attachEvent",t="detachEvent",i="on"),n="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",{on:function(e,t,i){r(e,n,t,i),"DOMMouseScroll"==n&&r(e,"MozMousePixelScroll",t,i)},off:function(e,t,i){a(e,n,t,i),"DOMMouseScroll"==n&&a(e,"MozMousePixelScroll",t,i)}}}()},749:e=>{function t(e){return function(t){window.setTimeout(t,e)}}e.exports={extend:function(e,t){for(var n in e=e||{},t)this.isObject(t[n])?e[n]=this.extend(e[n],t[n]):e[n]=t[n];return e},isElement:function(e){return e instanceof HTMLElement||e instanceof SVGElement||e instanceof SVGSVGElement||e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},isObject:function(e){return"[object Object]"===Object.prototype.toString.call(e)},isNumber:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},getSvg:function(e){var t,n;if(this.isElement(e))t=e;else{if(!("string"==typeof e||e instanceof String))throw new Error("Provided selector is not an HTML object nor String");if(!(t=document.querySelector(e)))throw new Error("Provided selector did not find any elements. Selector: "+e)}if("svg"===t.tagName.toLowerCase())n=t;else if("object"===t.tagName.toLowerCase())n=t.contentDocument.documentElement;else{if("embed"!==t.tagName.toLowerCase())throw"img"===t.tagName.toLowerCase()?new Error('Cannot script an SVG in an "img" element. Please use an "object" element or an in-line SVG.'):new Error("Cannot get SVG.");n=t.getSVGDocument().documentElement}return n},proxy:function(e,t){return function(){return e.apply(t,arguments)}},getType:function(e){return Object.prototype.toString.apply(e).replace(/^\[object\s/,"").replace(/\]$/,"")},mouseAndTouchNormalize:function(e,t){if(void 0===e.clientX||null===e.clientX)if(e.clientX=0,e.clientY=0,void 0!==e.touches&&e.touches.length){if(void 0!==e.touches[0].clientX)e.clientX=e.touches[0].clientX,e.clientY=e.touches[0].clientY;else if(void 0!==e.touches[0].pageX){var n=t.getBoundingClientRect();e.clientX=e.touches[0].pageX-n.left,e.clientY=e.touches[0].pageY-n.top}}else void 0!==e.originalEvent&&void 0!==e.originalEvent.clientX&&(e.clientX=e.originalEvent.clientX,e.clientY=e.originalEvent.clientY)},isDblClick:function(e,t){if(2===e.detail)return!0;if(null!=t){var n=e.timeStamp-t.timeStamp,i=Math.sqrt(Math.pow(e.clientX-t.clientX,2)+Math.pow(e.clientY-t.clientY,2));return n<250&&i<10}return!1},now:Date.now||function(){return(new Date).getTime()},throttle:function(e,t,n){var i,s,o,r=this,a=null,l=0;n||(n={});var c=function(){l=!1===n.leading?0:r.now(),a=null,o=e.apply(i,s),a||(i=s=null)};return function(){var h=r.now();l||!1!==n.leading||(l=h);var u=t-(h-l);return i=this,s=arguments,u<=0||u>t?(clearTimeout(a),a=null,l=h,o=e.apply(i,s),a||(i=s=null)):a||!1===n.trailing||(a=setTimeout(c,u)),o}},createRequestAnimationFrame:function(e){var n=null;return"auto"!==e&&e<60&&e>1&&(n=Math.floor(1e3/e)),null===n?window.requestAnimationFrame||t(33):t(n)}}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.amdD=function(){throw new Error("define cannot be used indirect")},n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};(()=>{"use strict";n.d(i,{y3:()=>ft,gn:()=>ht,oc:()=>at,ue:()=>ct,dK:()=>tt,v5:()=>ot,cg:()=>lt,O$:()=>Qe,$M:()=>rt,XB:()=>et});var e={};n.r(e),n.d(e,{appendContextPath:()=>E,blockParams:()=>T,createFrame:()=>A,escapeExpression:()=>S,extend:()=>b,indexOf:()=>k,isArray:()=>x,isEmpty:()=>_,isFunction:()=>C,toString:()=>y});var t={};n.r(t),n.d(t,{Z:()=>D});var s={};n.r(s),n.d(s,{COMPILER_REVISION:()=>N,HandlebarsEnvironment:()=>V,LAST_COMPATIBLE_COMPILER_REVISION:()=>H,REVISION_CHANGES:()=>z,VERSION:()=>F,createFrame:()=>A,log:()=>U,logger:()=>D});var o={};n.r(o),n.d(o,{checkRevision:()=>K,invokePartial:()=>Z,noop:()=>J,resolvePartial:()=>X,template:()=>q,wrapProgram:()=>Y});var r={};n.r(r),n.d(r,{SourceLocation:()=>ye,id:()=>Ce,prepareBlock:()=>Te,prepareMustache:()=>_e,preparePartialBlock:()=>$e,preparePath:()=>Se,prepareProgram:()=>Ee,prepareRawBlock:()=>Ae,stripComment:()=>ke,stripFlags:()=>xe}),n(85),n(399),n(964),n(405),n(161),n(272),n(236);var a=n(260),l=n.n(a);class c{id;editor;element;visible;constructor(e){this.id=e,this.getElement(),this.editor=ace.edit(this.element.querySelector(".editor")),this.editor.setShowPrintMargin(!1),this.editor.setTheme("ace/theme/eclipse"),this.editor.renderer.setShowGutter(!1),this.editor.setFontSize("1rem"),this.editor.setOptions({fontSize:"11pt",useSoftTabs:!0}),this.visible=!0}setTitleAndIcon(e,t){this.setTitle(e),this.setIcon(t)}setTitle(e){this.element.dataset.titleCaption=e}setIcon(e){this.element.dataset.titleIcon="<span class='mif-16 mif-"+e+"'></span>"}setVisible(e){this.visible=e}isVisible(){return this.visible}getEditor(){return this.editor}getValue(){return this.editor.getValue()}setValue(e){this.editor.setValue(e+"",1)}buttonHtml(e,t){return"<span class='mif-"+e+"' data-role='hint' data-hint-text='"+t+"' data-hint-position='bottom'></span>"}fit(){}createElement(){}getElement(){return this.element||(this.element=this.createElement()),this.element}}class h{create(e,t){var n,i=document.getElementById(e);i.innerHTML="","eol"==t?n=h.createHorizontalSplitter([h.createVerticalSplitter([ot.getElement(),ht.getElement()]),h.createVerticalSplitter([ct.getElement(),at.getElement()])]):"evl"==t||"epl"==t||"egl"==t?n=h.createHorizontalSplitter([h.createVerticalSplitter([ot.getElement(),ht.getElement()]),h.createHorizontalSplitter([h.createVerticalSplitter([ct.getElement(),at.getElement()]),h.createVerticalSplitter([et.getElement()])],"50, 50")],"33, 64"):"etl"==t||"flock"==t?n=h.createHorizontalSplitter([h.createVerticalSplitter([ot.getElement(),ht.getElement()]),h.createHorizontalSplitter([h.createVerticalSplitter([ct.getElement(),at.getElement()]),h.createVerticalSplitter([Qe.getElement(),lt.getElement()])],"50, 50")],"33, 64"):"egx"==t&&(n=h.createHorizontalSplitter([h.createVerticalSplitter([h.createVerticalSplitter([ot.getElement(),rt.getElement()]),ht.getElement()]),h.createHorizontalSplitter([h.createVerticalSplitter([ct.getElement(),at.getElement()]),h.createVerticalSplitter([et.getElement()])],"50, 50")],"33, 64")),n.setAttribute("class","h-100"),n.setAttribute("id","splitter"),n.setAttribute("style","min-height:800px"),i.appendChild(n)}static createHorizontalSplitter(e,t="50, 50"){return h.createSplitter(!0,e,t)}static createVerticalSplitter(e,t="50, 50"){return h.createSplitter(!1,e,t)}static createSplitter(e,t,n){var i=document.createElement("div");return i.setAttribute("data-role","splitter"),i.setAttribute("data-on-resize-stop","fit()"),i.setAttribute("data-on-resize-split","fit()"),i.setAttribute("data-on-resize-window","fit()"),i.setAttribute("data-split-sizes",n),e||i.setAttribute("data-split-mode","vertical"),t.forEach((e=>i.appendChild(e))),i}}class u extends c{editable;metamodelPanel;constructor(e,t,n){super(e),this.editable=t,this.metamodelPanel=n,this.setupSyntaxHighlighting(),this.element.dataset.customButtons=JSON.stringify(this.getButtons()),this.setTitleAndIcon("Model","flexmi")}showDiagram(){$("#"+this.id+"Diagram").show()}refreshDiagram(){this.refreshDiagramImpl(backend.getFlexmiToPlantUMLService(),this.id+"Diagram","model",this.getEditor(),this.metamodelPanel.getEditor())}setupSyntaxHighlighting(){this.editor.getSession().setMode("ace/mode/xml"),this.updateSyntaxHighlighting();var e=this;this.editor.getSession().on("change",(function(){e.updateSyntaxHighlighting()}))}updateSyntaxHighlighting(){(this.editor.getSession().getValue().trim()+"").startsWith("<")?this.editor.getSession().setMode("ace/mode/xml"):this.editor.getSession().setMode("ace/mode/yaml")}getButtons(){return this.editable?[{html:this.buttonHtml("help","Flexmi language reference"),cls:"sys-button",onclick:"window.open('https://www.eclipse.org/epsilon/doc/flexmi');"},{html:this.buttonHtml("refresh","Render the model object diagram"),cls:"sys-button",onclick:this.id+"Panel.refreshDiagram()"},{html:this.buttonHtml("diagram","Show/hide the model object diagram"),cls:"sys-button",onclick:"toggle('"+this.id+"Diagram', function(){"+this.id+"Panel.refreshDiagram();})"}]:[]}refreshDiagramImpl(e,t,n,i,s){var o=new XMLHttpRequest;o.open("POST",e,!0),o.setRequestHeader("Content-Type","application/json"),o.onreadystatechange=function(){if(4===o.readyState&&200===o.status){var e=JSON.parse(o.responseText),n="modelDiagram";t.endsWith("etamodelDiagram")&&(n="metamodelDiagram"),e.hasOwnProperty("error")?consolePanel.setError(e.error):renderDiagram(t,e[n]),Metro.notify.killAll()}};var r=this.modelToJson(i,s);o.send(r),longNotification("Rendering "+n+" diagram")}modelToJson(e,t){return JSON.stringify({flexmi:null!=e?e.getValue():"",emfatic:null!=t?t.getValue():""})}fit(){var e=document.getElementById(this.id+"Editor");if(null!=e){e.parentNode.parentNode.style="flex-basis: calc(100% - 4px); padding: 0px";var t=e.parentElement.parentElement.parentElement;e.style.width=t.offsetWidth+"px",e.style.height=t.offsetHeight-42+"px"}this.editor.resize();var n=document.getElementById(this.id+"Diagram");if(null!=n){var i=n.firstElementChild;null!=i&&"svg"==i.tagName&&(n=n.parentElement.parentElement.parentElement,i.style.width=n.offsetWidth+"px",i.style.height=n.offsetHeight-42+"px")}}createElement(){var e=document.createElement("div");e.setAttribute("data-role","panel"),e.setAttribute("class","modelPanel"),e.setAttribute("id",this.id+"Panel");var t=document.createElement("div");t.setAttribute("id",this.id+"Editor"),t.setAttribute("class","editor");var n=document.createElement("div");n.setAttribute("id",this.id+"Diagram"),n.setAttribute("class","diagram");var i=h.createHorizontalSplitter([t,n]);return i.setAttribute("class","h-100"),e.appendChild(i),e}}var d=n(239);class p extends c{constructor(e="program"){super(e)}setLanguage(e){this.editor.getSession().setMode("ace/mode/"+e),this.element.dataset.customButtons=JSON.stringify(this.getButtons(e));var t="";switch(e){case"eol":t="Program";break;case"etl":t="Transformation";break;case"egl":t="Template";break;case"evl":t="Constraints";break;case"epl":t="Patterns";break;case"egx":t="Template Coordination"}this.setTitleAndIcon(t+" ("+e.toUpperCase()+")",e)}fit(){var e=document.getElementById(this.id+"Editor");null!=e&&(e.parentNode.style="flex-basis: calc(100% - 4px);"),this.editor.resize()}getButtons(e){var t="flock"==e?"Flock":e.toUpperCase(),n=[{html:this.buttonHtml("help",t+" language reference"),cls:"sys-button",onclick:"window.open('https://www.eclipse.org/epsilon/doc/"+e+"');"}];return"program"==this.id&&n.push({html:this.buttonHtml("run","Run the program (Ctrl/Cmd+S)"),cls:"sys-button",onclick:"runProgram()"}),n}createElement(){var e=document.createElement("div");e.setAttribute("data-role","panel"),e.setAttribute("id",this.id+"Panel");var t=document.createElement("div");return t.setAttribute("id",this.id+"Editor"),t.setAttribute("class","editor"),e.appendChild(t),e}}class f extends u{outputType;outputLanguage;language;generatedFiles;constructor(e,t,n,i){super(e,!1,null),this.outputType=n,this.outputLanguage=i,this.language=t,this.element.dataset.customButtons=JSON.stringify(this.getButtons()),this.getEditor().getSession().setMode("ace/mode/"+i.toLowerCase())}setupSyntaxHighlighting(){}getButtons(){return"code"==this.outputType?[{html:this.buttonHtml("highlight","Set generated text language"),cls:"sys-button",onclick:this.id+"Panel.setOutputLanguage()"}]:[]}getSelect(){return Metro.getPlugin("#generatedFiles","select")}setGeneratedFiles(e){this.generatedFiles=e;var t=new Map;for(const n of e)t.set(n.path,"<span>"+n.path+"</span>");var n=this.getSelect(),i=n.getSelected();n.data(Object.fromEntries(t));var s=null!=e.find((e=>e.path==i))?i:e[0]?.path;n.val(s),this.displayGeneratedFile(s)}setOutputLanguage(){var e=this;Metro.dialog.create({title:"Set Generated Text Language",content:"<p>You can set the language of the generated text to <a href='https://github.com/ajaxorg/ace/tree/master/lib/ace/mode'>any language</a> supported by the <a href='https://ace.c9.io/'>ACE editor</a>. </p><br><input type='text' id='language' data-role='input' value='"+e.outputLanguage+"'>",actions:[{caption:"OK",cls:"js-dialog-close success",onclick:function(){var t=document.getElementById("language").value;e.getEditor().getSession().setMode("ace/mode/"+t.toLowerCase())}},{caption:"Cancel",cls:"js-dialog-close"}]})}displayGeneratedFile(e){for(const n of this.generatedFiles)if(n.path==e){this.setValue(n.content);var t=ace.require("ace/ext/modelist");return void this.getEditor().getSession().setMode(t.getModeForPath(e+"").mode)}this.setValue(""),this.getEditor().getSession().setMode("ace/mode/text")}generatedFileSelected(){this.displayGeneratedFile(this.getSelect().getSelected()[0])}createElement(){var e=super.createElement();if(e.setAttribute("style","padding: 0px"),"egx"==tt){var t=document.createElement("select");t.setAttribute("data-role","select"),t.setAttribute("data-on-item-select","thirdModelPanel.generatedFileSelected()"),t.setAttribute("id","generatedFiles"),t.setAttribute("style","width:100%"),e.insertBefore(t,e.children[0]),console.log(this.select)}return e}}const g={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},m=/[&<>"'`=]/g,v=/[&<>"'`=]/;function w(e){return g[e]}function b(e){for(let t=1;t<arguments.length;t++)for(let n in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],n)&&(e[n]=arguments[t][n]);return e}let y=Object.prototype.toString,C=function(e){return"function"==typeof e};C(/x/)&&(C=function(e){return"function"==typeof e&&"[object Function]"===y.call(e)});const x=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===y.call(e)};function k(e,t){for(let n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1}function S(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return v.test(e)?e.replace(m,w):e}function _(e){return!e&&0!==e||!(!x(e)||0!==e.length)}function A(e){let t=b({},e);return t._parent=e,t}function T(e,t){return e.path=t,e}function E(e,t){return(e?e+".":"")+t}const L=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function M(e,t){let n,i,s,o,r=t&&t.loc;r&&(n=r.start.line,i=r.end.line,s=r.start.column,o=r.end.column,e+=" - "+n+":"+s);let a=Error.prototype.constructor.call(this,e);for(let e=0;e<L.length;e++)this[L[e]]=a[L[e]];Error.captureStackTrace&&Error.captureStackTrace(this,M);try{r&&(this.lineNumber=n,this.endLineNumber=i,Object.defineProperty?(Object.defineProperty(this,"column",{value:s,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:o,enumerable:!0})):(this.column=s,this.endColumn=o))}catch(e){}}M.prototype=new Error;const R=M;function I(e,t,n){e.helpers[t]&&(e.hooks[t]=e.helpers[t],n||delete e.helpers[t])}let O={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){let t=k(O.methodMap,e.toLowerCase());e=t>=0?t:parseInt(e,10)}return e},log:function(e,...t){if(e=O.lookupLevel(e),"undefined"!=typeof console&&O.lookupLevel(O.level)<=e){let n=O.methodMap[e];console[n]||(n="log"),console[n](...t)}}};const D=O;function P(...e){return b(Object.create(null),...e)}const B=Object.create(null);const F="4.7.7",N=8,H=7,z={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"},W="[object Object]";function V(e,t,i){var s;this.helpers=e||{},this.partials=t||{},this.decorators=i||{},function(e){e.registerHelper("blockHelperMissing",(function(t,n){let i=n.inverse,s=n.fn;if(!0===t)return s(this);if(!1===t||null==t)return i(this);if(x(t))return t.length>0?(n.ids&&(n.ids=[n.name]),e.helpers.each(t,n)):i(this);if(n.data&&n.ids){let e=A(n.data);e.contextPath=E(n.data.contextPath,n.name),n={data:e}}return s(t,n)}))}(s=this),function(e){e.registerHelper("each",(function(e,t){if(!t)throw new R("Must pass iterator to #each");let i,s,o=t.fn,r=t.inverse,a=0,l="";function c(t,n,r){i&&(i.key=t,i.index=n,i.first=0===n,i.last=!!r,s&&(i.contextPath=s+t)),l+=o(e[t],{data:i,blockParams:T([e[t],t],[s+t,null])})}if(t.data&&t.ids&&(s=E(t.data.contextPath,t.ids[0])+"."),C(e)&&(e=e.call(this)),t.data&&(i=A(t.data)),e&&"object"==typeof e)if(x(e))for(let t=e.length;a<t;a++)a in e&&c(a,a,a===e.length-1);else if(n.g.Symbol&&e[n.g.Symbol.iterator]){const t=[],i=e[n.g.Symbol.iterator]();for(let e=i.next();!e.done;e=i.next())t.push(e.value);for(let n=(e=t).length;a<n;a++)c(a,a,a===e.length-1)}else{let t;Object.keys(e).forEach((e=>{void 0!==t&&c(t,a-1),t=e,a++})),void 0!==t&&c(t,a-1,!0)}return 0===a&&(l=r(this)),l}))}(s),function(e){e.registerHelper("helperMissing",(function(){if(1!==arguments.length)throw new R('Missing helper: "'+arguments[arguments.length-1].name+'"')}))}(s),function(e){e.registerHelper("if",(function(e,t){if(2!=arguments.length)throw new R("#if requires exactly one argument");return C(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||_(e)?t.inverse(this):t.fn(this)})),e.registerHelper("unless",(function(t,n){if(2!=arguments.length)throw new R("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}))}(s),function(e){e.registerHelper("log",(function(){let t=[void 0],n=arguments[arguments.length-1];for(let e=0;e<arguments.length-1;e++)t.push(arguments[e]);let i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),t[0]=i,e.log(...t)}))}(s),function(e){e.registerHelper("lookup",(function(e,t,n){return e?n.lookupProperty(e,t):e}))}(s),function(e){e.registerHelper("with",(function(e,t){if(2!=arguments.length)throw new R("#with requires exactly one argument");C(e)&&(e=e.call(this));let n=t.fn;if(_(e))return t.inverse(this);{let i=t.data;return t.data&&t.ids&&(i=A(t.data),i.contextPath=E(t.data.contextPath,t.ids[0])),n(e,{data:i,blockParams:T([e],[i&&i.contextPath])})}}))}(s),function(e){!function(e){e.registerDecorator("inline",(function(e,t,n,i){let s=e;return t.partials||(t.partials={},s=function(i,s){let o=n.partials;n.partials=b({},o,t.partials);let r=e(i,s);return n.partials=o,r}),t.partials[i.args[0]]=i.fn,s}))}(e)}(this)}V.prototype={constructor:V,logger:D,log:D.log,registerHelper:function(e,t){if(y.call(e)===W){if(t)throw new R("Arg not supported with multiple helpers");b(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(y.call(e)===W)b(this.partials,e);else{if(void 0===t)throw new R(`Attempting to register a partial called "${e}" as undefined`);this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(y.call(e)===W){if(t)throw new R("Arg not supported with multiple decorators");b(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses(){Object.keys(B).forEach((e=>{delete B[e]}))}};let U=D.log;function G(e){this.string=e}G.prototype.toString=G.prototype.toHTML=function(){return""+this.string};const j=G;function K(e){const t=e&&e[0]||1;if(!(t>=H&&t<=N)){if(t<H){const e=z[N],n=z[t];throw new R("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+n+").")}throw new R("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function q(e,n){if(!n)throw new R("No environment passed to template");if(!e||!e.main)throw new R("Unknown template object: "+typeof e);e.main.decorator=e.main_d,n.VM.checkRevision(e.compiler);const i=e.compiler&&7===e.compiler[0];let s={strict:function(e,t,n){if(!e||!(t in e))throw new R('"'+t+'" not defined in '+e,{loc:n});return s.lookupProperty(e,t)},lookupProperty:function(e,n){let i=e[n];return null==i||Object.prototype.hasOwnProperty.call(e,n)||function(e,n,i){return function(e,n){return void 0!==e.whitelist[n]?!0===e.whitelist[n]:void 0!==e.defaultValue?e.defaultValue:(function(e){!0!==B[e]&&(B[e]=!0,t.log("error",`Handlebars: Access has been denied to resolve the property "${e}" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details`))}(n),!1)}("function"==typeof e?n.methods:n.properties,i)}(i,s.protoAccessControl,n)?i:void 0},lookup:function(e,t){const n=e.length;for(let i=0;i<n;i++)if(null!=(e[i]&&s.lookupProperty(e[i],t)))return e[i][t]},lambda:function(e,t){return"function"==typeof e?e.call(t):e},escapeExpression:S,invokePartial:function(t,i,s){s.hash&&(i=b({},i,s.hash),s.ids&&(s.ids[0]=!0)),t=n.VM.resolvePartial.call(this,t,i,s);let o=b({},s,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),r=n.VM.invokePartial.call(this,t,i,o);if(null==r&&n.compile&&(s.partials[s.name]=n.compile(t,e.compilerOptions,n),r=s.partials[s.name](i,o)),null!=r){if(s.indent){let e=r.split("\n");for(let t=0,n=e.length;t<n&&(e[t]||t+1!==n);t++)e[t]=s.indent+e[t];r=e.join("\n")}return r}throw new R("The partial "+s.name+" could not be compiled when running in runtime-only mode")},fn:function(t){let n=e[t];return n.decorator=e[t+"_d"],n},programs:[],program:function(e,t,n,i,s){let o=this.programs[e],r=this.fn(e);return t||s||i||n?o=Y(this,e,r,t,n,i,s):o||(o=this.programs[e]=Y(this,e,r)),o},data:function(e,t){for(;e&&t--;)e=e._parent;return e},mergeIfNeeded:function(e,t){let n=e||t;return e&&t&&e!==t&&(n=b({},t,e)),n},nullContext:Object.seal({}),noop:n.VM.noop,compilerInfo:e.compiler};function o(t,n={}){let i=n.data;o._setup(n),!n.partial&&e.useData&&(i=function(e,t){return t&&"root"in t||((t=t?A(t):{}).root=e),t}(t,i));let r,a=e.useBlockParams?[]:void 0;function l(t){return""+e.main(s,t,s.helpers,s.partials,i,a,r)}return e.useDepths&&(r=n.depths?t!=n.depths[0]?[t].concat(n.depths):n.depths:[t]),(l=Q(e.main,l,s,n.depths||[],i,a))(t,n)}return o.isTop=!0,o._setup=function(t){if(t.partial)s.protoAccessControl=t.protoAccessControl,s.helpers=t.helpers,s.partials=t.partials,s.decorators=t.decorators,s.hooks=t.hooks;else{let o=b({},n.helpers,t.helpers);!function(e,t){Object.keys(e).forEach((n=>{let i=e[n];e[n]=function(e,t){const n=t.lookupProperty;return function(e,t){return"function"!=typeof e?e:function(){return arguments[arguments.length-1]=t(arguments[arguments.length-1]),e.apply(this,arguments)}}(e,(e=>b({lookupProperty:n},e)))}(i,t)}))}(o,s),s.helpers=o,e.usePartial&&(s.partials=s.mergeIfNeeded(t.partials,n.partials)),(e.usePartial||e.useDecorators)&&(s.decorators=b({},n.decorators,t.decorators)),s.hooks={},s.protoAccessControl=function(e){let t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;let n=Object.create(null);return n.__proto__=!1,{properties:{whitelist:P(n,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:P(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}(t);let r=t.allowCallsToHelperMissing||i;I(s,"helperMissing",r),I(s,"blockHelperMissing",r)}},o._child=function(t,n,i,o){if(e.useBlockParams&&!i)throw new R("must pass block params");if(e.useDepths&&!o)throw new R("must pass parent depths");return Y(s,t,e[t],n,0,i,o)},o}function Y(e,t,n,i,s,o,r){function a(t,s={}){let a=r;return!r||t==r[0]||t===e.nullContext&&null===r[0]||(a=[t].concat(r)),n(e,t,e.helpers,e.partials,s.data||i,o&&[s.blockParams].concat(o),a)}return(a=Q(n,a,e,r,i,o)).program=t,a.depth=r?r.length:0,a.blockParams=s||0,a}function X(e,t,n){return e?e.call||n.name||(n.name=e,e=n.partials[e]):e="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],e}function Z(e,t,n){const i=n.data&&n.data["partial-block"];let s;if(n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath),n.fn&&n.fn!==J){n.data=A(n.data);let e=n.fn;s=n.data["partial-block"]=function(t,n={}){return n.data=A(n.data),n.data["partial-block"]=i,e(t,n)},e.partials&&(n.partials=b({},n.partials,e.partials))}if(void 0===e&&s&&(e=s),void 0===e)throw new R("The partial "+n.name+" could not be found");if(e instanceof Function)return e(t,n)}function J(){return""}function Q(e,t,n,i,s,o){if(e.decorator){let r={};b(t=e.decorator(t,r,n,i&&i[0],s,o,i),r)}return t}function ee(e){let t=void 0!==n.g?n.g:window,i=t.Handlebars;e.noConflict=function(){return t.Handlebars===e&&(t.Handlebars=i),e}}function te(){let t=new V;return b(t,s),t.SafeString=j,t.Exception=R,t.Utils=e,t.escapeExpression=S,t.VM=o,t.template=function(e){return q(e,t)},t}let ne=te();ne.create=te,ee(ne),ne.default=ne;const ie=ne;let se={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!se.helpers.scopedId(e)&&!e.depth}}};const oe=se;var re=function(){var e={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(e,t,n,i,s,o,r){var a=o.length-1;switch(s){case 1:return o[a-1];case 2:this.$=i.prepareProgram(o[a]);break;case 3:case 4:case 5:case 6:case 7:case 8:case 20:case 27:case 28:case 33:case 34:case 40:case 41:this.$=o[a];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(o[a]),strip:i.stripFlags(o[a],o[a]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:o[a],value:o[a],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(o[a-2],o[a-1],o[a],this._$);break;case 12:this.$={path:o[a-3],params:o[a-2],hash:o[a-1]};break;case 13:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!1,this._$);break;case 14:this.$=i.prepareBlock(o[a-3],o[a-2],o[a-1],o[a],!0,this._$);break;case 15:this.$={open:o[a-5],path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 16:case 17:this.$={path:o[a-4],params:o[a-3],hash:o[a-2],blockParams:o[a-1],strip:i.stripFlags(o[a-5],o[a])};break;case 18:this.$={strip:i.stripFlags(o[a-1],o[a-1]),program:o[a]};break;case 19:var l=i.prepareBlock(o[a-2],o[a-1],o[a],o[a],!1,this._$),c=i.prepareProgram([l],o[a-1].loc);c.chained=!0,this.$={strip:o[a-2].strip,program:c,chain:!0};break;case 21:this.$={path:o[a-1],strip:i.stripFlags(o[a-2],o[a])};break;case 22:case 23:this.$=i.prepareMustache(o[a-3],o[a-2],o[a-1],o[a-4],i.stripFlags(o[a-4],o[a]),this._$);break;case 24:this.$={type:"PartialStatement",name:o[a-3],params:o[a-2],hash:o[a-1],indent:"",strip:i.stripFlags(o[a-4],o[a]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(o[a-2],o[a-1],o[a],this._$);break;case 26:this.$={path:o[a-3],params:o[a-2],hash:o[a-1],strip:i.stripFlags(o[a-4],o[a])};break;case 29:this.$={type:"SubExpression",path:o[a-3],params:o[a-2],hash:o[a-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:o[a],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(o[a-2]),value:o[a],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(o[a-1]);break;case 35:this.$={type:"StringLiteral",value:o[a],original:o[a],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(o[a]),original:Number(o[a]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===o[a],original:"true"===o[a],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 42:this.$=i.preparePath(!0,o[a],this._$);break;case 43:this.$=i.preparePath(!1,o[a],this._$);break;case 44:o[a-2].push({part:i.id(o[a]),original:o[a],separator:o[a-1]}),this.$=o[a-2];break;case 45:this.$=[{part:i.id(o[a]),original:o[a]}];break;case 46:case 48:case 50:case 58:case 64:case 70:case 78:case 82:case 86:case 90:case 94:this.$=[];break;case 47:case 49:case 51:case 59:case 65:case 71:case 79:case 83:case 87:case 91:case 95:case 99:case 101:o[a-1].push(o[a]);break;case 98:case 100:this.$=[o[a]]}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(e,t){throw new Error(e)},parse:function(e){var t=[0],n=[null],i=[],s=this.table,o="",r=0,a=0,l=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;i.push(c);var h=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,d,p,f,g,m,v,w,b,y,C={};;){if(p=t[t.length-1],this.defaultActions[p]?f=this.defaultActions[p]:(null==u&&(y=void 0,"number"!=typeof(y=this.lexer.lex()||1)&&(y=this.symbols_[y]||y),u=y),f=s[p]&&s[p][u]),void 0===f||!f.length||!f[0]){var x="";if(!l){for(m in b=[],s[p])this.terminals_[m]&&m>2&&b.push("'"+this.terminals_[m]+"'");x=this.lexer.showPosition?"Parse error on line "+(r+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(r+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:c,expected:b})}}if(f[0]instanceof Array&&f.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+u);switch(f[0]){case 1:t.push(u),n.push(this.lexer.yytext),i.push(this.lexer.yylloc),t.push(f[1]),u=null,d?(u=d,d=null):(a=this.lexer.yyleng,o=this.lexer.yytext,r=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(v=this.productions_[f[1]][1],C.$=n[n.length-v],C._$={first_line:i[i.length-(v||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(v||1)].first_column,last_column:i[i.length-1].last_column},h&&(C._$.range=[i[i.length-(v||1)].range[0],i[i.length-1].range[1]]),void 0!==(g=this.performAction.call(C,o,a,r,this.yy,f[1],n,i)))return g;v&&(t=t.slice(0,-1*v*2),n=n.slice(0,-1*v),i=i.slice(0,-1*v)),t.push(this.productions_[f[1]][0]),n.push(C.$),i.push(C._$),w=s[t[t.length-2]][t[t.length-1]],t.push(w);break;case 3:return!0}}return!0}},t={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var s=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[s[0],s[0]+this.yyleng-t]),this},more:function(){return this._more=!0,this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,s;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),r=0;r<o.length&&(!(n=this._input.match(this.rules[o[r]]))||t&&!(n[0].length>t[0].length)||(t=n,i=r,this.options.flex));r++);return t?((s=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=s.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:s?s[s.length-1].length-s[s.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n,i){function s(e,n){return t.yytext=t.yytext.substring(e,t.yyleng-n+e)}switch(n){case 0:if("\\\\"===t.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 15;break;case 1:case 5:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(s(5,9),"END_RAW_BLOCK");case 6:case 22:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:case 23:return 48;case 21:this.unput(t.yytext),this.popState(),this.begin("com");break;case 24:return 73;case 25:case 26:case 41:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return t.yytext=s(1,2).replace(/\\"/g,'"'),80;case 32:return t.yytext=s(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 42:return t.yytext=t.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};function n(){this.yy={}}return e.lexer=t,n.prototype=e,e.Parser=n,new n}();const ae=re;function le(){this.parents=[]}function ce(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")}function he(e){ce.call(this,e),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")}function ue(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")}le.prototype={constructor:le,mutating:!1,acceptKey:function(e,t){let n=this.accept(e[t]);if(this.mutating){if(n&&!le.prototype[n.type])throw new R('Unexpected node type "'+n.type+'" found when accepting '+t+" on "+e.type);e[t]=n}},acceptRequired:function(e,t){if(this.acceptKey(e,t),!e[t])throw new R(e.type+" requires "+t)},acceptArray:function(e){for(let t=0,n=e.length;t<n;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,n--)},accept:function(e){if(!e)return;if(!this[e.type])throw new R("Unknown type: "+e.type,e);this.current&&this.parents.unshift(this.current),this.current=e;let t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:!1!==t?e:void 0},Program:function(e){this.acceptArray(e.body)},MustacheStatement:ce,Decorator:ce,BlockStatement:he,DecoratorBlock:he,PartialStatement:ue,PartialBlockStatement:function(e){ue.call(this,e),this.acceptKey(e,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:ce,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(e){this.acceptArray(e.pairs)},HashPair:function(e){this.acceptRequired(e,"value")}};const de=le;function pe(e={}){this.options=e}function fe(e,t,n){void 0===t&&(t=e.length);let i=e[t-1],s=e[t-2];return i?"ContentStatement"===i.type?(s||!n?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:n}function ge(e,t,n){void 0===t&&(t=-1);let i=e[t+1],s=e[t+2];return i?"ContentStatement"===i.type?(s||!n?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:n}function me(e,t,n){let i=e[null==t?0:t+1];if(!i||"ContentStatement"!==i.type||!n&&i.rightStripped)return;let s=i.value;i.value=i.value.replace(n?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==s}function ve(e,t,n){let i=e[null==t?e.length-1:t-1];if(!i||"ContentStatement"!==i.type||!n&&i.leftStripped)return;let s=i.value;return i.value=i.value.replace(n?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==s,i.leftStripped}pe.prototype=new de,pe.prototype.Program=function(e){const t=!this.options.ignoreStandalone;let n=!this.isRootSeen;this.isRootSeen=!0;let i=e.body;for(let e=0,s=i.length;e<s;e++){let s=i[e],o=this.accept(s);if(!o)continue;let r=fe(i,e,n),a=ge(i,e,n),l=o.openStandalone&&r,c=o.closeStandalone&&a,h=o.inlineStandalone&&r&&a;o.close&&me(i,e,!0),o.open&&ve(i,e,!0),t&&h&&(me(i,e),ve(i,e)&&"PartialStatement"===s.type&&(s.indent=/([ \t]+$)/.exec(i[e-1].original)[1])),t&&l&&(me((s.program||s.inverse).body),ve(i,e)),t&&c&&(me(i,e),ve((s.inverse||s.program).body))}return e},pe.prototype.BlockStatement=pe.prototype.DecoratorBlock=pe.prototype.PartialBlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);let t=e.program||e.inverse,n=e.program&&e.inverse,i=n,s=n;if(n&&n.chained)for(i=n.body[0].program;s.chained;)s=s.body[s.body.length-1].program;let o={open:e.openStrip.open,close:e.closeStrip.close,openStandalone:ge(t.body),closeStandalone:fe((i||t).body)};if(e.openStrip.close&&me(t.body,null,!0),n){let n=e.inverseStrip;n.open&&ve(t.body,null,!0),n.close&&me(i.body,null,!0),e.closeStrip.open&&ve(s.body,null,!0),!this.options.ignoreStandalone&&fe(t.body)&&ge(i.body)&&(ve(t.body),me(i.body))}else e.closeStrip.open&&ve(t.body,null,!0);return o},pe.prototype.Decorator=pe.prototype.MustacheStatement=function(e){return e.strip},pe.prototype.PartialStatement=pe.prototype.CommentStatement=function(e){let t=e.strip||{};return{inlineStandalone:!0,open:t.open,close:t.close}};const we=pe;function be(e,t){if(t=t.path?t.path.original:t,e.path.original!==t){let n={loc:e.path.loc};throw new R(e.path.original+" doesn't match "+t,n)}}function ye(e,t){this.source=e,this.start={line:t.first_line,column:t.first_column},this.end={line:t.last_line,column:t.last_column}}function Ce(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function xe(e,t){return{open:"~"===e.charAt(2),close:"~"===t.charAt(t.length-3)}}function ke(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function Se(e,t,n){n=this.locInfo(n);let i=e?"@":"",s=[],o=0;for(let e=0,r=t.length;e<r;e++){let r=t[e].part,a=t[e].original!==r;if(i+=(t[e].separator||"")+r,a||".."!==r&&"."!==r&&"this"!==r)s.push(r);else{if(s.length>0)throw new R("Invalid path: "+i,{loc:n});".."===r&&o++}}return{type:"PathExpression",data:e,depth:o,parts:s,original:i,loc:n}}function _e(e,t,n,i,s,o){let r=i.charAt(3)||i.charAt(2),a="{"!==r&&"&"!==r;return{type:/\*/.test(i)?"Decorator":"MustacheStatement",path:e,params:t,hash:n,escaped:a,strip:s,loc:this.locInfo(o)}}function Ae(e,t,n,i){be(e,n);let s={type:"Program",body:t,strip:{},loc:i=this.locInfo(i)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:s,openStrip:{},inverseStrip:{},closeStrip:{},loc:i}}function Te(e,t,n,i,s,o){i&&i.path&&be(e,i);let r,a,l=/\*/.test(e.open);if(t.blockParams=e.blockParams,n){if(l)throw new R("Unexpected inverse block on decorator",n);n.chain&&(n.program.body[0].closeStrip=i.strip),a=n.strip,r=n.program}return s&&(s=r,r=t,t=s),{type:l?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:t,inverse:r,openStrip:e.strip,inverseStrip:a,closeStrip:i&&i.strip,loc:this.locInfo(o)}}function Ee(e,t){if(!t&&e.length){const n=e[0].loc,i=e[e.length-1].loc;n&&i&&(t={source:n.source,start:{line:n.start.line,column:n.start.column},end:{line:i.end.line,column:i.end.column}})}return{type:"Program",body:e,strip:{},loc:t}}function $e(e,t,n,i){return be(e,n),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:t,openStrip:e.strip,closeStrip:n&&n.strip,loc:this.locInfo(i)}}let Le={};function Me(e,t){return"Program"===e.type?e:(ae.yy=Le,Le.locInfo=function(e){return new Le.SourceLocation(t&&t.srcName,e)},ae.parse(e))}function Re(e,t){let n=Me(e,t);return new we(t).accept(n)}b(Le,r);const Ie=[].slice;function Oe(){}function De(e,t){if(e===t)return!0;if(x(e)&&x(t)&&e.length===t.length){for(let n=0;n<e.length;n++)if(!De(e[n],t[n]))return!1;return!0}}function Pe(e){if(!e.path.parts){let t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}let Be;Oe.prototype={compiler:Oe,equals:function(e){let t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(let n=0;n<t;n++){let t=this.opcodes[n],i=e.opcodes[n];if(t.opcode!==i.opcode||!De(t.args,i.args))return!1}t=this.children.length;for(let n=0;n<t;n++)if(!this.children[n].equals(e.children[n]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=b(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){let t=(new this.compiler).compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[n]=t,this.useDepths=this.useDepths||t.useDepths,n},accept:function(e){if(!this[e.type])throw new R("Unknown type: "+e.type,e);this.sourceNode.unshift(e);let t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);let t=e.body,n=t.length;for(let e=0;e<n;e++)this.accept(t[e]);return this.options.blockParams.shift(),this.isSimple=1===n,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){Pe(e);let t=e.program,n=e.inverse;t=t&&this.compileProgram(t),n=n&&this.compileProgram(n);let i=this.classifySexpr(e);"helper"===i?this.helperSexpr(e,t,n):"simple"===i?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,n),this.opcode("pushProgram",t),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock(e){let t=e.program&&this.compileProgram(e.program),n=this.setupFullMustacheParams(e,t,void 0),i=e.path;this.useDecorators=!0,this.opcode("registerDecorator",n.length,i.original)},PartialStatement:function(e){this.usePartial=!0;let t=e.program;t&&(t=this.compileProgram(e.program));let n=e.params;if(n.length>1)throw new R("Unsupported number of partial arguments: "+n.length,e);n.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):n.push({type:"PathExpression",parts:[],depth:0}));let i=e.name.original,s="SubExpression"===e.name.type;s&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);let o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",s,i,o),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){Pe(e);let t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,n){let i=e.path,s=i.parts[0],o=null!=t||null!=n;this.opcode("getContext",i.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",n),i.strict=!0,this.accept(i),this.opcode("invokeAmbiguous",s,o)},simpleSexpr:function(e){let t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,n){let i=this.setupFullMustacheParams(e,t,n),s=e.path,o=s.parts[0];if(this.options.knownHelpers[o])this.opcode("invokeKnownHelper",i.length,o);else{if(this.options.knownHelpersOnly)throw new R("You specified knownHelpersOnly, but used the unknown helper "+o,e);s.strict=!0,s.falsy=!0,this.accept(s),this.opcode("invokeHelper",i.length,s.original,oe.helpers.simpleId(s))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);let t=e.parts[0],n=oe.helpers.scopedId(e),i=!e.depth&&!n&&this.blockParamIndex(t);i?this.opcode("lookupBlockParam",i,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,n):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){let t=e.pairs,n=0,i=t.length;for(this.opcode("pushHash");n<i;n++)this.pushParam(t[n].value);for(;n--;)this.opcode("assignToHash",t[n].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:Ie.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){let t=oe.helpers.simpleId(e.path),n=t&&!!this.blockParamIndex(e.path.parts[0]),i=!n&&oe.helpers.helperExpression(e),s=!n&&(i||t);if(s&&!i){let t=e.path.parts[0],n=this.options;n.knownHelpers[t]?i=!0:n.knownHelpersOnly&&(s=!1)}return i?"helper":s?"ambiguous":"simple"},pushParams:function(e){for(let t=0,n=e.length;t<n;t++)this.pushParam(e[t])},pushParam:function(e){let t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){let n;if(!e.parts||oe.helpers.scopedId(e)||e.depth||(n=this.blockParamIndex(e.parts[0])),n){let t=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",n,t)}else t=e.original||t,t.replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,n,i){let s=e.params;return this.pushParams(s),this.opcode("pushProgram",t),this.opcode("pushProgram",n),e.hash?this.accept(e.hash):this.opcode("emptyHash",i),s},blockParamIndex:function(e){for(let t=0,n=this.options.blockParams.length;t<n;t++){let n=this.options.blockParams[t],i=n&&k(n,e);if(n&&i>=0)return[t,i]}}};try{if("function"!=typeof define||!n.amdO){let e=n(125);Be=e.SourceNode}}catch(e){}function Fe(e,t,n){if(x(e)){let i=[];for(let s=0,o=e.length;s<o;s++)i.push(t.wrap(e[s],n));return i}return"boolean"==typeof e||"number"==typeof e?e+"":e}function Ne(e){this.srcFile=e,this.source=[]}Be||(Be=function(e,t,n,i){this.src="",i&&this.add(i)},Be.prototype={add:function(e){x(e)&&(e=e.join("")),this.src+=e},prepend:function(e){x(e)&&(e=e.join("")),this.src=e+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),Ne.prototype={isEmpty(){return!this.source.length},prepend:function(e,t){this.source.unshift(this.wrap(e,t))},push:function(e,t){this.source.push(this.wrap(e,t))},merge:function(){let e=this.empty();return this.each((function(t){e.add(["  ",t,"\n"])})),e},each:function(e){for(let t=0,n=this.source.length;t<n;t++)e(this.source[t])},empty:function(){let e=this.currentLocation||{start:{}};return new Be(e.start.line,e.start.column,this.srcFile)},wrap:function(e,t=this.currentLocation||{start:{}}){return e instanceof Be?e:(e=Fe(e,this,t),new Be(t.start.line,t.start.column,this.srcFile,e))},functionCall:function(e,t,n){return n=this.generateList(n),this.wrap([e,t?"."+t+"(":"(",n,")"])},quotedString:function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(e){let t=[];Object.keys(e).forEach((n=>{let i=Fe(e[n],this);"undefined"!==i&&t.push([this.quotedString(n),":",i])}));let n=this.generateList(t);return n.prepend("{"),n.add("}"),n},generateList:function(e){let t=this.empty();for(let n=0,i=e.length;n<i;n++)n&&t.add(","),t.add(Fe(e[n],this));return t},generateArray:function(e){let t=this.generateList(e);return t.prepend("["),t.add("]"),t}};const He=Ne;function ze(e){this.value=e}function We(){}We.prototype={nameLookup:function(e,t){return this.internalNameLookup(e,t)},depthedLookup:function(e){return[this.aliasable("container.lookup"),"(depths, ",JSON.stringify(e),")"]},compilerInfo:function(){return[N,z[N]]},appendToBuffer:function(e,t,n){return x(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:n?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(e,t){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",e,",",JSON.stringify(t),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(e,t,n,i){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!n,this.context=n||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||e.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;let s,o,r,a,l=e.opcodes;for(r=0,a=l.length;r<a;r++)s=l[r],this.source.currentLocation=s.loc,o=o||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new R("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));let c=this.createFunctionContext(i);if(this.isChild)return c;{let e={compiler:this.compilerInfo(),main:c};this.decorators&&(e.main_d=this.decorators,e.useDecorators=!0);let{programs:n,decorators:s}=this.context;for(r=0,a=n.length;r<a;r++)n[r]&&(e[r]=n[r],s[r]&&(e[r+"_d"]=s[r],e.useDecorators=!0));return this.environment.usePartial&&(e.usePartial=!0),this.options.data&&(e.useData=!0),this.useDepths&&(e.useDepths=!0),this.useBlockParams&&(e.useBlockParams=!0),this.options.compat&&(e.compat=!0),i?e.compilerOptions=this.options:(e.compiler=JSON.stringify(e.compiler),this.source.currentLocation={start:{line:1,column:0}},e=this.objectLiteral(e),t.srcName?(e=e.toStringWithSourceMap({file:t.destName}),e.map=e.map&&e.map.toString()):e=e.toString()),e}},preamble:function(){this.lastContext=0,this.source=new He(this.options.srcName),this.decorators=new He(this.options.srcName)},createFunctionContext:function(e){let t="",n=this.stackVars.concat(this.registers.list);n.length>0&&(t+=", "+n.join(", "));let i=0;Object.keys(this.aliases).forEach((e=>{let n=this.aliases[e];n.children&&n.referenceCount>1&&(t+=", alias"+ ++i+"="+e,n.children[0]="alias"+i)})),this.lookupPropertyFunctionIsUsed&&(t+=", "+this.lookupPropertyFunctionVarDeclaration());let s=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&s.push("blockParams"),this.useDepths&&s.push("depths");let o=this.mergeSource(t);return e?(s.push(o),Function.apply(this,s)):this.source.wrap(["function(",s.join(","),") {\n  ",o,"}"])},mergeSource:function(e){let t,n,i,s,o=this.environment.isSimple,r=!this.forceBuffer;return this.source.each((e=>{e.appendToBuffer?(i?e.prepend("  + "):i=e,s=e):(i&&(n?i.prepend("buffer += "):t=!0,s.add(";"),i=s=void 0),n=!0,o||(r=!1))})),r?i?(i.prepend("return "),s.add(";")):n||this.source.push('return "";'):(e+=", buffer = "+(t?"":this.initializeBuffer()),i?(i.prepend("return buffer + "),s.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(t?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(e){let t=this.aliasable("container.hooks.blockHelperMissing"),n=[this.contextName(0)];this.setupHelperArgs(e,0,n);let i=this.popStack();n.splice(1,0,i),this.push(this.source.functionCall(t,"call",n))},ambiguousBlockValue:function(){let e=this.aliasable("container.hooks.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();let n=this.topStack();t.splice(1,0,n),this.pushSource(["if (!",this.lastHelper,") { ",n," = ",this.source.functionCall(e,"call",t),"}"])},appendContent:function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},append:function(){if(this.isInline())this.replaceStack((e=>[" != null ? ",e,' : ""'])),this.pushSource(this.appendToBuffer(this.popStack()));else{let e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(e){this.lastContext=e},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(e,t,n,i){let s=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[s++])),this.resolvePath("context",e,s,t,n)},lookupBlockParam:function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},lookupData:function(e,t,n){e?this.pushStackLiteral("container.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0,n)},resolvePath:function(e,t,n,i,s){if(this.options.strict||this.options.assumeObjects)return void this.push(function(e,t,n,i){let s=t.popStack(),o=0,r=n.length;for(e&&r--;o<r;o++)s=t.nameLookup(s,n[o],i);return e?[t.aliasable("container.strict"),"(",s,", ",t.quotedString(n[o]),", ",JSON.stringify(t.source.currentLocation)," )"]:s}(this.options.strict&&s,this,t,e));let o=t.length;for(;n<o;n++)this.replaceStack((s=>{let o=this.nameLookup(s,t[n],e);return i?[" && ",o]:[" != null ? ",o," : ",s]}))},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},emptyHash:function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){let e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},pushString:function(e){this.pushStackLiteral(this.quotedString(e))},pushLiteral:function(e){this.pushStackLiteral(e)},pushProgram:function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},registerDecorator(e,t){let n=this.nameLookup("decorators",t,"decorator"),i=this.setupHelperArgs(t,e);this.decorators.push(["fn = ",this.decorators.functionCall(n,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(e,t,n){let i=this.popStack(),s=this.setupHelper(e,t),o=[];n&&o.push(s.name),o.push(i),this.options.strict||o.push(this.aliasable("container.hooks.helperMissing"));let r=["(",this.itemsSeparatedBy(o,"||"),")"],a=this.source.functionCall(r,"call",s.callParams);this.push(a)},itemsSeparatedBy:function(e,t){let n=[];n.push(e[0]);for(let i=1;i<e.length;i++)n.push(t,e[i]);return n},invokeKnownHelper:function(e,t){let n=this.setupHelper(e,t);this.push(this.source.functionCall(n.name,"call",n.callParams))},invokeAmbiguous:function(e,t){this.useRegister("helper");let n=this.popStack();this.emptyHash();let i=this.setupHelper(0,e,t),s=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",e,"helper")," || ",n,")"];this.options.strict||(s[0]="(helper = ",s.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",s,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(e,t,n){let i=[],s=this.setupParams(t,1,i);e&&(t=this.popStack(),delete s.name),n&&(s.indent=JSON.stringify(n)),s.helpers="helpers",s.partials="partials",s.decorators="container.decorators",e?i.unshift(t):i.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(s.depths="depths"),s=this.objectLiteral(s),i.push(s),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(e){let t,n,i,s=this.popStack();this.trackIds&&(i=this.popStack()),this.stringParams&&(n=this.popStack(),t=this.popStack());let o=this.hash;t&&(o.contexts[e]=t),n&&(o.types[e]=n),i&&(o.ids[e]=i),o.values[e]=s},pushId:function(e,t,n){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(n?" + "+JSON.stringify("."+n):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:We,compileChildren:function(e,t){let n,i,s=e.children;for(let e=0,o=s.length;e<o;e++){n=s[e],i=new this.compiler;let o=this.matchExistingProgram(n);if(null==o){this.context.programs.push("");let e=this.context.programs.length;n.index=e,n.name="program"+e,this.context.programs[e]=i.compile(n,t,this.context,!this.precompile),this.context.decorators[e]=i.decorators,this.context.environments[e]=n,this.useDepths=this.useDepths||i.useDepths,this.useBlockParams=this.useBlockParams||i.useBlockParams,n.useDepths=this.useDepths,n.useBlockParams=this.useBlockParams}else n.index=o.index,n.name="program"+o.index,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams}},matchExistingProgram:function(e){for(let t=0,n=this.context.environments.length;t<n;t++){let n=this.context.environments[t];if(n&&n.equals(e))return n}},programExpression:function(e){let t=this.environment.children[e],n=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&n.push("blockParams"),this.useDepths&&n.push("depths"),"container.program("+n.join(", ")+")"},useRegister:function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},push:function(e){return e instanceof ze||(e=this.source.wrap(e)),this.inlineStack.push(e),e},pushStackLiteral:function(e){this.push(new ze(e))},pushSource:function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},replaceStack:function(e){let t,n,i,s=["("];if(!this.isInline())throw new R("replaceStack on non-inline");let o=this.popStack(!0);if(o instanceof ze)t=[o.value],s=["(",t],i=!0;else{n=!0;let e=this.incrStack();s=["((",this.push(e)," = ",o,")"],t=this.topStack()}let r=e.call(this,t);i||this.popStack(),n&&this.stackSlot--,this.push(s.concat(r,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){let e=this.inlineStack;this.inlineStack=[];for(let t=0,n=e.length;t<n;t++){let n=e[t];if(n instanceof ze)this.compileStack.push(n);else{let e=this.incrStack();this.pushSource([e," = ",n,";"]),this.compileStack.push(e)}}},isInline:function(){return this.inlineStack.length},popStack:function(e){let t=this.isInline(),n=(t?this.inlineStack:this.compileStack).pop();if(!e&&n instanceof ze)return n.value;if(!t){if(!this.stackSlot)throw new R("Invalid stack pop");this.stackSlot--}return n},topStack:function(){let e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof ze?t.value:t},contextName:function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},quotedString:function(e){return this.source.quotedString(e)},objectLiteral:function(e){return this.source.objectLiteral(e)},aliasable:function(e){let t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},setupHelper:function(e,t,n){let i=[];return{params:i,paramsInit:this.setupHelperArgs(t,e,i,n),name:this.nameLookup("helpers",t,"helper"),callParams:[this.aliasable(`${this.contextName(0)} != null ? ${this.contextName(0)} : (container.nullContext || {})`)].concat(i)}},setupParams:function(e,t,n){let i,s={},o=[],r=[],a=[],l=!n;l&&(n=[]),s.name=this.quotedString(e),s.hash=this.popStack(),this.trackIds&&(s.hashIds=this.popStack()),this.stringParams&&(s.hashTypes=this.popStack(),s.hashContexts=this.popStack());let c=this.popStack(),h=this.popStack();(h||c)&&(s.fn=h||"container.noop",s.inverse=c||"container.noop");let u=t;for(;u--;)i=this.popStack(),n[u]=i,this.trackIds&&(a[u]=this.popStack()),this.stringParams&&(r[u]=this.popStack(),o[u]=this.popStack());return l&&(s.args=this.source.generateArray(n)),this.trackIds&&(s.ids=this.source.generateArray(a)),this.stringParams&&(s.types=this.source.generateArray(r),s.contexts=this.source.generateArray(o)),this.options.data&&(s.data="data"),this.useBlockParams&&(s.blockParams="blockParams"),s},setupHelperArgs:function(e,t,n,i){let s=this.setupParams(e,t,n);return s.loc=JSON.stringify(this.source.currentLocation),s=this.objectLiteral(s),i?(this.useRegister("options"),n.push("options"),["options=",s]):n?(n.push(s),""):s}},function(){const e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=We.RESERVED_WORDS={};for(let n=0,i=e.length;n<i;n++)t[e[n]]=!0}(),We.isValidJavaScriptVariableName=function(e){return!We.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)};const Ve=We;let Ue=ie.create;function Ge(){let e=Ue();return e.compile=function(t,n){return function(e,t={},n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new R("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);let i;function s(){let i=n.parse(e,t),s=(new n.Compiler).compile(i,t),o=(new n.JavaScriptCompiler).compile(s,t,void 0,!0);return n.template(o)}function o(e,t){return i||(i=s()),i.call(this,e,t)}return"data"in(t=b({},t))||(t.data=!0),t.compat&&(t.useDepths=!0),o._setup=function(e){return i||(i=s()),i._setup(e)},o._child=function(e,t,n,o){return i||(i=s()),i._child(e,t,n,o)},o}(t,n,e)},e.precompile=function(t,n){return function(e,t,n){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new R("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);let i=n.parse(e,t),s=(new n.Compiler).compile(i,t);return(new n.JavaScriptCompiler).compile(s,t)}(t,n,e)},e.AST=oe,e.Compiler=Oe,e.JavaScriptCompiler=Ve,e.Parser=ae,e.parse=Re,e.parseWithoutProcessing=Me,e}let je=Ge();je.create=Ge,ee(je),je.Visitor=de,je.default=je;const Ke=je;var qe=n(733),Ye=n.n(qe);class Xe extends u{constructor(e){super(e,!0,null),this.element.dataset.customButtons=JSON.stringify(this.getButtons()),this.setTitleAndIcon("Metamodel","emfatic")}setupSyntaxHighlighting(){this.editor.getSession().setMode("ace/mode/emfatic")}getButtons(){return[{html:this.buttonHtml("help","Emfatic language reference"),cls:"sys-button",onclick:"window.open('https://www.eclipse.org/epsilon/doc/articles/playground/#emfatic-metamodels-in-the-playground');"},{html:this.buttonHtml("refresh","Render the metamodel class diagram"),cls:"sys-button",onclick:this.id+"Panel.refreshDiagram()"},{html:this.buttonHtml("diagram","Show/hide the metamodel class diagram"),cls:"sys-button",onclick:"toggle('"+this.id+"Diagram', function(){"+this.id+"Panel.refreshDiagram();})"}]}refreshDiagram(){this.refreshDiagramImpl(backend.getEmfaticToPlantUMLService(),this.id+"Diagram","metamodel",null,this.getEditor())}}n(252),(0,d.define)("ace/mode/eol_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.eolHighlightRules=o})),(0,d.define)("ace/mode/eol",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/eol_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./eol_highlight_rules").eolHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/eol",this.snippetFileId="ace/snippets/eol"}.call(r.prototype),t.Mode=r})),(0,d.define)("ace/mode/etl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"rule|transform|from|to|guard|pre|post|not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies|extends","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.etlHighlightRules=o})),(0,d.define)("ace/mode/etl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/etl_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./etl_highlight_rules").etlHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/etl",this.snippetFileId="ace/snippets/etl"}.call(r.prototype),t.Mode=r})),(0,d.define)("ace/mode/evl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"context|constraint|critique|message|guard|check|fix|do|title|pre|post|not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.evlHighlightRules=o})),(0,d.define)("ace/mode/evl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/evl_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./evl_highlight_rules").evlHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/evl",this.snippetFileId="ace/snippets/evl"}.call(r.prototype),t.Mode=r})),(0,d.define)("ace/mode/epl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"match|onmatch|nomatch|pattern|do|from|pre|post|not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.eplHighlightRules=o})),(0,d.define)("ace/mode/epl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/epl_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./epl_highlight_rules").eplHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/epl",this.snippetFileId="ace/snippets/epl"}.call(r.prototype),t.Mode=r})),(0,d.define)("ace/mode/egl_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"text",regex:"\\[%",next:"dynamic"},{token:"comment",regex:"\\[\\*",next:"comment"},{token:"string",regex:"."}],comment:[{token:"comment",regex:"\\*\\]",next:"start"},{token:"comment",regex:"."}],dynamic:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"},{token:"text",regex:"%\\]",next:"start"}]}};i.inherits(o,s),t.EglHighlightRules=o})),(0,d.define)("ace/mode/egl",["require","exports","module","ace/lib/oop","ace/mode/text","ace/tokenizer","ace/mode/egl_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./egl_highlight_rules").EglHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),t.Mode=r})),(0,d.define)("ace/mode/egx_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"rule|transform|template|merge|append|patch|template|parameters|formatter|target||guard|pre|post|not|delete|import|for|while|in|and|or|operation|return|var|throw|if|new|else|transaction|abort|break|continue|assert|assertError|not|function|default|switch|case|as|ext|driver|alias|model|breakAll|async|group|nor|xor|implies|extends","constant.language":"true|false|self","storage.type":"Any|String|Integer|Real|Boolean|Native|Bag|Set|List|Sequence|Map|OrderedSet|Collection|Tuple|ConcurrentBag|ConcurrentMap|ConcurrentSet"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.egxHighlightRules=o})),(0,d.define)("ace/mode/egx",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/egx_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./egx_highlight_rules").egxHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/egx",this.snippetFileId="ace/snippets/egx"}.call(r.prototype),t.Mode=r})),(0,d.define)("ace/mode/emfatic_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text_highlight_rules").TextHighlightRules,o=function(){var e=this.createKeywordMapper({"support.function":"",keyword:"abstract|attr|class|enum|extends|import|package|ref|val|op|readonly|volatile|transient|unsettable|derived|unique|ordered|resolve|id","constant.language":"true|false|self","storage.type":"boolean|Boolean|byte|Byte|char|Character|double|Double|float|Float|int|Integer|long|Long|short|Short|Date|String|Object|Class|EObject|EClass"},"identifier",!0);this.$rules={start:[{token:"comment",regex:"//.*$"},{token:"comment",regex:"@.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"string",regex:"'.*?'"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"text",regex:"~[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};i.inherits(o,s),t.emfaticHighlightRules=o})),(0,d.define)("ace/mode/emfatic",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/emfatic_highlight_rules"],(function(e,t,n){var i=e("../lib/oop"),s=e("./text").Mode,o=e("./emfatic_highlight_rules").emfaticHighlightRules,r=function(){this.HighlightRules=o,this.$behaviour=this.$defaultBehaviour};i.inherits(r,s),function(){this.$id="ace/mode/emfatic",this.snippetFileId="ace/snippets/emfatic"}.call(r.prototype),t.Mode=r}));const Ze="https://cdn.jsdelivr.net/npm/ace-builds@1.14.0/src-min-noconflict";ace.config.set("basePath",Ze),ace.config.set("modePath",Ze),ace.config.set("themePath",Ze),ace.config.set("workerPath",Ze);var Je,Qe,et,tt="eol",nt="text",it="text",st=(window.location+"").indexOf("?"),ot=new p,rt=new p("secondProgram"),at=new Xe("firstMetamodel"),lt=new Xe("secondMetamodel"),ct=new u("firstModel",!0,at),ht=new class extends c{constructor(){super("console"),this.editor.setReadOnly(!0),this.editor.setValue("",1),this.element.dataset.customButtons=JSON.stringify(this.getButtons()),this.detectHyperlinks(this.editor),this.setTitleAndIcon("Console","console")}getButtons(){return[{html:this.buttonHtml("clear","Clear the console"),cls:"sys-button",onclick:"consolePanel.setValue('')"}]}setOutput(e){document.getElementById("consoleEditor").style.color="black",this.editor.getSession().setUseWrapMode(!1),this.editor.setValue(e,1)}setError(e){document.getElementById("consoleEditor").style.color="#CD352C",this.editor.getSession().setUseWrapMode(!0),this.editor.setValue(e,1)}fit(){var e=document.getElementById(this.id+"Editor");null!=e&&(e.parentNode.style="flex-basis: calc(100% - 4px);"),this.editor.resize()}createElement(){var e=document.createElement("div");e.setAttribute("data-role","panel"),e.setAttribute("id",this.id+"Panel");var t=document.createElement("div");return t.setAttribute("id",this.id+"Editor"),t.setAttribute("class","editor"),e.appendChild(t),e}detectHyperlinks(e){var t=/\(((.+?)@(\d+):(\d+)-(\d+):(\d+))\)/i;(0,d.define)("hoverlink",[],(function(e,n,i){var s=e("ace/lib/oop"),o=e("ace/lib/event"),r=e("ace/range").Range,a=e("ace/lib/event_emitter").EventEmitter,l=function(e){e.hoverLink||(e.hoverLink=this,this.editor=e,this.update=this.update.bind(this),this.onMouseMove=this.onMouseMove.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onClick=this.onClick.bind(this),o.addListener(e.renderer.scroller,"mousemove",this.onMouseMove),o.addListener(e.renderer.content,"mouseout",this.onMouseOut),o.addListener(e.renderer.content,"click",this.onClick))};(function(){s.implement(this,a),this.token={},this.range=new r,this.update=function(){this.$timer=null;var e=this.editor,t=e.renderer,n=t.scroller.getBoundingClientRect(),i=(this.x+t.scrollLeft-n.left-t.$padding)/t.characterWidth,s=Math.floor((this.y+t.scrollTop-n.top)/t.lineHeight),o=Math.round(i),a={row:s,column:o,side:i-o>0?1:-1},l=e.session,c=l.screenToDocumentPosition(a.row,a.column),h=e.selection.getRange();if(!h.isEmpty()&&h.start.row<=s&&h.end.row>=s)return this.clear();var u=e.session.getLine(c.row);if(c.column==u.length&&e.session.documentToScreenPosition(c.row,c.column).column!=a.column)return this.clear();var d=this.findLink(c.row,c.column);if(this.link=d,!d)return this.clear();this.isOpen=!0,e.renderer.setCursorStyle("pointer"),l.removeMarker(this.marker),this.range=new r(d.row,d.start,d.row,d.start+d.value.length),this.marker=l.addMarker(this.range,"ace_link_marker","text",!0)},this.clear=function(){this.isOpen&&(this.editor.session.removeMarker(this.marker),this.editor.renderer.setCursorStyle(""),this.isOpen=!1)},this.getMatchAround=function(e,t,n){var i;return e.lastIndex=0,t.replace(e,(function(e){var t=arguments[arguments.length-2],s=e.length;t<=n&&t+s>=n&&(i={start:t,value:e})})),i},this.onClick=function(){this.link&&(this.link.editor=this.editor,this._signal("open",this.link),this.clear())},this.findLink=function(e,n){var i=this.editor.session.getLine(e),s=this.getMatchAround(t,i,n);if(s)return s.row=e,s},this.onMouseMove=function(e){this.editor.$mouseHandler.isMousePressed?this.editor.selection.isEmpty()||this.clear():(this.x=e.clientX,this.y=e.clientY,this.update())},this.onMouseOut=function(e){this.clear()},this.destroy=function(){this.onMouseOut(),o.removeListener(this.editor.renderer.scroller,"mousemove",this.onMouseMove),o.removeListener(this.editor.renderer.content,"mouseout",this.onMouseOut),delete this.editor.hoverLink}}).call(l.prototype),n.HoverLink=l}));var n=ace.require("hoverlink").HoverLink;e.hoverLink=new n(e),e.hoverLink.on("open",(function(n){var i=n.value;if(e.getValue().indexOf(i)>-1){var s=i.match(t),o=ace.require("ace/range").Range,r=ot;"egx"==tt&&"egl"==s[2].split(".").pop()&&(r=rt),r.getEditor().selection.setRange(new o(parseInt(s[3])-1,parseInt(s[4]),parseInt(s[5])-1,parseInt(s[6])))}}))}},ut=new class{show(e){e.preventDefault();var t=this;Metro.dialog.create({title:"Download",content:"<p>You can download this example and run it locally through Gradle or Maven. Please choose your preferred format below. </p><br/><select id='format' data-role='select'><option value='gradle'>Gradle</option><option value='maven'>Maven</option></select>",actions:[{caption:"Download",cls:"js-dialog-close success",onclick:function(){var e=new(Ye());e.file("program."+tt,programPanel.getEditor().getValue()),"egx"==tt&&e.file("template.egl",rt.getEditor().getValue()),"etl"!=tt?(e.file("model.flexmi",firstModelPanel.getValue()),e.file("metamodel.emf",firstMetamodelPanel.getValue())):(e.file("source.flexmi",firstModelPanel.getValue()),e.file("source.emf",firstMetamodelPanel.getValue()),e.file("target.emf",secondMetamodelPanel.getValue()));var n=document.getElementById("format").value,i={language:tt,task:"egx"==tt?"egl":tt,etl:"etl"==tt,egl:"egl"==tt};if("gradle"==n){var s=Ke.compile(t.fetchTemplate("build.gradle"));e.file("build.gradle",s(i)),e.file("readme.md",t.fetchTemplate("readme-gradle.txt"))}else"maven"==n&&(s=Ke.compile(t.fetchTemplate("pom.xml")),e.file("pom.xml",s(i)),e.file("readme.md",t.fetchTemplate("readme-maven.txt")));e.generateAsync({type:"blob"}).then((function(e){var t=new Blob([e],{type:"application/zip"}),n=(window.URL||window.webkitURL).createObjectURL(t),i=document.createElement("a");i.setAttribute("download","playground-example.zip"),i.setAttribute("href",n),i.click()}))}},{caption:"Cancel",cls:"js-dialog-close"}]})}fetchTemplate(e){var t=new XMLHttpRequest,n="templates/"+e;if(t.open("GET",n,!1),t.send(),200===t.status)return t.responseText}},dt=new class{showEditorLineNumbers=!1;show(e){e.preventDefault();var t=["program","console","firstModel","firstMetamodel"];"etl"==language||"flock"==language?t.push("secondModel","secondMetamodel"):"evl"!=language&&"epl"!=language&&"egl"!=language&&"egx"!=language||(t.push("thirdModel"),"egx"==language&&t.push("secondProgram"));var n="";for(const e of t)n+=this.createPanelVisibilityCheckbox(e,!0)+"<br/>";var i=this;Metro.dialog.create({title:"Settings",content:"\n            <h6>Editors</h6>\n            "+i.createEditorLineNumbersCheckbox()+"\n            <h6>Visible Panels</h6>\n            "+n+"\n            ",actions:[{caption:"Apply",cls:"js-dialog-close success",onclick:function(){for(const e of t)i.applyPanelVisibility(e);i.updateEditorLineNumbers(),updateGutterVisibility(),fit()}},{caption:"Cancel",cls:"js-dialog-close"}]})}applyPanelVisibility(e){var t="none";document.getElementById(e+"Visible").checked&&(t="flex");var n=document.getElementById(e+"Panel").parentNode;n.style.display=t,Array.prototype.slice.call(n.parentNode.children).every((e=>"none"==e.style.display||"gutter"==e.className))?n.parentNode.style.display="none":n.parentNode.style.display="flex"}updateEditorLineNumbers(){this.showEditorLineNumbers=document.getElementById("editorLineNumbers").checked,panels.forEach((e=>e.getEditor().renderer.setShowGutter(this.showEditorLineNumbers)))}createEditorLineNumbersCheckbox(){return'<input type="checkbox" id="editorLineNumbers" data-role="checkbox" data-caption="Show line numbers" '+(this.showEditorLineNumbers?"checked":"")+">"}createPanelVisibilityCheckbox(e){var t="none"==document.getElementById(e+"Panel").parentNode.style.display?"":"checked";return'<input type="checkbox" id="'+e+'Visible" data-role="checkbox" data-caption="'+getPanelTitle(e+"Panel")+'" '+t+">"}},pt=new class{visible=!0;hide(){if(this.visible){var e=this;setTimeout((function(){document.getElementById("preloader").style.display="none",e.visible=!1}),1e3)}}},ft=new class{services={};configure(){var e=new XMLHttpRequest;if(e.open("GET","backend.json",!1),e.send(),200===e.status){var t=JSON.parse(e.responseText);for(const e of t.services)this.services[e.name]=e.url}}getRunEpsilonService(){return this.services.RunEpsilonFunction}getFlexmiToPlantUMLService(){return this.services.FlexmiToPlantUMLFunction}getEmfaticToPlantUMLService(){return this.services.EmfaticToPlantUMLFunction}getShortURLService(){return this.services.ShortURLFunction}},gt=new class{exampleId;visibleExamples=15;examplesUrl=new URL("examples/examples.json",document.baseURI).href;customExamplesUrl=!1;examples={};activeSubMenu;constructor(){var e=new URLSearchParams(window.location.search);e.has("examples")&&(this.customExamplesUrl=!0,this.examplesUrl=e.get("examples"));var t=Array.from(e.keys());for(const n of t)if(!e.get(n)){this.exampleId=n;break}this.fetchExamples()}fetchExamples(){var e=new XMLHttpRequest;if(e.open("GET",this.examplesUrl,!1),e.send(),200===e.status){var t=JSON.parse(e.responseText);for(const e of t.examples)if(e.id)this.storeExample(e),this.createExampleMenuEntry(null,e);else{var n=!1;for(const t of e.examples)this.storeExample(t),t.id==this.exampleId&&(n=!0);var i=this.createExamplesSubMenu(e.title,n);for(const t of e.examples)this.createExampleMenuEntry(i,t)}}}subMenuNumber=0;createExamplesSubMenu(e,t=!1){this.subMenuNumber++;var n=document.createElement("li");t&&n.setAttribute("class","active-container"),this.appendTopLevelExampleMenuItem(n);var i=document.createElement("a");t&&i.setAttribute("id","activeExamplesSubMenu"),i.setAttribute("class","dropdown-toggle"),i.setAttribute("href","#"),n.appendChild(i);var s=document.createElement("span");s.setAttribute("class","icon"),i.appendChild(s);var o=document.createElement("span");o.setAttribute("class","mif-folder"),s.appendChild(o);var r=document.createElement("span");r.setAttribute("class","caption"),r.innerText=e,i.appendChild(r);var a=document.createElement("ul");return a.setAttribute("class","navview-menu stay-open"),a.setAttribute("data-role","dropdown"),n.appendChild(a),a}openActiveExamplesSubMenu(){document.getElementById("activeExamplesSubMenu")?.click()}createExampleMenuEntry(e,t){var n=document.createElement("li"),i=document.createElement("a");i.href="?"+t.id,this.customExamplesUrl&&(i.href+="&examples="+this.examplesUrl),n.appendChild(i);var s=document.createElement("span");s.classList.add("icon"),i.appendChild(s);var o=document.createElement("span");o.classList.add("mif-example-16"),o.classList.add("mif-"+t.language),s.appendChild(o);var r=document.createElement("caption");r.innerHTML=t.title,r.classList.add("caption"),i.appendChild(r),e?e.appendChild(n):this.appendTopLevelExampleMenuItem(n)}appendTopLevelExampleMenuItem(e){var t=document.getElementById("examplesEnd");t.parentNode.insertBefore(e,t)}storeExample(e){this.exampleId||(this.exampleId=e.id),this.examples[e.id]=e}getSelectedExample(){return this.fetchExample(this.exampleId)}hasExample(e){return null!=this.examples[e]}getExampleId(){return this.exampleId}fetchExample(e){if(this.hasExample(e))return null!=(n=this.examples[e]).program&&(n.program=this.fetchFile(n.program)),null!=n.secondProgram&&(n.secondProgram=this.fetchFile(n.secondProgram)),null!=n.flexmi&&(n.flexmi=this.fetchFile(n.flexmi)),null!=n.emfatic&&(n.emfatic=this.fetchFile(n.emfatic)),null!=n.secondFlexmi&&(n.secondFlexmi=this.fetchFile(n.secondFlexmi)),null!=n.secondEmfatic&&(n.secondEmfatic=this.fetchFile(n.secondEmfatic)),n;var t=new XMLHttpRequest;t.open("POST",ft.getShortURLService(),!1),t.setRequestHeader("Content-Type","application/json");var n,i=JSON.stringify({shortened:e});if(t.send(i),200===t.status)try{var s=atob(JSON.parse(t.responseText).content);return JSON.parse(s)}catch(t){console.log("Fetching example "+e+" failed")}return(n={language:"eol"}).program="// Example "+e+" has not been found",n.secondProgram="",n.flexmi="",n.secondFlexmi="",n.emfatic="",n.secondEmfatic="",n}fetchFile(e){var t=new XMLHttpRequest,n=new URL(e,this.examplesUrl).href;if(t.open("GET",n,!1),t.send(),200===t.status)return t.responseText}},mt=[];function vt(){return JSON.stringify({language:tt,outputType:nt,outputLanguage:it,program:ot.getValue(),secondProgram:rt.getValue(),emfatic:at.getValue(),flexmi:ct.getValue(),secondEmfatic:lt.getValue(),secondFlexmi:Qe.getValue()})}function wt(){var e=document.getElementById("splitter");e.style.minHeight=window.innerHeight+"px",e.style.maxHeight=window.innerHeight+"px",mt.forEach((e=>e.fit())),pt.hide()}function bt(){var e=new XMLHttpRequest,t=ft.getRunEpsilonService();e.open("POST",t,!0),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=function(){if(4===e.readyState){if(200===e.status){var t=JSON.parse(e.responseText);if(console.log(t),t.hasOwnProperty("error"))ht.setError(t.error);else if(ht.setOutput(t.output),"etl"==tt)Ct("secondModelDiagram",t.targetModelDiagram);else if("evl"==tt)Ct("thirdModelDiagram",t.validatedModelDiagram);else if("epl"==tt)Ct("thirdModelDiagram",t.patternMatchedModelDiagram);else if("egx"==tt)et.setGeneratedFiles(t.generatedFiles),ht.setOutput(t.output);else if("egl"==tt)if("code"==nt)et.getEditor().setValue(t.generatedText.trim(),1),ht.setOutput(t.output);else if("html"==nt){ht.setOutput(t.output);var n=document.getElementById("htmlIframe");null==n&&((n=document.createElement("iframe")).id="htmlIframe",n.style.height="100%",n.style.width="100%",document.getElementById("thirdModelDiagram").appendChild(n)),n.srcdoc=t.generatedText}else if("puml"==nt||"dot"==nt){ht.setOutput(t.output);var i;i="puml"==nt?"plantuml":"graphviz/svg";var s=new XMLHttpRequest;s.open("POST","https://kroki.io/"+i,!0),s.setRequestHeader("Accept","image/svg+xml"),s.setRequestHeader("Content-Type","text/plain"),s.onreadystatechange=function(){4===s.readyState&&200===s.status&&Ct("thirdModelDiagram",s.responseText)},s.send(t.generatedText)}else ht.setOutput(t.output+t.generatedText)}Metro.notify.killAll()}};var n=vt();e.send(n),yt("Executing program")}function yt(e,t="light"){Metro.notify.create("<b>"+e+"...</b><br>This may take a few seconds to complete if the back end is not warmed up.",null,{keepOpen:!0,cls:t,width:300})}function Ct(e,t){var n=document.getElementById(e);n.innerHTML=t,t=document.getElementById(e).firstElementChild,"thirdModelDiagram"==e&&(n.parentElement.style.padding="0px"),t.style.width=n.offsetWidth+"px",t.style.height=n.offsetHeight+"px",l()(t,{zoomEnabled:!0,fit:!0,center:!0})}function xt(){for(const n of Array.prototype.slice.call(document.getElementsByClassName("gutter")))if(Array.prototype.slice.call(n.parentNode.children).filter((e=>e!=n&&"none"!=getComputedStyle(e).display)).length>1){var e=kt(n),t=St(n);null!=e&&"gutter"!=e.className&&null!=t?n.style.display="flex":n.style.display="none"}else n.style.display="none"}function kt(e){for(var t=e.nextElementSibling;null!=t;){if("none"!=getComputedStyle(t).display)return t;t=t.nextElementSibling}}function St(e){for(var t=e.previousElementSibling;null!=t;){if("none"!=getComputedStyle(t).display)return t;t=t.previousElementSibling}}ft.configure(),null!=(Je=gt.getSelectedExample()).eol?(Je.program=Je.eol,tt="eol"):tt=Je.language,null!=Je.outputType&&(nt=Je.outputType),null!=Je.outputLanguage&&(it=Je.outputLanguage),Qe=new u("secondModel",!("etl"==tt||"flock"==tt),lt),et=new f("thirdModel",tt,nt,it),(new h).create("navview-content",tt),mt=[ot,rt,ht,ct,at,Qe,lt,et],"egl"==tt||"egx"==tt?"dot"==nt?(et.showDiagram(),et.setTitleAndIcon("Graphviz","diagram")):"html"==nt?(et.showDiagram(),et.setTitleAndIcon("HTML","html")):"puml"==nt?(et.showDiagram(),et.setTitleAndIcon("PlantUML","diagram")):"code"==nt&&($("#thirdModelDiagram").hide(),$("#thirdModelEditor").show(),et.setTitleAndIcon("Generated Text","editor")):"etl"==tt||"flock"==tt?($("#secondModelDiagram").show(),$("#secondModelEditor").hide(),ct.setTitle("Source Model"),at.setTitle("Source Metamodel"),Qe.setTitle("Target Model"),lt.setTitle("Target Metamodel"),Qe.setIcon("diagram")):"evl"!=tt&&"epl"!=tt||($("#thirdModelDiagram").show(),"evl"==tt?et.setTitleAndIcon("Problems","problems"):et.setTitleAndIcon("Pattern Matches","diagram")),ot.setLanguage(tt),"egx"==tt&&rt.setLanguage("egl"),ot.setValue(Je.program),rt.setValue(Je.secondProgram),ct.setValue(Je.flexmi),at.setValue(Je.emfatic),Qe.setValue(Je.secondFlexmi),lt.setValue(Je.secondEmfatic),document.getElementById("navview").style.display="block",document.addEventListener("click",(function(e){e.target==document.getElementById("toggleNavViewPane")&&setTimeout((function(){wt()}),1e3)})),$(window).keydown((function(e){(e.metaKey&&83==e.keyCode||e.ctrlKey&&83==e.keyCode)&&(bt(),e.preventDefault())})),Metro.init(),gt.openActiveExamplesSubMenu(),wt(),window.fit=wt,window.updateGutterVisibility=xt,window.runProgram=bt,window.programPanel=ot,window.secondProgramPanel=rt,window.consolePanel=ht,window.firstModelPanel=ct,window.secondModelPanel=Qe,window.thirdModelPanel=et,window.firstMetamodelPanel=at,window.secondMetamodelPanel=lt,window.panels=mt,window.backend=ft,window.toggle=function(e,t){var n=document.getElementById(e);null!=n&&("none"==getComputedStyle(n).display?(n.style.display="flex",0==n.innerHTML.length&&t()):n.style.display="none",xt())},window.renderDiagram=Ct,window.longNotification=yt,window.showDownloadOptions=function(e){ut.show(e)},window.showSettings=function(e){dt.show(e)},window.copyShortenedLink=function(e){e.preventDefault();var t=btoa(vt()),n=new XMLHttpRequest;n.open("POST",ft.getShortURLService(),!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){if(4===n.readyState){if(200===n.status){var e=JSON.parse(n.responseText);if(st>0)var t=(window.location+"").substring(0,st);else t=window.location;Metro.notify.killAll(),Metro.dialog.create({title:"Share link",content:"<p>The link below contains a snapshot of the contents of all the editors in the playground. Anyone who visits this link should be able to view and run your example.</p><br/> <input style='width:100%' value='"+t+"?"+e.shortened+"'>",closeButton:!0,actions:[{caption:"Copy to clipboard",cls:"js-dialog-close success",onclick:function(){var n,i;n=t+"?"+e.shortened,(i=document.createElement("textarea")).value=n,document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)}}]})}Metro.notify.killAll()}};var i=JSON.stringify({content:t});return n.send(i),yt("Generating short link"),!1},window.downloadDialog=ut,window.language=tt,window.getPanelTitle=function(e){return $("#"+e)[0].dataset.titleCaption}})()})();